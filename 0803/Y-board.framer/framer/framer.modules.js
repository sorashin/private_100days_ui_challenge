require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"BodymovinLayer":[function(require,module,exports){

/*
BodymovinLayer
-
Implementation of Hernan Torrisi's "Bodymovin" plugin, for Framer.
by @72mena
 */
var insertScript,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

insertScript = function(localScript, webScript, name) {
  var e, head, lib, script;
  if (name == null) {
    name = 'JavaScript Library';
  }
  try {
    lib = Utils.domLoadDataSync(localScript);
    console.log("%c" + name + " Successfully Included Locally", "background: #DDFFE3; color: #007814");
  } catch (error) {
    e = error;
    try {
      lib = Utils.domLoadDataSync(webScript);
      console.log("%c" + name + " Successfully Included from Web", "background: #DDFFE3; color: #007814");
    } catch (error) {
      e = error;
      throw Error("Sorry, I couldn't load " + name);
    }
  }
  script = document.createElement("script");
  script.type = "text/javascript";
  script.innerHTML = lib;
  head = document.getElementsByTagName("head")[0];
  head.appendChild(script);
  return script;
};

insertScript("modules/bodymovin.min.js", "https://raw.githubusercontent.com/bodymovin/bodymovin/master/build/player/bodymovin.min.js", "Bodymovin Library");

exports.BodymovinLayer = (function(superClass) {
  extend(BodymovinLayer, superClass);

  BodymovinLayer.define("speed", {
    get: function() {
      return this._properties["speed"];
    },
    set: function(value) {
      this._properties["speed"] = value;
      if (this.built) {
        this.setSpeed(value);
      }
      return this.emit("change:speed");
    }
  });

  BodymovinLayer.define("direction", {
    get: function() {
      return this._properties["direction"];
    },
    set: function(value) {
      this._properties["direction"] = value;
      if (this.built) {
        this.setDirection(value);
      }
      return this.emit("change:direction");
    }
  });

  BodymovinLayer.define("path", {
    get: function() {
      return this._properties["path"];
    },
    set: function(value) {
      this._properties["path"] = value;
      if (this.built) {
        this.setSettings();
      }
      return this.emit("change:path");
    }
  });

  function BodymovinLayer(options) {
    var base, base1, base2, base3, base4, base5, base6;
    this.options = options != null ? options : {};
    if ((base = this.options).backgroundColor == null) {
      base.backgroundColor = null;
    }
    if ((base1 = this.options).path == null) {
      base1.path = null;
    }
    if ((base2 = this.options).autoplay == null) {
      base2.autoplay = true;
    }
    if ((base3 = this.options).loop == null) {
      base3.loop = true;
    }
    if ((base4 = this.options).speed == null) {
      base4.speed = 1;
    }
    if ((base5 = this.options).direction == null) {
      base5.direction = 1;
    }
    if ((base6 = this.options).renderer == null) {
      base6.renderer = "svg";
    }
    BodymovinLayer.__super__.constructor.call(this, this.options);
    if (this.options.path === null) {
      print("From BodymovinLayer: Setting a path to your json file is required.");
    }
    if (this.name === "") {
      print("From BodymovinLayer: The 'name' attribute is required.");
    }
    this.autoplay = this.options.autoplay;
    this.loop = this.options.loop;
    this.renderer = this.options.renderer;
    this.built = false;
    this._animationLayer = null;
    this.build();
  }

  BodymovinLayer.prototype.build = function() {
    this.html = '<div id=' + ("" + this.name) + '></div>';
    this.setSettings();
    return this.built = true;
  };

  BodymovinLayer.prototype.setSettings = function() {
    var _container, bodymovinSettings;
    _container = document.getElementById(this.name);
    _container.innerHTML = "";
    bodymovinSettings = {
      container: _container,
      path: this.path,
      renderer: this.renderer,
      autoplay: this.autoplay,
      loop: this.loop
    };
    this._animationLayer = bodymovin.loadAnimation(bodymovinSettings);
    this.setSpeed();
    return this.setDirection();
  };

  BodymovinLayer.prototype.play = function() {
    return this._animationLayer.play();
  };

  BodymovinLayer.prototype.stop = function() {
    return this._animationLayer.stop();
  };

  BodymovinLayer.prototype.pause = function() {
    return this._animationLayer.pause();
  };

  BodymovinLayer.prototype.goToAndPlay = function(value, isFrame) {
    if (isFrame == null) {
      isFrame = true;
    }
    return this._animationLayer.goToAndPlay(value, isFrame);
  };

  BodymovinLayer.prototype.goToAndStop = function(value, isFrame) {
    if (isFrame == null) {
      isFrame = true;
    }
    return this._animationLayer.goToAndStop(value, isFrame);
  };

  BodymovinLayer.prototype.playSegments = function(segments, forceFlag) {
    if (forceFlag == null) {
      forceFlag = true;
    }
    return this._animationLayer.playSegments(segments, forceFlag);
  };

  BodymovinLayer.prototype.setSpeed = function(speed) {
    if (speed == null) {
      speed = this.speed;
    }
    return this._animationLayer.setSpeed(speed);
  };

  BodymovinLayer.prototype.setDirection = function(direction) {
    if (direction == null) {
      direction = this.direction;
    }
    return this._animationLayer.setDirection(direction);
  };

  return BodymovinLayer;

})(Layer);


},{}],"bodymovin-min":[function(require,module,exports){
var window="undefined"==typeof window?{}:window;!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.bodymovin=e()}(window,function(){function ProjectInterface(){return{}}function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function roundTo2Decimals(t){return Math.round(1e4*t)/1e4}function roundTo3Decimals(t){return Math.round(100*t)/100}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(t){t.style.userSelect="none",t.style.MozUserSelect="none",t.style.webkitUserSelect="none",t.style.oUserSelect="none"}function BMEnterFrameEvent(t,e,s,r){this.type=t,this.currentTime=e,this.totalTime=s,this.direction=0>r?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=0>e?-1:1}function BMCompleteLoopEvent(t,e,s,r){this.type=t,this.currentLoop=e,this.totalLoops=s,this.direction=0>r?-1:1}function BMSegmentStartEvent(t,e,s){this.type=t,this.firstFrame=e,this.totalFrames=s}function BMDestroyEvent(t,e){this.type=t,this.target=e}function _addEventListener(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)}function _removeEventListener(t,e){if(e){if(this._cbs[t]){for(var s=0,r=this._cbs[t].length;r>s;)this._cbs[t][s]===e&&(this._cbs[t].splice(s,1),s-=1,r-=1),s+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}function _triggerEvent(t,e){if(this._cbs[t])for(var s=this._cbs[t].length,r=0;s>r;r++)this._cbs[t][r](e)}function randomString(t,e){void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var s,r="";for(s=t;s>0;--s)r+=e[Math.round(Math.random()*(e.length-1))];return r}function HSVtoRGB(t,e,s){var r,i,a,n,o,h,l,p;switch(1===arguments.length&&(e=t.s,s=t.v,t=t.h),n=Math.floor(6*t),o=6*t-n,h=s*(1-e),l=s*(1-o*e),p=s*(1-(1-o)*e),n%6){case 0:r=s,i=p,a=h;break;case 1:r=l,i=s,a=h;break;case 2:r=h,i=s,a=p;break;case 3:r=h,i=l,a=s;break;case 4:r=p,i=h,a=s;break;case 5:r=s,i=h,a=l}return[r,i,a]}function RGBtoHSV(t,e,s){1===arguments.length&&(e=t.g,s=t.b,t=t.r);var r,i=Math.max(t,e,s),a=Math.min(t,e,s),n=i-a,o=0===i?0:n/i,h=i/255;switch(i){case a:r=0;break;case t:r=e-s+n*(s>e?6:0),r/=6*n;break;case e:r=s-t+2*n,r/=6*n;break;case s:r=t-e+4*n,r/=6*n}return[r,o,h]}function addSaturationToRGB(t,e){var s=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return s[1]+=e,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),HSVtoRGB(s[0],s[1],s[2])}function addBrightnessToRGB(t,e){var s=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return s[2]+=e,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),HSVtoRGB(s[0],s[1],s[2])}function addHueToRGB(t,e){var s=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return s[0]+=e/360,s[0]>1?s[0]-=1:s[0]<0&&(s[0]+=1),HSVtoRGB(s[0],s[1],s[2])}function componentToHex(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function fillToRgba(t,e){if(!cachedColors[t]){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);cachedColors[t]=parseInt(s[1],16)+","+parseInt(s[2],16)+","+parseInt(s[3],16)}return"rgba("+cachedColors[t]+","+e+")"}function RenderedFrame(t,e){this.tr=t,this.o=e}function LetterProps(t,e,s,r,i,a){this.o=t,this.sw=e,this.sc=s,this.fc=r,this.m=i,this.props=a}function iterateDynamicProperties(t){var e,s=this.dynamicProperties;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(t)}function reversePath(t){var e,s,r=[],i=[],a=[],n={},o=0;t.c&&(r[0]=t.o[0],i[0]=t.i[0],a[0]=t.v[0],o=1),s=t.i.length;var h=s-1;for(e=o;s>e;e+=1)r.push(t.o[h]),i.push(t.i[h]),a.push(t.v[h]),h-=1;return n.i=r,n.o=i,n.v=a,n}function Matrix(){}function matrixManagerFunction(){var t=new Matrix,e=function(e,s,r,i,a){return t.reset().translate(i,a).rotate(e).scale(s,r).toCSS()},s=function(t){return e(t.tr.r[2],t.tr.s[0],t.tr.s[1],t.tr.p[0],t.tr.p[1])};return{getMatrix:s}}function createElement(t,e,s){if(!e){var r=Object.create(t.prototype,s),i={};return r&&"[object Function]"===i.toString.call(r.init)&&r.init(),r}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype._parent=t.prototype}function extendPrototype(t,e){for(var s in t.prototype)t.prototype.hasOwnProperty(s)&&(e.prototype[s]=t.prototype[s])}function bezFunction(){function t(t,e,s,r,i,a){var n=t*r+e*i+s*a-i*r-a*t-s*e;return n>-1e-4&&1e-4>n}function e(e,s,r,i,a,n,o,h,l){if(0===r&&0===n&&0===l)return t(e,s,i,a,o,h);var p,m=Math.sqrt(Math.pow(i-e,2)+Math.pow(a-s,2)+Math.pow(n-r,2)),f=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-s,2)+Math.pow(l-r,2)),c=Math.sqrt(Math.pow(o-i,2)+Math.pow(h-a,2)+Math.pow(l-n,2));return p=m>f?m>c?m-f-c:c-f-m:c>f?c-f-m:f-m-c,p>-1e-4&&1e-4>p}function s(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}function i(t,e){var s=e.segments,r=s.length,i=bm_floor((r-1)*t),a=t*e.addedLength,n=0;if(a==s[i].l)return s[i].p;for(var o=s[i].l>a?-1:1,h=!0;h;)s[i].l<=a&&s[i+1].l>a?(n=(a-s[i].l)/(s[i+1].l-s[i].l),h=!1):i+=o,(0>i||i>=r-1)&&(h=!1);return s[i].p+(s[i+1].p-s[i].p)*n}function a(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}function n(t,e,s,r,n,o,h){var l=new a;n=0>n?0:n>1?1:n;var p=i(n,h);o=o>1?1:o;var m,f=i(o,h),c=t.length,d=1-p,u=1-f;for(m=0;c>m;m+=1)l.pt1[m]=Math.round(1e3*(d*d*d*t[m]+(p*d*d+d*p*d+d*d*p)*s[m]+(p*p*d+d*p*p+p*d*p)*r[m]+p*p*p*e[m]))/1e3,l.pt3[m]=Math.round(1e3*(d*d*u*t[m]+(p*d*u+d*p*u+d*d*f)*s[m]+(p*p*u+d*p*f+p*d*f)*r[m]+p*p*f*e[m]))/1e3,l.pt4[m]=Math.round(1e3*(d*u*u*t[m]+(p*u*u+d*f*u+d*u*f)*s[m]+(p*f*u+d*f*f+p*u*f)*r[m]+p*f*f*e[m]))/1e3,l.pt2[m]=Math.round(1e3*(u*u*u*t[m]+(f*u*u+u*f*u+u*u*f)*s[m]+(f*f*u+u*f*f+f*u*f)*r[m]+f*f*f*e[m]))/1e3;return l}var o=(Math,function(){function t(t,e){this.l=t,this.p=e}return function(e,s,r,i){var a,n,o,h,l,p,m=defaultCurveSegments,f=0,c=[],d=[],u={addedLength:0,segments:[]};for(o=r.length,a=0;m>a;a+=1){for(l=a/(m-1),p=0,n=0;o>n;n+=1)h=bm_pow(1-l,3)*e[n]+3*bm_pow(1-l,2)*l*r[n]+3*(1-l)*bm_pow(l,2)*i[n]+bm_pow(l,3)*s[n],c[n]=h,null!==d[n]&&(p+=bm_pow(c[n]-d[n],2)),d[n]=c[n];p&&(p=bm_sqrt(p),f+=p),u.segments.push(new t(f,l))}return u.addedLength=f,u}}()),h=function(){var e={};return function(i){var a=i.s,n=i.e,o=i.to,h=i.ti,l=(a.join("_")+"_"+n.join("_")+"_"+o.join("_")+"_"+h.join("_")).replace(/\./g,"p");if(e[l])return void(i.bezierData=e[l]);var p,m,f,c,d,u,y,g=defaultCurveSegments,v=0,b=null;2===a.length&&(a[0]!=n[0]||a[1]!=n[1])&&t(a[0],a[1],n[0],n[1],a[0]+o[0],a[1]+o[1])&&t(a[0],a[1],n[0],n[1],n[0]+h[0],n[1]+h[1])&&(g=2);var E=new s(g);for(f=o.length,p=0;g>p;p+=1){for(y=new Array(f),d=p/(g-1),u=0,m=0;f>m;m+=1)c=bm_pow(1-d,3)*a[m]+3*bm_pow(1-d,2)*d*(a[m]+o[m])+3*(1-d)*bm_pow(d,2)*(n[m]+h[m])+bm_pow(d,3)*n[m],y[m]=c,null!==b&&(u+=bm_pow(y[m]-b[m],2));u=bm_sqrt(u),v+=u,E.points[p]=new r(u,y),b=y}E.segmentLength=v,i.bezierData=E,e[l]=E}}();return{getBezierLength:o,getNewSegment:n,buildBezierData:h,pointOnLine2D:t,pointOnLine3D:e}}function dataFunctionManager(){function t(i,a,o){var h,l,p,m,f,c,d,u,y=i.length;for(m=0;y>m;m+=1)if(h=i[m],"ks"in h&&!h.completed){if(h.completed=!0,h.tt&&(i[m-1].td=h.tt),l=[],p=-1,h.hasMask){var g=h.masksProperties;for(c=g.length,f=0;c>f;f+=1)if(g[f].pt.k.i)r(g[f].pt.k);else for(u=g[f].pt.k.length,d=0;u>d;d+=1)g[f].pt.k[d].s&&r(g[f].pt.k[d].s[0]),g[f].pt.k[d].e&&r(g[f].pt.k[d].e[0])}0===h.ty?(h.layers=e(h.refId,a),t(h.layers,a,o)):4===h.ty?s(h.shapes):5==h.ty&&n(h,o)}}function e(t,e){for(var s=0,r=e.length;r>s;){if(e[s].id===t)return e[s].layers.__used?JSON.parse(JSON.stringify(e[s].layers)):(e[s].layers.__used=!0,e[s].layers);s+=1}}function s(t){var e,i,a,n=t.length,o=!1;for(e=n-1;e>=0;e-=1)if("sh"==t[e].ty){if(t[e].ks.k.i)r(t[e].ks.k);else for(a=t[e].ks.k.length,i=0;a>i;i+=1)t[e].ks.k[i].s&&r(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&r(t[e].ks.k[i].e[0]);o=!0}else"gr"==t[e].ty&&s(t[e].it)}function r(t){var e,s=t.i.length;for(e=0;s>e;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var s=e?e.split("."):[100,100,100];return t[0]>s[0]?!0:s[0]>t[0]?!1:t[1]>s[1]?!0:s[1]>t[1]?!1:t[2]>s[2]?!0:s[2]>t[2]?!1:void 0}function a(e,s){e.__complete||(l(e),o(e),h(e),p(e),t(e.layers,e.assets,s),e.__complete=!0)}function n(t,e){var s,r,i=t.t.d.k,a=i.length;for(r=0;a>r;r+=1){var n=t.t.d.k[r].s;s=[];var o,h,l,p,m,f,c,d=0,u=t.t.m.g,y=0,g=0,v=0,b=[],E=0,P=0,S=e.getFontByName(n.f),x=0,C=S.fStyle.split(" "),k="normal",M="normal";for(h=C.length,o=0;h>o;o+=1)"italic"===C[o].toLowerCase()?M="italic":"bold"===C[o].toLowerCase()?k="700":"black"===C[o].toLowerCase()?k="900":"medium"===C[o].toLowerCase()?k="500":"regular"===C[o].toLowerCase()||"normal"===C[o].toLowerCase()?k="400":("light"===C[o].toLowerCase()||"thin"===C[o].toLowerCase())&&(k="200");if(n.fWeight=k,n.fStyle=M,h=n.t.length,n.sz){var A=n.sz[0],D=-1;for(o=0;h>o;o+=1)l=!1," "===n.t.charAt(o)?D=o:13===n.t.charCodeAt(o)&&(E=0,l=!0),e.chars?(c=e.getCharData(n.t.charAt(o),S.fStyle,S.fFamily),x=l?0:c.w*n.s/100):x=e.measureText(n.t.charAt(o),n.f,n.s),E+x>A?(-1===D?(n.t=n.t.substr(0,o)+"\r"+n.t.substr(o),h+=1):(o=D,n.t=n.t.substr(0,o)+"\r"+n.t.substr(o+1)),D=-1,E=0):E+=x;h=n.t.length}for(E=0,x=0,o=0;h>o;o+=1)if(l=!1," "===n.t.charAt(o)?p="\xa0":13===n.t.charCodeAt(o)?(b.push(E),P=E>P?E:P,E=0,p="",l=!0,v+=1):p=n.t.charAt(o),e.chars?(c=e.getCharData(n.t.charAt(o),S.fStyle,e.getFontByName(n.f).fFamily),x=l?0:c.w*n.s/100):x=e.measureText(p,n.f,n.s),E+=x,s.push({l:x,an:x,add:y,n:l,anIndexes:[],val:p,line:v}),2==u){if(y+=x,""==p||"\xa0"==p||o==h-1){for((""==p||"\xa0"==p)&&(y-=x);o>=g;)s[g].an=y,s[g].ind=d,s[g].extra=x,g+=1;d+=1,y=0}}else if(3==u){if(y+=x,""==p||o==h-1){for(""==p&&(y-=x);o>=g;)s[g].an=y,s[g].ind=d,s[g].extra=x,g+=1;y=0,d+=1}}else s[d].ind=d,s[d].extra=0,d+=1;if(n.l=s,P=E>P?E:P,b.push(E),n.sz)n.boxWidth=n.sz[0],n.justifyOffset=0;else switch(n.boxWidth=P,n.j){case 1:n.justifyOffset=-n.boxWidth;break;case 2:n.justifyOffset=-n.boxWidth/2;break;default:n.justifyOffset=0}n.lineWidths=b;var w=t.t.a;f=w.length;var T,F,I=[];for(m=0;f>m;m+=1){for(w[m].a.sc&&(n.strokeColorAnim=!0),w[m].a.sw&&(n.strokeWidthAnim=!0),(w[m].a.fc||w[m].a.fh||w[m].a.fs||w[m].a.fb)&&(n.fillColorAnim=!0),F=0,T=w[m].s.b,o=0;h>o;o+=1)s[o].anIndexes[m]=F,(1==T&&""!=s[o].val||2==T&&""!=s[o].val&&"\xa0"!=s[o].val||3==T&&(s[o].n||"\xa0"==s[o].val||o==h-1)||4==T&&(s[o].n||o==h-1))&&(1===w[m].s.rn&&I.push(F),F+=1);t.t.a[m].s.totalChars=F;var _,V=-1;if(1===w[m].s.rn)for(o=0;h>o;o+=1)V!=s[o].anIndexes[m]&&(V=s[o].anIndexes[m],_=I.splice(Math.floor(Math.random()*I.length),1)[0]),s[o].anIndexes[m]=_}0!==f||"m"in t.t.p||(t.singleShape=!0),n.yOffset=n.lh||1.2*n.s,n.ls=n.ls||0,n.ascent=S.ascent*n.s/100}}var o=function(){function t(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function e(e){var s,r=e.length;for(s=0;r>s;s+=1)5===e[s].ty&&t(e[s])}var s=[4,4,14];return function(t){if(i(s,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;a>r;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),h=function(){var t=[4,7,99];return function(e){if(e.chars&&!i(t,e.v)){var s,a,n,o,h,l=e.chars.length;for(s=0;l>s;s+=1)if(e.chars[s].data&&e.chars[s].data.shapes)for(h=e.chars[s].data.shapes[0].it,n=h.length,a=0;n>a;a+=1)o=h[a].ks.k,r(h[a].ks.k)}}}(),l=function(){function t(e){var s,r,i,a=e.length;for(s=0;a>s;s+=1)if("gr"===e[s].ty)t(e[s].it);else if("fl"===e[s].ty||"st"===e[s].ty)if(e[s].c.k&&e[s].c.k[0].i)for(i=e[s].c.k.length,r=0;i>r;r+=1)e[s].c.k[r].s&&(e[s].c.k[r].s[0]/=255,e[s].c.k[r].s[1]/=255,e[s].c.k[r].s[2]/=255,e[s].c.k[r].s[3]/=255),e[s].c.k[r].e&&(e[s].c.k[r].e[0]/=255,e[s].c.k[r].e[1]/=255,e[s].c.k[r].e[2]/=255,e[s].c.k[r].e[3]/=255);else e[s].c.k[0]/=255,e[s].c.k[1]/=255,e[s].c.k[2]/=255,e[s].c.k[3]/=255}function e(e){var s,r=e.length;for(s=0;r>s;s+=1)4===e[s].ty&&t(e[s].shapes)}var s=[4,1,9];return function(t){if(i(s,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;a>r;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),p=function(){function t(e){var s,r,i,a=e.length,n=!1;for(s=a-1;s>=0;s-=1)if("sh"==e[s].ty){if(e[s].ks.k.i)e[s].ks.k.c=e[s].closed;else for(i=e[s].ks.k.length,r=0;i>r;r+=1)e[s].ks.k[r].s&&(e[s].ks.k[r].s[0].c=e[s].closed),e[s].ks.k[r].e&&(e[s].ks.k[r].e[0].c=e[s].closed);n=!0}else"gr"==e[s].ty&&t(e[s].it)}function e(e){var s,r,i,a,n,o,h=e.length;for(r=0;h>r;r+=1){if(s=e[r],s.hasMask){var l=s.masksProperties;for(a=l.length,i=0;a>i;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(o=l[i].pt.k.length,n=0;o>n;n+=1)l[i].pt.k[n].s&&(l[i].pt.k[n].s[0].c=l[i].cl),l[i].pt.k[n].e&&(l[i].pt.k[n].e[0].c=l[i].cl)}4===s.ty&&t(s.shapes)}}var s=[4,4,18];return function(t){if(i(s,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;a>r;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),m={};return m.completeData=a,m}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=Array.apply(null,{length:this._maxLength}),this.o=Array.apply(null,{length:this._maxLength}),this.i=Array.apply(null,{length:this._maxLength})}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=Array.apply(null,{length:this._maxLength})}function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:e&&e.hideOnTransparent===!1?!1:!0},this.globalData.renderConfig=this.renderConfig,this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(t,e,s){this.dynamicProperties=[],this.data=t,this.element=e,this.globalData=s,this.paths=[],this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length),this.maskElement=null,this.firstFrame=!0;var r,i,a,n,o,h,l,p,m=this.globalData.defs,f=this.masksProperties.length,c=this.masksProperties,d=0,u=[],y=randomString(10),g="clipPath",v="clip-path";for(r=0;f>r;r++)if(("a"!==c[r].mode&&"n"!==c[r].mode||c[r].inv||100!==c[r].o.k)&&(g="mask",v="mask"),"s"!=c[r].mode&&"i"!=c[r].mode||0!=d?o=null:(o=document.createElementNS(svgNS,"rect"),o.setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w),o.setAttribute("height",this.element.comp.data.h),u.push(o)),i=document.createElementNS(svgNS,"path"),"n"!=c[r].mode){if(d+=1,"s"==c[r].mode?i.setAttribute("fill","#000000"):i.setAttribute("fill","#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==c[r].x.k){g="mask",v="mask",p=PropertyFactory.getProp(this.element,c[r].x,0,null,this.dynamicProperties);var b="fi_"+randomString(10);h=document.createElementNS(svgNS,"filter"),h.setAttribute("id",b),l=document.createElementNS(svgNS,"feMorphology"),l.setAttribute("operator","dilate"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),h.appendChild(l),m.appendChild(h),"s"==c[r].mode?i.setAttribute("stroke","#000000"):i.setAttribute("stroke","#ffffff")}else l=null,p=null;if(this.storedData[r]={elem:i,x:p,expan:l,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==c[r].mode){n=u.length;var E=document.createElementNS(svgNS,"g");for(a=0;n>a;a+=1)E.appendChild(u[a]);var P=document.createElementNS(svgNS,"mask");P.setAttribute("mask-type","alpha"),P.setAttribute("id",y+"_"+d),P.appendChild(i),m.appendChild(P),E.setAttribute("mask","url(#"+y+"_"+d+")"),u.length=0,u.push(E)}else u.push(i);c[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,c[r].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,c[r],3,this.dynamicProperties,null)},o&&(this.viewData[r].invRect=o),this.viewData[r].prop.k||this.drawPath(c[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,c[r].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,c[r],3,this.dynamicProperties,null),elem:i},m.appendChild(i);for(this.maskElement=document.createElementNS(svgNS,g),f=u.length,r=0;f>r;r+=1)this.maskElement.appendChild(u[r]);this.maskElement.setAttribute("id",y),d>0&&this.element.maskedElement.setAttribute(v,"url(#"+y+")"),m.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(t,e,s,r,i){this.globalData=s,this.comp=r,this.data=t,this.matteElement=null,this.transformedElement=null,this.isTransparent=!1,this.parentContainer=e,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this.init()}function IShapeElement(t,e,s,r,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,s,r,i)}function ITextElement(t,e,s,r){}function SVGTextElement(t,e,s,r,i){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,t,e,s,r,i)}function SVGTintFilter(t,e){this.filterManager=e;var s=document.createElementNS(svgNS,"feColorMatrix");if(s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),s.setAttribute("result","f1"),t.appendChild(s),s=document.createElementNS(svgNS,"feColorMatrix"),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result","f2"),t.appendChild(s),this.matrixFilter=s,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r=document.createElementNS(svgNS,"feMerge");t.appendChild(r);var i;i=document.createElementNS(svgNS,"feMergeNode"),i.setAttribute("in","SourceGraphic"),r.appendChild(i),i=document.createElementNS(svgNS,"feMergeNode"),i.setAttribute("in","f2"),r.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var s=document.createElementNS(svgNS,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(s),this.matrixFilter=s}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var s=document.createElementNS(svgNS,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),s.setAttribute("result","f1"),t.appendChild(s);var r=document.createElementNS(svgNS,"feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var i=document.createElementNS(svgNS,"feFuncR");i.setAttribute("type","table"),r.appendChild(i),this.feFuncR=i;var a=document.createElementNS(svgNS,"feFuncG");a.setAttribute("type","table"),r.appendChild(a),this.feFuncG=a;var n=document.createElementNS(svgNS,"feFuncB");n.setAttribute("type","table"),r.appendChild(n),this.feFuncB=n}function SVGProLevelsFilter(t,e){this.filterManager=e;var s=this.filterManager.effectElements,r=document.createElementNS(svgNS,"feComponentTransfer");(s[9].p.k||0!==s[9].p.v||s[10].p.k||1!==s[10].p.v||s[11].p.k||1!==s[11].p.v||s[12].p.k||0!==s[12].p.v||s[13].p.k||1!==s[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(s[16].p.k||0!==s[16].p.v||s[17].p.k||1!==s[17].p.v||s[18].p.k||1!==s[18].p.v||s[19].p.k||0!==s[19].p.v||s[20].p.k||1!==s[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(s[23].p.k||0!==s[23].p.v||s[24].p.k||1!==s[24].p.v||s[25].p.k||1!==s[25].p.v||s[26].p.k||0!==s[26].p.v||s[27].p.k||1!==s[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(s[30].p.k||0!==s[30].p.v||s[31].p.k||1!==s[31].p.v||s[32].p.k||1!==s[32].p.v||s[33].p.k||0!==s[33].p.v||s[34].p.k||1!==s[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=document.createElementNS(svgNS,"feComponentTransfer")),(s[2].p.k||0!==s[2].p.v||s[3].p.k||1!==s[3].p.v||s[4].p.k||1!==s[4].p.v||s[5].p.k||0!==s[5].p.v||s[6].p.k||1!==s[6].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var s=document.createElementNS(svgNS,"feGaussianBlur");s.setAttribute("in","SourceAlpha"),s.setAttribute("result","drop_shadow_1"),s.setAttribute("stdDeviation","0"),this.feGaussianBlur=s,t.appendChild(s);var r=document.createElementNS(svgNS,"feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var i=document.createElementNS(svgNS,"feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,t.appendChild(i);var a=document.createElementNS(svgNS,"feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var n=document.createElementNS(svgNS,"feMerge");t.appendChild(n);var o;o=document.createElementNS(svgNS,"feMergeNode"),n.appendChild(o),o=document.createElementNS(svgNS,"feMergeNode"),o.setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=n,this.originalNodeAdded=!1,n.appendChild(o)}function SVGMatte3Effect(t,e,s){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=s,s.matteElement=document.createElementNS(svgNS,"g"),s.matteElement.appendChild(s.layerElement),s.matteElement.appendChild(s.transformedElement),s.baseElement=s.matteElement}function SVGEffects(t){var e,s=t.data.ef.length,r=randomString(10),i=filtersFactory.createFilter(r),a=0;this.filters=[];var n;for(e=0;s>e;e+=1)20===t.data.ef[e].ty?(a+=1,n=new SVGTintFilter(i,t.effects.effectElements[e]),this.filters.push(n)):21===t.data.ef[e].ty?(a+=1,n=new SVGFillFilter(i,t.effects.effectElements[e]),this.filters.push(n)):22===t.data.ef[e].ty?(n=new SVGStrokeEffect(t,t.effects.effectElements[e]),this.filters.push(n)):23===t.data.ef[e].ty?(a+=1,n=new SVGTritoneFilter(i,t.effects.effectElements[e]),this.filters.push(n)):24===t.data.ef[e].ty?(a+=1,n=new SVGProLevelsFilter(i,t.effects.effectElements[e]),this.filters.push(n)):25===t.data.ef[e].ty?(a+=1,n=new SVGDropShadowEffect(i,t.effects.effectElements[e]),this.filters.push(n)):28===t.data.ef[e].ty&&(n=new SVGMatte3Effect(i,t.effects.effectElements[e],t),this.filters.push(n));a&&(t.globalData.defs.appendChild(i),t.layerElement.setAttribute("filter","url(#"+r+")"))}function ICompElement(t,e,s,r,i){this._parent.constructor.call(this,t,e,s,r,i),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,s.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):s.progressiveLoad||this.buildAllItems()}function IImageElement(t,e,s,r,i){this.assetData=s.getAssetData(t.refId),this._parent.constructor.call(this,t,e,s,r,i)}function ISolidElement(t,e,s,r,i){this._parent.constructor.call(this,t,e,s,r,i)}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&void 0!==e.clearCanvas?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet"},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var s,r=15;for(s=0;r>s;s+=1)this.contextData.saved[s]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(t){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(t,e,s){this.globalData=s,this.data=t,this.comp=e,this.canvasContext=s.canvasContext,this.init()}function CVCompElement(t,e,s){this._parent.constructor.call(this,t,e,s);var r={};for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);r.renderer=this,r.compHeight=this.data.h,r.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var a,n=15;for(a=0;n>a;a+=1)this.contextData.saved[a]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var o=document.createElement("canvas");r.canvasContext=o.getContext("2d"),this.canvasContext=r.canvasContext,o.width=this.data.w,o.height=this.data.h,this.canvas=o,this.globalData=r,this.layers=t.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,s.frameRate,this.dynamicProperties)),(this.data.xt||!s.progressiveLoad)&&this.buildAllItems()}function CVImageElement(t,e,s){this.assetData=s.getAssetData(t.refId),this._parent.constructor.call(this,t,e,s),this.globalData.addPendingElement()}function CVMaskElement(t,e){this.data=t,this.element=e,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length);var s,r=this.masksProperties.length;for(s=0;r>s;s++)this.viewData[s]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[s],3,this.dynamicProperties,null)}function CVShapeElement(t,e,s){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,s)}function CVSolidElement(t,e,s){this._parent.constructor.call(this,t,e,s)}function CVTextElement(t,e,s){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,t,e,s)}function HBaseElement(t,e,s,r,i){this.globalData=s,this.comp=r,this.data=t,this.matteElement=null,this.parentContainer=e,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this.init()}function HSolidElement(t,e,s,r,i){this._parent.constructor.call(this,t,e,s,r,i)}function HCompElement(t,e,s,r,i){this._parent.constructor.call(this,t,e,s,r,i),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,s.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(t,e,s,r,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,s,r,i),this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,s,r,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,t,e,s,r,i)}function HImageElement(t,e,s,r,i){this.assetData=s.getAssetData(t.refId),this._parent.constructor.call(this,t,e,s,r,i)}function HCameraElement(t,e,s,r,i){if(this._parent.constructor.call(this,t,e,s,r,i),this.pe=PropertyFactory.getProp(this,t.pe,0,0,this.dynamicProperties),t.ks.p.s?(this.px=PropertyFactory.getProp(this,t.ks.p.x,1,0,this.dynamicProperties),this.py=PropertyFactory.getProp(this,t.ks.p.y,1,0,this.dynamicProperties),this.pz=PropertyFactory.getProp(this,t.ks.p.z,1,0,this.dynamicProperties)):this.p=PropertyFactory.getProp(this,t.ks.p,1,0,this.dynamicProperties),t.ks.a&&(this.a=PropertyFactory.getProp(this,t.ks.a,1,0,this.dynamicProperties)),t.ks.or.k.length&&t.ks.or.k[0].to){var a,n=t.ks.or.k.length;for(a=0;n>a;a+=1)t.ks.or.k[a].to=null,t.ks.or.k[a].ti=null}this.or=PropertyFactory.getProp(this,t.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=PropertyFactory.getProp(this,t.ks.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(this,t.ks.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(this,t.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,0,0,s)}function AngleEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,0,0,s)}function ColorEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,1,0,s)}function PointEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,1,0,s)}function LayerIndexEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,0,0,s)}function MaskIndexEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,0,0,s)}function CheckboxEffect(t,e,s){this.p=PropertyFactory.getProp(e,t.v,0,0,s)}function NoValueEffect(){this.p={}}function EffectsManager(t,e,s){var r=t.ef;this.effectElements=[];var i,a,n=r.length;for(i=0;n>i;i++)a=new GroupEffect(r[i],e,s),this.effectElements.push(a)}function GroupEffect(t,e,s){this.dynamicProperties=[],this.init(t,e,this.dynamicProperties),this.dynamicProperties.length&&s.push(this)}function play(t){animationManager.play(t)}function pause(t){animationManager.pause(t)}function togglePause(t){animationManager.togglePause(t)}function setSpeed(t,e){animationManager.setSpeed(t,e)}function setDirection(t,e){animationManager.setDirection(t,e)}function stop(t){animationManager.stop(t)}function moveFrame(t){animationManager.moveFrame(t)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(t){return animationManager.registerAnimation(t)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(t,e,s){animationManager.goToAndStop(t,e,s)}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function destroy(t){return animationManager.destroy(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(defaultCurveSegments>=50?!1:!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),s=0;s<e.length;s++){var r=e[s].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1]);

}}var svgNS="http://www.w3.org/2000/svg",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var t,e=Object.getOwnPropertyNames(Math),s=e.length;for(t=0;s>t;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){var e=typeof t;if("object"===e&&t.length){var s,r=Array.apply(null,{length:t.length}),i=t.length;for(s=0;i>s;s+=1)r[s]=Math.abs(t[s]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var t,e,s=[];for(t=0;256>t;t+=1)e=t.toString(16),s[t]=1==e.length?"0"+e:e;return function(t,e,r){return 0>t&&(t=0),0>e&&(e=0),0>r&&(r=0),"#"+s[t]+s[e]+s[r]}}(),fillColorToString=function(){var t=[];return function(e,s){return void 0!==s&&(e[3]=s),t[e[0]]||(t[e[0]]={}),t[e[0]][e[1]]||(t[e[0]][e[1]]={}),t[e[0]][e[1]][e[2]]||(t[e[0]][e[1]][e[2]]={}),t[e[0]][e[1]][e[2]][e[3]]||(t[e[0]][e[1]][e[2]][e[3]]="rgba("+e.join(",")+")"),t[e[0]][e[1]][e[2]][e[3]]}}(),Matrix=function(){function t(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function e(t){if(0===t)return this;var e=Math.cos(t),s=Math.sin(t);return this._t(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1)}function s(t){if(0===t)return this;var e=Math.cos(t),s=Math.sin(t);return this._t(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1)}function r(t){if(0===t)return this;var e=Math.cos(t),s=Math.sin(t);return this._t(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1)}function i(t){if(0===t)return this;var e=Math.cos(t),s=Math.sin(t);return this._t(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1)}function a(t,e){return this._t(1,e,t,1,0,0)}function n(t,e){return this.shear(Math.tan(t),Math.tan(e))}function o(t,e){var s=Math.cos(e),r=Math.sin(e);return this._t(s,r,0,0,-r,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1)._t(s,-r,0,0,r,s,0,0,0,0,1,0,0,0,0,1)}function h(t,e,s){return s=isNaN(s)?1:s,1==t&&1==e&&1==s?this:this._t(t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1)}function l(t,e,s,r,i,a,n,o,h,l,p,m,f,c,d,u){return this.props[0]=t,this.props[1]=e,this.props[2]=s,this.props[3]=r,this.props[4]=i,this.props[5]=a,this.props[6]=n,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=p,this.props[11]=m,this.props[12]=f,this.props[13]=c,this.props[14]=d,this.props[15]=u,this}function p(t,e,s){return s=s||0,0!==t||0!==e||0!==s?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,s,1):this}function m(t,e,s,r,i,a,n,o,h,l,p,m,f,c,d,u){if(1===t&&0===e&&0===s&&0===r&&0===i&&1===a&&0===n&&0===o&&0===h&&0===l&&1===p&&0===m)return(0!==f||0!==c||0!==d)&&(this.props[12]=this.props[12]*t+this.props[13]*i+this.props[14]*h+this.props[15]*f,this.props[13]=this.props[12]*e+this.props[13]*a+this.props[14]*l+this.props[15]*c,this.props[14]=this.props[12]*s+this.props[13]*n+this.props[14]*p+this.props[15]*d,this.props[15]=this.props[12]*r+this.props[13]*o+this.props[14]*m+this.props[15]*u),this._identityCalculated=!1,this;var y=this.props[0],g=this.props[1],v=this.props[2],b=this.props[3],E=this.props[4],P=this.props[5],S=this.props[6],x=this.props[7],C=this.props[8],k=this.props[9],M=this.props[10],A=this.props[11],D=this.props[12],w=this.props[13],T=this.props[14],F=this.props[15];return this.props[0]=y*t+g*i+v*h+b*f,this.props[1]=y*e+g*a+v*l+b*c,this.props[2]=y*s+g*n+v*p+b*d,this.props[3]=y*r+g*o+v*m+b*u,this.props[4]=E*t+P*i+S*h+x*f,this.props[5]=E*e+P*a+S*l+x*c,this.props[6]=E*s+P*n+S*p+x*d,this.props[7]=E*r+P*o+S*m+x*u,this.props[8]=C*t+k*i+M*h+A*f,this.props[9]=C*e+k*a+M*l+A*c,this.props[10]=C*s+k*n+M*p+A*d,this.props[11]=C*r+k*o+M*m+A*u,this.props[12]=D*t+w*i+T*h+F*f,this.props[13]=D*e+w*a+T*l+F*c,this.props[14]=D*s+w*n+T*p+F*d,this.props[15]=D*r+w*o+T*m+F*u,this._identityCalculated=!1,this}function f(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function c(t){var e;for(e=0;16>e;e+=1)t.props[e]=this.props[e]}function d(t){var e;for(e=0;16>e;e+=1)this.props[e]=t[e]}function u(t,e,s){return{x:t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}}function y(t,e,s){return t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12]}function g(t,e,s){return t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13]}function v(t,e,s){return t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}function b(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],s=this.props[5]/e,r=-this.props[1]/e,i=-this.props[4]/e,a=this.props[0]/e,n=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*s+t[1]*i+n,t[0]*r+t[1]*a+o,0]}function E(t){var e,s=t.length,r=[];for(e=0;s>e;e+=1)r[e]=b(t[e]);return r}function P(t,e,s,r){if(r&&2===r){var i=point_pool.newPoint();return i[0]=t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],i[1]=t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],i}return[t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]]}function S(t,e){return this.isIdentity()?t+","+e:bm_rnd(t*this.props[0]+e*this.props[4]+this.props[12])+","+bm_rnd(t*this.props[1]+e*this.props[5]+this.props[13])}function x(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function C(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function k(){return"matrix("+this.props[0]+","+this.props[1]+","+this.props[4]+","+this.props[5]+","+this.props[12]+","+this.props[13]+")"}function M(){return""+this.toArray()}return function(){this.reset=t,this.rotate=e,this.rotateX=s,this.rotateY=r,this.rotateZ=i,this.skew=n,this.skewFromAxis=o,this.shear=a,this.scale=h,this.setTransform=l,this.translate=p,this.transform=m,this.applyToPoint=u,this.applyToX=y,this.applyToY=g,this.applyToZ=v,this.applyToPointArray=P,this.applyToPointStringified=S,this.toArray=x,this.toCSS=C,this.to2dCSS=k,this.toString=M,this.clone=c,this.cloneFromProps=d,this.inversePoints=E,this.inversePoint=b,this._t=this.transform,this.isIdentity=f,this._identity=!0,this._identityCalculated=!1,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}();!function(t,e){function s(s,l,p){var c=[];l=1==l?{entropy:!0}:l||{};var v=n(a(l.entropy?[s,h(t)]:null==s?o():s,3),c),b=new r(c),E=function(){for(var t=b.g(f),e=u,s=0;y>t;)t=(t+s)*m,e*=m,s=b.g(1);for(;t>=g;)t/=2,e/=2,s>>>=1;return(t+s)/e};return E.int32=function(){return 0|b.g(4)},E.quick=function(){return b.g(4)/4294967296},E["double"]=E,n(h(b.S),t),(l.pass||p||function(t,s,r,a){return a&&(a.S&&i(a,b),t.state=function(){return i(b,{})}),r?(e[d]=t,s):t})(E,v,"global"in l?l.global:this==e,l.state)}function r(t){var e,s=t.length,r=this,i=0,a=r.i=r.j=0,n=r.S=[];for(s||(t=[s++]);m>i;)n[i]=i++;for(i=0;m>i;i++)n[i]=n[a=v&a+t[i%s]+(e=n[i])],n[a]=e;(r.g=function(t){for(var e,s=0,i=r.i,a=r.j,n=r.S;t--;)e=n[i=v&i+1],s=s*m+n[v&(n[i]=n[a=v&a+e])+(n[a]=e)];return r.i=i,r.j=a,s})(m)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var s,r=[],i=typeof t;if(e&&"object"==i)for(s in t)try{r.push(a(t[s],e-1))}catch(n){}return r.length?r:"string"==i?t:t+"\x00"}function n(t,e){for(var s,r=t+"",i=0;i<r.length;)e[v&i]=v&(s^=19*e[v&i])+r.charCodeAt(i++);return h(e)}function o(){try{if(l)return h(l.randomBytes(m));var e=new Uint8Array(m);return(p.crypto||p.msCrypto).getRandomValues(e),h(e)}catch(s){var r=p.navigator,i=r&&r.plugins;return[+new Date,p,i,p.screen,h(t)]}}function h(t){return String.fromCharCode.apply(0,t)}var l,p=this,m=256,f=6,c=52,d="random",u=e.pow(m,f),y=e.pow(2,c),g=2*y,v=m-1;e["seed"+d]=s,n(e.random(),t)}([],BMMath);var BezierFactory=function(){function t(t,e,s,r,i){var a=i||("bez_"+t+"_"+e+"_"+s+"_"+r).replace(/\./g,"p");if(p[a])return p[a];var n=new h([t,e,s,r]);return p[a]=n,n}function e(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function r(t){return 3*t}function i(t,i,a){return((e(i,a)*t+s(i,a))*t+r(i))*t}function a(t,i,a){return 3*e(i,a)*t*t+2*s(i,a)*t+r(i)}function n(t,e,s,r,a){var n,o,h=0;do o=e+(s-e)/2,n=i(o,r,a)-t,n>0?s=o:e=o;while(Math.abs(n)>c&&++h<d);return o}function o(t,e,s,r){for(var n=0;m>n;++n){var o=a(e,s,r);if(0===o)return e;var h=i(e,s,r)-t;e-=h/o}return e}function h(t){this._p=t,this._mSampleValues=g?new Float32Array(u):new Array(u),this._precomputed=!1,this.get=this.get.bind(this)}var l={};l.getBezierEasing=t;var p={},m=4,f=.001,c=1e-7,d=10,u=11,y=1/(u-1),g="function"==typeof Float32Array;return h.prototype={get:function(t){var e=this._p[0],s=this._p[1],r=this._p[2],a=this._p[3];return this._precomputed||this._precompute(),e===s&&r===a?t:0===t?0:1===t?1:i(this._getTForX(t),s,a)},_precompute:function(){var t=this._p[0],e=this._p[1],s=this._p[2],r=this._p[3];this._precomputed=!0,(t!==e||s!==r)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],s=0;u>s;++s)this._mSampleValues[s]=i(s*y,t,e)},_getTForX:function(t){for(var e=this._p[0],s=this._p[2],r=this._mSampleValues,i=0,h=1,l=u-1;h!==l&&r[h]<=t;++h)i+=y;--h;var p=(t-r[h])/(r[h+1]-r[h]),m=i+p*y,c=a(m,e,s);return c>=f?o(t,m,e,s):0===c?m:n(t,i,i+y,e,s)}},l}(),MatrixManager=matrixManagerFunction;!function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[e[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[s]+"CancelAnimationFrame"]||window[e[s]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,s){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),a=window.setTimeout(function(){e(r+i)},i);return t=r+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function t(t,e){var s=document.createElement("span");s.style.fontFamily=e;var r=document.createElement("span");r.innerHTML="giItT1WQy@!-/#",s.style.position="absolute",s.style.left="-10000px",s.style.top="-10000px",s.style.fontSize="300px",s.style.fontVariant="normal",s.style.fontStyle="normal",s.style.fontWeight="normal",s.style.letterSpacing="0",s.appendChild(r),document.body.appendChild(s);var i=r.offsetWidth;return r.style.fontFamily=t+", "+e,{node:r,w:i,parent:s}}function e(){var t,s,r,i=this.fonts.length,a=i;for(t=0;i>t;t+=1)if(this.fonts[t].loaded)a-=1;else if("t"===this.fonts[t].fOrigin||2===this.fonts[t].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(n){}}2===this.typekitLoaded&&(this.fonts[t].loaded=!0)}else"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(s=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,s.offsetWidth!==r?(a-=1,this.fonts[t].loaded=!0):(s=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,s.offsetWidth!==r&&(a-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==a&&Date.now()-this.initTime<h?setTimeout(e.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function s(t,e){var s=document.createElementNS(svgNS,"text");s.style.fontSize="100px",s.style.fontFamily=e.fFamily,s.textContent="1",e.fClass?(s.style.fontFamily="inherit",s.className=e.fClass):s.style.fontFamily=e.fFamily,t.appendChild(s);var r=document.createElement("canvas").getContext("2d");return r.font="100px "+e.fFamily,r}function r(r,i){if(!r)return void(this.loaded=!0);if(this.chars)return this.loaded=!0,void(this.fonts=r.list);var a,n=r.list,o=n.length;for(a=0;o>a;a+=1){if(n[a].loaded=!1,n[a].monoCase=t(n[a].fFamily,"monospace"),n[a].sansCase=t(n[a].fFamily,"sans-serif"),n[a].fPath){if("p"===n[a].fOrigin||3===n[a].origin){var h=document.createElement("style");h.type="text/css",h.innerHTML="@font-face {font-family: "+n[a].fFamily+"; font-style: normal; src: url('"+n[a].fPath+"');}",i.appendChild(h)}else if("g"===n[a].fOrigin||1===n[a].origin){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=n[a].fPath,i.appendChild(l)}else if("t"===n[a].fOrigin||2===n[a].origin){var p=document.createElement("script");p.setAttribute("src",n[a].fPath),i.appendChild(p)}}else n[a].loaded=!0;n[a].helper=s(i,n[a]),this.fonts.push(n[a])}e.bind(this)()}function i(t){if(t){this.chars||(this.chars=[]);var e,s,r,i=t.length,a=this.chars.length;for(e=0;i>e;e+=1){for(s=0,r=!1;a>s;)this.chars[s].style===t[e].style&&this.chars[s].fFamily===t[e].fFamily&&this.chars[s].ch===t[e].ch&&(r=!0),s+=1;r||(this.chars.push(t[e]),a+=1)}}}function a(t,e,s){for(var r=0,i=this.chars.length;i>r;){if(this.chars[r].ch===t&&this.chars[r].style===e&&this.chars[r].fFamily===s)return this.chars[r];r+=1}}function n(t,e,s){var r=this.getFontByName(e),i=r.helper;return i.measureText(t).width*s/100}function o(t){for(var e=0,s=this.fonts.length;s>e;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return"sans-serif"}var h=5e3,l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return l.prototype.addChars=i,l.prototype.addFonts=r,l.prototype.getCharData=a,l.prototype.getFontByName=o,l.prototype.measureText=n,l}(),PropertyFactory=function(){function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(!(t===this.lastFrame||this.lastFrame!==l&&(this.lastFrame>=this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime||this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime))){for(var e,s,r=this.lastFrame<t?this._lastIndex:0,i=this.keyframes.length-1,a=!0;a;){if(e=this.keyframes[r],s=this.keyframes[r+1],r==i-1&&t>=s.t-this.offsetTime){e.h&&(e=s);break}if(s.t-this.offsetTime>t)break;i-1>r?r+=1:a=!1}this._lastIndex=r;var n,o,h,p,m,f;if(e.to){e.bezierData||bez.buildBezierData(e);var c=e.bezierData;if(t>=s.t-this.offsetTime||t<e.t-this.offsetTime){var d=t>=s.t-this.offsetTime?c.points.length-1:0;for(o=c.points[d].point.length,n=0;o>n;n+=1)this.pv[n]=c.points[d].point[n],this.v[n]=this.mult?this.pv[n]*this.mult:this.pv[n],this.lastPValue[n]!==this.pv[n]&&(this.mdf=!0,this.lastPValue[n]=this.pv[n]);this._lastBezierData=null}else{e.__fnct?f=e.__fnct:(f=BezierFactory.getBezierEasing(e.o.x,e.o.y,e.i.x,e.i.y,e.n).get,e.__fnct=f),h=f((t-(e.t-this.offsetTime))/(s.t-this.offsetTime-(e.t-this.offsetTime)));var u,y=c.segmentLength*h,g=this.lastFrame<t&&this._lastBezierData===c?this._lastAddedLength:0;for(m=this.lastFrame<t&&this._lastBezierData===c?this._lastPoint:0,a=!0,p=c.points.length;a;){if(g+=c.points[m].partialLength,0===y||0===h||m==c.points.length-1){for(o=c.points[m].point.length,n=0;o>n;n+=1)this.pv[n]=c.points[m].point[n],this.v[n]=this.mult?this.pv[n]*this.mult:this.pv[n],this.lastPValue[n]!==this.pv[n]&&(this.mdf=!0,this.lastPValue[n]=this.pv[n]);break}if(y>=g&&y<g+c.points[m+1].partialLength){for(u=(y-g)/c.points[m+1].partialLength,o=c.points[m].point.length,n=0;o>n;n+=1)this.pv[n]=c.points[m].point[n]+(c.points[m+1].point[n]-c.points[m].point[n])*u,this.v[n]=this.mult?this.pv[n]*this.mult:this.pv[n],this.lastPValue[n]!==this.pv[n]&&(this.mdf=!0,this.lastPValue[n]=this.pv[n]);break}p-1>m?m+=1:a=!1}this._lastPoint=m,this._lastAddedLength=g-c.points[m].partialLength,this._lastBezierData=c}}else{var v,b,E,P,S;for(i=e.s.length,r=0;i>r;r+=1){if(1!==e.h&&(t>=s.t-this.offsetTime?h=1:t<e.t-this.offsetTime?h=0:(e.o.x instanceof Array?(e.__fnct||(e.__fnct=[]),e.__fnct[r]?f=e.__fnct[r]:(v=e.o.x[r]||e.o.x[0],b=e.o.y[r]||e.o.y[0],E=e.i.x[r]||e.i.x[0],P=e.i.y[r]||e.i.y[0],f=BezierFactory.getBezierEasing(v,b,E,P).get,e.__fnct[r]=f)):e.__fnct?f=e.__fnct:(v=e.o.x,b=e.o.y,E=e.i.x,P=e.i.y,f=BezierFactory.getBezierEasing(v,b,E,P).get,e.__fnct=f),h=f((t-(e.t-this.offsetTime))/(s.t-this.offsetTime-(e.t-this.offsetTime))))),this.sh&&1!==e.h){var x=e.s[r],C=e.e[r];-180>x-C?x+=360:x-C>180&&(x-=360),S=x+(C-x)*h}else S=1===e.h?e.s[r]:e.s[r]+(e.e[r]-e.s[r])*h;1===i?(this.v=this.mult?S*this.mult:S,this.pv=S,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)):(this.v[r]=this.mult?S*this.mult:S,this.pv[r]=S,this.lastPValue[r]!==this.pv[r]&&(this.mdf=!0,this.lastPValue[r]=this.pv[r]))}}}this.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function e(){}function s(t,s,r){this.mult=r,this.v=r?s.k*r:s.k,this.pv=s.k,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=e}function r(t,s,r){this.mult=r,this.data=s,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=Array.apply(null,{length:s.k.length}),this.pv=Array.apply(null,{length:s.k.length}),this.lastValue=Array.apply(null,{length:s.k.length});var i=Array.apply(null,{length:s.k.length});this.vel=i.map(function(){return 0});var a,n=s.k.length;for(a=0;n>a;a+=1)this.v[a]=r?s.k[a]*r:s.k[a],this.pv[a]=s.k[a];this.getValue=e}function i(e,s,r){this.keyframes=s.k,this.offsetTime=e.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this._lastIndex=0,this.k=!0,this.kf=!0,this.data=s,this.mult=r,this.elem=e,this.comp=e.comp,this.lastFrame=l,this.v=r?s.k[0].s[0]*r:s.k[0].s[0],this.pv=s.k[0].s[0],this.getValue=t}function a(e,s,r){var i,a,n,o,h,p=s.k.length;for(i=0;p-1>i;i+=1)s.k[i].to&&s.k[i].s&&s.k[i].e&&(a=s.k[i].s,n=s.k[i].e,o=s.k[i].to,h=s.k[i].ti,(2===a.length&&(a[0]!==n[0]||a[1]!==n[1])&&bez.pointOnLine2D(a[0],a[1],n[0],n[1],a[0]+o[0],a[1]+o[1])&&bez.pointOnLine2D(a[0],a[1],n[0],n[1],n[0]+h[0],n[1]+h[1])||3===a.length&&(a[0]!==n[0]||a[1]!==n[1]||a[2]!==n[2])&&bez.pointOnLine3D(a[0],a[1],a[2],n[0],n[1],n[2],a[0]+o[0],a[1]+o[1],a[2]+o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],n[0],n[1],n[2],n[0]+h[0],n[1]+h[1],n[2]+h[2]))&&(s.k[i].to=null,s.k[i].ti=null));this.keyframes=s.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this.mult=r,this.elem=e,this.comp=e.comp,this.getValue=t,this.frameId=-1,this._lastIndex=0,this.v=Array.apply(null,{length:s.k[0].s.length}),this.pv=Array.apply(null,{length:s.k[0].s.length}),this.lastValue=Array.apply(null,{length:s.k[0].s.length}),this.lastPValue=Array.apply(null,{length:s.k[0].s.length}),this.lastFrame=l}function n(t,e,n,o,h){var l;if(2===n)l=new p(t,e,h);else if(0===e.a)l=0===n?new s(t,e,o):new r(t,e,o);else if(1===e.a)l=0===n?new i(t,e,o):new a(t,e,o);else if(e.k.length)if("number"==typeof e.k[0])l=new r(t,e,o);else switch(n){case 0:l=new i(t,e,o);break;case 1:l=new a(t,e,o)}else l=new s(t,e,o);return l.k&&h.push(l),l}function o(t,e,s,r){return new f(t,e,s,r)}function h(t,e,s){return new c(t,e,s)}var l=-999999,p=function(){function t(){return this.p?ExpressionValue(this.p):[this.px.v,this.py.v,this.pz?this.pz.v:0]}function e(){return ExpressionValue(this.px)}function s(){return ExpressionValue(this.py)}function r(){return ExpressionValue(this.a)}function i(){return ExpressionValue(this.or)}function a(){return this.r?ExpressionValue(this.r,1/degToRads):ExpressionValue(this.rz,1/degToRads)}function n(){return ExpressionValue(this.s,100)}function o(){return ExpressionValue(this.o,100)}function h(){return ExpressionValue(this.sk)}function l(){return ExpressionValue(this.sa)}function p(t){var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function m(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf){if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime){var s,r;this.p.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(s=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/this.elem.globalData.frameRate,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/this.elem.globalData.frameRate,0)):this.p.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/this.elem.globalData.frameRate,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/this.elem.globalData.frameRate,0)):(s=this.p.pv,r=this.p.getValueAtTime((this.p.lastFrame+this.p.offsetTime-.01)/this.elem.globalData.frameRate,this.p.offsetTime)),this.v.rotate(-Math.atan2(s[1]-r[1],s[0]-r[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function f(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function c(){}return function(d,u,y){this.elem=d,this.frameId=-1,this.type="transform",this.dynamicProperties=[],this.mdf=!1,this.data=u,this.getValue=m,this.applyToMatrix=p,this.setInverted=f,this.autoOrient=c,this.v=new Matrix,u.p.s?(this.px=PropertyFactory.getProp(d,u.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(d,u.p.y,0,0,this.dynamicProperties),u.p.z&&(this.pz=PropertyFactory.getProp(d,u.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(d,u.p,1,0,this.dynamicProperties),u.r?this.r=PropertyFactory.getProp(d,u.r,0,degToRads,this.dynamicProperties):u.rx&&(this.rx=PropertyFactory.getProp(d,u.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(d,u.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(d,u.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(d,u.or,1,degToRads,this.dynamicProperties)),u.sk&&(this.sk=PropertyFactory.getProp(d,u.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(d,u.sa,0,degToRads,this.dynamicProperties)),u.a&&(this.a=PropertyFactory.getProp(d,u.a,1,0,this.dynamicProperties)),u.s&&(this.s=PropertyFactory.getProp(d,u.s,1,.01,this.dynamicProperties)),this.o=u.o?PropertyFactory.getProp(d,u.o,0,.01,y):{mdf:!1,v:1},this.dynamicProperties.length?y.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?u.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:t}),Object.defineProperty(this,"xPosition",{get:e}),Object.defineProperty(this,"yPosition",{get:s}),Object.defineProperty(this,"orientation",{get:i}),Object.defineProperty(this,"anchorPoint",{get:r}),Object.defineProperty(this,"rotation",{get:a}),Object.defineProperty(this,"scale",{get:n}),Object.defineProperty(this,"opacity",{get:o}),Object.defineProperty(this,"skew",{get:h}),Object.defineProperty(this,"skewAxis",{get:l})}}(),m=function(){function t(t){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||t){var e,s,r,i=4*this.data.p;for(e=0;i>e;e+=1)s=e%4===0?100:255,r=Math.round(this.prop.v[e]*s),this.c[e]!==r&&(this.c[e]=r,this.cmdf=!0);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;i>e;e+=1)s=e%2===0?100:1,r=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this.omdf=!0)}}function e(e,s,r){this.prop=n(e,s.k,1,null,[]),this.data=s,this.k=this.prop.k,this.c=Array.apply(null,{length:4*s.p});var i=s.k.k[0].s?s.k.k[0].s.length-4*s.p:s.k.k.length-4*s.p;this.o=Array.apply(null,{length:i}),this.cmdf=!1,this.omdf=!1,this.getValue=t,this.prop.k&&r.push(this),this.getValue(!0)}return function(t,s,r){return new e(t,s,r)}}(),f=function(){function t(t){var e=0,s=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||t){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;s>e;){if(this.dataProps[e].p.mdf){this.mdf=!0;break}e+=1}if(this.mdf||t)for("svg"===this.renderer&&(this.dasharray=""),e=0;s>e;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[e].p.v:this.dasharray[e]=this.dataProps[e].p.v:this.dashoffset=this.dataProps[e].p.v}}return function(e,s,r,i){this.elem=e,this.frameId=-1,this.dataProps=new Array(s.length),this.renderer=r,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(s.length-1),this.dashoffset=0;var a,n,o=s.length;for(a=0;o>a;a+=1)n=PropertyFactory.getProp(e,s[a].v,0,0,i),this.k=n.k?!0:this.k,this.dataProps[a]={n:s[a].n,p:n};this.getValue=t,this.k?i.push(this):this.getValue(!0)}}(),c=function(){function t(){if(this.dynamicProperties.length){var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}var s=this.data.totalChars,r=2===this.data.r?1:100/s,i=this.o.v/r,a=this.s.v/r+i,n=this.e.v/r+i;if(a>n){var o=a;a=n,n=o}this.finalS=a,this.finalE=n}function e(t){var e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,a=0,n=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)a=o===n?t>=o?1:0:s(0,r(.5/(o-n)+(t-n)/(o-n),1)),a=e(a);else if(3==h)a=o===n?t>=o?0:1:1-s(0,r(.5/(o-n)+(t-n)/(o-n),1)),a=e(a);else if(4==h)o===n?a=0:(a=s(0,r(.5/(o-n)+(t-n)/(o-n),1)),.5>a?a*=2:a=1-2*(a-.5)),a=e(a);else if(5==h){if(o===n)a=0;else{var l=o-n;t=r(s(0,t+.5-n),o-n);var p=-l/2+t,m=l/2;a=Math.sqrt(1-p*p/(m*m))}a=e(a)}else 6==h?(o===n?a=0:(t=r(s(0,t+.5-n),o-n),a=(1+Math.cos(Math.PI+2*Math.PI*t/(o-n)))/2),a=e(a)):(t>=i(n)&&(a=0>t-n?1-(n-t):s(0,r(o-t,1))),a=e(a));return a*this.a.v}var s=Math.max,r=Math.min,i=Math.floor;return function(s,r,i){this.mdf=!1,this.k=!1,this.data=r,this.dynamicProperties=[],this.getValue=t,this.getMult=e,this.comp=s.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(s,r.s||{k:0},0,0,this.dynamicProperties),this.e="e"in r?PropertyFactory.getProp(s,r.e,0,0,this.dynamicProperties):{v:2===r.r?r.totalChars:100},this.o=PropertyFactory.getProp(s,r.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(s,r.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(s,r.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(s,r.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?i.push(this):this.getValue()}}(),d={};return d.getProp=n,d.getDashProp=o,d.getTextSelectorProp=h,d.getGradientProp=m,d}();ShapePath.prototype.setPathData=function(t,e){for(this.c=t;e>this._maxLength;)this.doubleArrayLength();for(var s=0;e>s;)this.v[s]=point_pool.newPoint(),this.o[s]=point_pool.newPoint(),this.i[s]=point_pool.newPoint(),s+=1;this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(Array.apply(null,{length:this._maxLength})),this.i=this.i.concat(Array.apply(null,{length:this._maxLength})),this.o=this.o.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,s,r,i){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[r]||a[r]&&!i)&&(a[r]=point_pool.newPoint()),a[r][0]=t,a[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,s,r,i,a,n,o){this.setXYAt(t,e,"v",n,o),this.setXYAt(s,r,"o",n,o),this.setXYAt(i,a,"i",n,o)};var ShapePropertyFactory=function(){function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(this.lastFrame===n||!(this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime||this.lastFrame>this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>this.keyframes[this.keyframes.length-1].t-this.offsetTime)){var e,s,r;if(t<this.keyframes[0].t-this.offsetTime)e=this.keyframes[0].s[0],r=!0,this._lastIndex=0;else if(t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)e=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],r=!0;else{for(var i,a,o,h,l,p,m=this.lastFrame<n?this._lastIndex:0,f=this.keyframes.length-1,c=!0;c&&(i=this.keyframes[m],a=this.keyframes[m+1],!(a.t-this.offsetTime>t));)f-1>m?m+=1:c=!1;r=1===i.h,this._lastIndex=m;var d;if(!r){if(t>=a.t-this.offsetTime)d=1;else if(t<i.t-this.offsetTime)d=0;else{var u;i.__fnct?u=i.__fnct:(u=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y).get,i.__fnct=u),d=u((t-(i.t-this.offsetTime))/(a.t-this.offsetTime-(i.t-this.offsetTime)))}s=i.e[0]}e=i.s[0]}h=this.v._length,p=e.i[0].length;var y,g=!1;for(o=0;h>o;o+=1)for(l=0;p>l;l+=1)r?(y=e.i[o][l],this.v.i[o][l]!==y&&(this.v.i[o][l]=y,this.pv.i[o][l]=y,g=!0),y=e.o[o][l],this.v.o[o][l]!==y&&(this.v.o[o][l]=y,this.pv.o[o][l]=y,g=!0),y=e.v[o][l],this.v.v[o][l]!==y&&(this.v.v[o][l]=y,this.pv.v[o][l]=y,g=!0)):(y=e.i[o][l]+(s.i[o][l]-e.i[o][l])*d,this.v.i[o][l]!==y&&(this.v.i[o][l]=y,this.pv.i[o][l]=y,g=!0),y=e.o[o][l]+(s.o[o][l]-e.o[o][l])*d,this.v.o[o][l]!==y&&(this.v.o[o][l]=y,this.pv.o[o][l]=y,g=!0),y=e.v[o][l]+(s.v[o][l]-e.v[o][l])*d,this.v.v[o][l]!==y&&(this.v.v[o][l]=y,this.pv.v[o][l]=y,g=!0));this.mdf=g,this.v.c=e.c,this.paths=this.localShapeCollection}this.lastFrame=t,this.frameId=this.elem.globalData.frameId;

}}function e(){return this.v}function s(){this.paths=this.localShapeCollection,this.k||(this.mdf=!1)}function r(t,r,i){this.comp=t.comp,this.k=!1,this.mdf=!1,this.v=shape_pool.newShape();var a=3===i?r.pt.k:r.ks.k;this.v.v=a.v,this.v.i=a.i,this.v.o=a.o,this.v.c=a.c,this.v._length=this.v.v.length,this.getValue=e,this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s}function i(e,r,i){this.comp=e.comp,this.elem=e,this.offsetTime=e.data.st,this._lastIndex=0,this.getValue=t,this.keyframes=3===i?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;{var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length}this.v=shape_pool.newShape(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=n,this.reset=s}function a(t,e,s,a){var n;if(3===s||4===s){var p=3===s?e.pt:e.ks,m=p.k;n=1===p.a||m.length?new i(t,e,s):new r(t,e,s)}else 5===s?n=new l(t,e):6===s?n=new o(t,e):7===s&&(n=new h(t,e));return n.k&&a.push(n),n}var n=-999999,o=function(){function t(){var t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2;3!==this.d?(this.v.v[0][0]=t,this.v.v[0][1]=e-i,this.v.v[1][0]=t+s,this.v.v[1][1]=e,this.v.v[2][0]=t,this.v.v[2][1]=e+i,this.v.v[3][0]=t-s,this.v.v[3][1]=e,this.v.i[0][0]=t-s*r,this.v.i[0][1]=e-i,this.v.i[1][0]=t+s,this.v.i[1][1]=e-i*r,this.v.i[2][0]=t+s*r,this.v.i[2][1]=e+i,this.v.i[3][0]=t-s,this.v.i[3][1]=e+i*r,this.v.o[0][0]=t+s*r,this.v.o[0][1]=e-i,this.v.o[1][0]=t+s,this.v.o[1][1]=e+i*r,this.v.o[2][0]=t-s*r,this.v.o[2][1]=e+i,this.v.o[3][0]=t-s,this.v.o[3][1]=e-i*r):(this.v.v[0][0]=t,this.v.v[0][1]=e-i,this.v.v[1][0]=t-s,this.v.v[1][1]=e,this.v.v[2][0]=t,this.v.v[2][1]=e+i,this.v.v[3][0]=t+s,this.v.v[3][1]=e,this.v.i[0][0]=t+s*r,this.v.i[0][1]=e-i,this.v.i[1][0]=t-s,this.v.i[1][1]=e-i*r,this.v.i[2][0]=t-s*r,this.v.i[2][1]=e+i,this.v.i[3][0]=t+s,this.v.i[3][1]=e+i*r,this.v.o[0][0]=t-s*r,this.v.o[0][1]=e-i,this.v.o[1][0]=t-s,this.v.o[1][1]=e+i*r,this.v.o[2][0]=t+s*r,this.v.o[2][1]=e+i,this.v.o[3][0]=t+s,this.v.o[3][1]=e-i*r)}function e(t){var e,s=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,e=0;s>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertEllToPath()}}var r=roundCorner;return function(r,i){this.v=shape_pool.newShape(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=i.d,this.dynamicProperties=[],this.elem=r,this.comp=r.comp,this.frameId=-1,this.mdf=!1,this.getValue=e,this.convertEllToPath=t,this.reset=s,this.p=PropertyFactory.getProp(r,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(r,i.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),h=function(){function t(){var t,e=Math.floor(this.pt.v),s=2*Math.PI/e,r=this.or.v,i=this.os.v,a=2*Math.PI*r/(4*e),n=-Math.PI/2,o=3===this.data.d?-1:1;for(n+=this.r.v,this.v._length=0,t=0;e>t;t+=1){var h=r*Math.cos(n),l=r*Math.sin(n),p=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),m=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-p*a*i*o,l-m*a*i*o,h+p*a*i*o,l+m*a*i*o,t,!0),n+=s*o}this.paths.length=0,this.paths[0]=this.v}function e(){var t,e,s,r,i=2*Math.floor(this.pt.v),a=2*Math.PI/i,n=!0,o=this.or.v,h=this.ir.v,l=this.os.v,p=this.is.v,m=2*Math.PI*o/(2*i),f=2*Math.PI*h/(2*i),c=-Math.PI/2;c+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;i>t;t+=1){e=n?o:h,s=n?l:p,r=n?m:f;var u=e*Math.cos(c),y=e*Math.sin(c),g=0===u&&0===y?0:y/Math.sqrt(u*u+y*y),v=0===u&&0===y?0:-u/Math.sqrt(u*u+y*y);u+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(u,y,u-g*r*s*d,y-v*r*s*d,u+g*r*s*d,y+v*r*s*d,t,!0),n=!n,c+=a*d}}function r(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(i,a){this.v=shape_pool.newShape(),this.v.setPathData(!0,0),this.elem=i,this.comp=i.comp,this.data=a,this.frameId=-1,this.d=a.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=r,this.reset=s,1===a.sy?(this.ir=PropertyFactory.getProp(i,a.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(i,a.is,0,.01,this.dynamicProperties),this.convertToPath=e):this.convertToPath=t,this.pt=PropertyFactory.getProp(i,a.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(i,a.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(i,a.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(i,a.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(i,a.os,0,.01,this.dynamicProperties),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),l=function(){function t(t){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function e(){var t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,r=this.s.v[1]/2,i=bm_min(s,r,this.r.v),a=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+s,e-r+i,t+s,e-r+i,t+s,e-r+a,0,!0),this.v.setTripleAt(t+s,e+r-i,t+s,e+r-a,t+s,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+s-i,e+r,t+s-i,e+r,t+s-a,e+r,2,!0),this.v.setTripleAt(t-s+i,e+r,t-s+a,e+r,t-s+i,e+r,3,!0),this.v.setTripleAt(t-s,e+r-i,t-s,e+r-i,t-s,e+r-a,4,!0),this.v.setTripleAt(t-s,e-r+i,t-s,e-r+a,t-s,e-r+i,5,!0),this.v.setTripleAt(t-s+i,e-r,t-s+i,e-r,t-s+a,e-r,6,!0),this.v.setTripleAt(t+s-i,e-r,t+s-a,e-r,t+s-i,e-r,7,!0)):(this.v.setTripleAt(t-s,e+r,t-s+a,e+r,t-s,e+r,2),this.v.setTripleAt(t-s,e-r,t-s,e-r+a,t-s,e-r,3))):(this.v.setTripleAt(t+s,e-r+i,t+s,e-r+a,t+s,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+s-i,e-r,t+s-i,e-r,t+s-a,e-r,1,!0),this.v.setTripleAt(t-s+i,e-r,t-s+a,e-r,t-s+i,e-r,2,!0),this.v.setTripleAt(t-s,e-r+i,t-s,e-r+i,t-s,e-r+a,3,!0),this.v.setTripleAt(t-s,e+r-i,t-s,e+r-a,t-s,e+r-i,4,!0),this.v.setTripleAt(t-s+i,e+r,t-s+i,e+r,t-s+a,e+r,5,!0),this.v.setTripleAt(t+s-i,e+r,t+s-a,e+r,t+s-i,e+r,6,!0),this.v.setTripleAt(t+s,e+r-i,t+s,e+r-i,t+s,e+r-a,7,!0)):(this.v.setTripleAt(t-s,e-r,t-s+a,e-r,t-s,e-r,1,!0),this.v.setTripleAt(t-s,e+r,t-s,e+r-a,t-s,e+r,2,!0),this.v.setTripleAt(t+s,e+r,t+s-a,e+r,t+s,e+r,3,!0)))}return function(r,i){this.v=shape_pool.newShape(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=r,this.comp=r.comp,this.frameId=-1,this.d=i.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=t,this.convertRectToPath=e,this.reset=s,this.p=PropertyFactory.getProp(r,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(r,i.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(r,i.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),p={};return p.getShapeProp=a,p}(),ShapeModifiers=function(){function t(t,e){r[t]||(r[t]=e)}function e(t,e,s,i){return new r[t](e,s,i)}var s={},r={};return s.registerModifier=t,s.getModifier=e,s}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){this.closed||(this.shapes.push({shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()}),this.addShapeToModifier(t.sh))},ShapeModifier.prototype.init=function(t,e,s){this.elem=t,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.comp=t.comp,this.initModifierProperties(t,e),this.dynamicProperties.length?(this.k=!0,s.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1,this.frameId=this.elem.globalData.frameId;var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf||t){var r=this.o.v%360/360;0>r&&(r+=1);var i=this.s.v+r,a=this.e.v+r;if(i>a){var n=i;i=a,a=n}this.sValue=i,this.eValue=a,this.oValue=r}}},TrimModifier.prototype.initModifierProperties=function(t,e){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(t,e.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(t,e.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,0,this.dynamicProperties),this.m=e.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.getSegmentsLength=function(t){var e,s=t.c,r=t.v,i=t.o,a=t.i,n=t._length,o=[],h=0;for(e=0;n-1>e;e+=1)o[e]=bez.getBezierLength(r[e],r[e+1],i[e],a[e+1]),h+=o[e].addedLength;return s&&(o[e]=bez.getBezierLength(r[e],r[0],i[e],a[0]),h+=o[e].addedLength),{lengths:o,totalLength:h}},TrimModifier.prototype.calculateShapeEdges=function(t,e,s,r,i){var a=[];1>=e?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var n,o,h=[],l=a.length;for(n=0;l>n;n+=1)if(o=a[n],o.e*i<r||o.s*i>r+s);else{var p,m;p=o.s*i<=r?0:(o.s*i-r)/s,m=o.e*i>=r+s?1:(o.e*i-r)/s,h.push([p,m])}return h.length||h.push([0,0]),h},TrimModifier.prototype.processShapes=function(t){var e,s,r,i,a,n,o,h=this.shapes.length,l=this.sValue,p=this.eValue,m=0;if(p===l)for(s=0;h>s;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape.mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection;else if(1===p&&0===l||0===p&&1===l){if(this.mdf)for(s=0;h>s;s+=1)this.shapes[s].shape.mdf=!0}else{var f,c,d=[];for(s=0;h>s;s+=1)if(f=this.shapes[s],f.shape.mdf||this.mdf||t||2===this.m){if(e=f.shape.paths,i=e._length,o=0,!f.shape.mdf&&f.pathsData)o=f.totalShapeLength;else{for(a=[],r=0;i>r;r+=1)n=this.getSegmentsLength(e.shapes[r]),a.push(n),o+=n.totalLength;f.totalShapeLength=o,f.pathsData=a}m+=o,f.shape.mdf=!0}else f.shape.paths=f.localShapeCollection;var r,i,u=l,y=p,g=0;for(s=h-1;s>=0;s-=1)if(f=this.shapes[s],f.shape.mdf){if(c=f.localShapeCollection,c.releaseShapes(),2===this.m&&h>1){var v=this.calculateShapeEdges(l,p,f.totalShapeLength,g,m);g+=f.totalShapeLength}else v=[[u,y]];for(i=v.length,r=0;i>r;r+=1){u=v[r][0],y=v[r][1],d.length=0,1>=y?d.push({s:f.totalShapeLength*u,e:f.totalShapeLength*y}):u>=1?d.push({s:f.totalShapeLength*(u-1),e:f.totalShapeLength*(y-1)}):(d.push({s:f.totalShapeLength*u,e:f.totalShapeLength}),d.push({s:0,e:f.totalShapeLength*(y-1)}));var b=this.addShapes(f,d[0]);if(d[0].s!==d[0].e){if(d.length>1)if(f.shape.v.c){var E=b.pop();this.addPaths(b,c),b=this.addShapes(f,d[1],E)}else this.addPaths(b,c),b=this.addShapes(f,d[1]);this.addPaths(b,c)}}f.shape.paths=c}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addPaths=function(t,e){var s,r=t.length;for(s=0;r>s;s+=1)e.addShape(t[s])},TrimModifier.prototype.addSegment=function(t,e,s,r,i,a,n){i.setXYAt(e[0],e[1],"o",a),i.setXYAt(s[0],s[1],"i",a+1),n&&i.setXYAt(t[0],t[1],"v",a),i.setXYAt(r[0],r[1],"v",a+1)},TrimModifier.prototype.addShapes=function(t,e,s){var r,i,a,n,o,h,l,p,m=t.pathsData,f=t.shape.paths.shapes,c=t.shape.paths._length,d=0,u=[],y=!0;for(s?(o=s._length,p=s._length):(s=shape_pool.newShape(),o=0,p=0),u.push(s),r=0;c>r;r+=1){for(h=m[r].lengths,s.c=f[r].c,a=f[r].c?h.length:h.length+1,i=1;a>i;i+=1)if(n=h[i-1],d+n.addedLength<e.s)d+=n.addedLength,s.c=!1;else{if(d>e.e){s.c=!1;break}e.s<=d&&e.e>=d+n.addedLength?(this.addSegment(f[r].v[i-1],f[r].o[i-1],f[r].i[i],f[r].v[i],s,o,y),y=!1):(l=bez.getNewSegment(f[r].v[i-1],f[r].v[i],f[r].o[i-1],f[r].i[i],(e.s-d)/n.addedLength,(e.e-d)/n.addedLength,h[i-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,s,o,y),y=!1,s.c=!1),d+=n.addedLength,o+=1}if(f[r].c){if(n=h[i-1],d<=e.e){var g=h[i-1].addedLength;e.s<=d&&e.e>=d+g?(this.addSegment(f[r].v[i-1],f[r].o[i-1],f[r].i[0],f[r].v[0],s,o,y),y=!1):(l=bez.getNewSegment(f[r].v[i-1],f[r].v[0],f[r].o[i-1],f[r].i[0],(e.s-d)/g,(e.e-d)/g,h[i-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,s,o,y),y=!1,s.c=!1)}else s.c=!1;d+=n.addedLength,o+=1}if(s._length&&(s.setXYAt(s.v[p][0],s.v[p][1],"i",p),s.setXYAt(s.v[s._length-1][0],s.v[s._length-1][1],"o",s._length-1)),d>e.e)break;c-1>r&&(s=shape_pool.newShape(),y=!0,u.push(s),o=0)}return u},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1,this.frameId=this.elem.globalData.frameId;var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(t,e){var s=shape_pool.newShape();s.c=t.c;var r,i,a,n,o,h,l,p,m,f,c,d,u,y=t._length,g=0;for(r=0;y>r;r+=1)i=t.v[r],n=t.o[r],a=t.i[r],i[0]===n[0]&&i[1]===n[1]&&i[0]===a[0]&&i[1]===a[1]?0!==r&&r!==y-1||t.c?(o=0===r?t.v[y-1]:t.v[r-1],h=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=d=i[0]+(o[0]-i[0])*l,m=u=i[1]-(i[1]-o[1])*l,f=p-(p-i[0])*roundCorner,c=m-(m-i[1])*roundCorner,s.setTripleAt(p,m,f,c,d,u,g),g+=1,o=r===y-1?t.v[0]:t.v[r+1],h=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=f=i[0]+(o[0]-i[0])*l,m=c=i[1]+(o[1]-i[1])*l,d=p-(p-i[0])*roundCorner,u=m-(m-i[1])*roundCorner,s.setTripleAt(p,m,f,c,d,u,g),g+=1):(s.setTripleAt(i[0],i[1],n[0],n[1],a[0],a[1],g),g+=1):(s.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],g),g+=1);return s},RoundCornersModifier.prototype.processShapes=function(t){var e,s,r,i,a=this.shapes.length,n=this.rd.v;if(0!==n){var o,h,l;for(s=0;a>s;s+=1){if(o=this.shapes[s],h=o.shape.paths,l=o.localShapeCollection,o.shape.mdf||this.mdf||t)for(l.releaseShapes(),o.shape.mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;i>r;r+=1)l.addShape(this.processPath(e[r],n));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),RepeaterModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1;var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,null,this.dynamicProperties),this.tr=PropertyFactory.getProp(t,e.tr,2,null,this.dynamicProperties),this.data=e,this.dynamicProperties.length||this.getValue(!0),this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,s,r,i,a){var n=a?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-i),h=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*n*i,r.p.v[1]*n*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*n*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),s.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),s.scale(a?1/o:o,a?1/h:h),s.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,s,r,i){this.elem=t,this.arr=e,this.pos=s,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.dynamicProperties=[],this.frameId=-1,this.initModifierProperties(t,e[s]);for(var a=0;s>0;)s-=1,this._elements.unshift(e[s]),a+=1;this.dynamicProperties.length?(this.k=!0,i.push(this)):this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,s=t.length;for(e=0;s>e;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=(t.length,JSON.parse(JSON.stringify(t)));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var s,r=t.length;for(s=0;r>s;s+=1)t[s]._render=e,"gr"===t[s].ty&&this.changeGroupRender(t[s].it,e)},RepeaterModifier.prototype.processShapes=function(t){if(this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.dynamicProperties.length||t||(this.mdf=!1),this.mdf)){var e=Math.ceil(this.c.v);if(this._groups.length<e){for(;this._groups.length<e;){var s={it:this.cloneElements(this._elements),ty:"gr"};s.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:0,ix:6,k:0},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,s),this._groups.splice(0,0,s),this._currentCopies+=1}this.elem.reloadShapes()}var r,i,a=0;for(r=0;r<=this._groups.length-1;r+=1)i=e>a,this._groups[r]._render=i,this.changeGroupRender(this._groups[r].it,i),a+=1;this._currentCopies=e,this.elem.firstFrame=!0;var n=this.o.v,o=n%1,h=n>0?Math.floor(n):Math.ceil(n),l=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var f=0;if(n>0){for(;h>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),f+=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,o,!1),f+=o)}else if(0>n){for(;f>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),f-=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-o,!0),f-=o)}r=1===this.data.m?0:this._currentCopies-1;var c=1===this.data.m?1:-1;for(a=this._currentCopies;a;){if(0!==f){(0!==r&&1===c||r!==this._currentCopies-1&&-1===c)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15]);var d,u=this.elemsData[r].it,y=u[u.length-1].transform.mProps.v.props,g=y.length;for(d=0;g>d;d+=1)y[d]=this.matrix.props[d];this.matrix.reset()}else{this.matrix.reset();var d,u=this.elemsData[r].it,y=u[u.length-1].transform.mProps.v.props,g=y.length;for(d=0;g>d;d+=1)y[d]=this.matrix.props[d]}f+=1,a-=1,r+=c}}},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0};var ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages}function e(t){var e="";if(this.assetsPath){var s=t.p;-1!==s.indexOf("images/")&&(s=s.split("/")[1]),e=this.assetsPath+s}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e}function s(e){var s=document.createElement("img");s.addEventListener("load",t.bind(this),!1),s.addEventListener("error",t.bind(this),!1),s.src=e}function r(t){this.totalAssets=t.length;var r;for(r=0;r<this.totalAssets;r+=1)t[r].layers||(s.bind(this)(e.bind(this)(t[r])),this.totalImages+=1)}function i(t){this.path=t||""}function a(t){this.assetsPath=t||""}return function(){this.loadAssets=r,this.setAssetsPath=a,this.setPath=i,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){function t(t){var e=document.createElementNS(svgNS,"filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e}function e(){var t=document.createElementNS(svgNS,"feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}var s={};return s.createFilter=t,s.createAlphaToLuminanceFilter=e,s}(),pooling=function(){function t(t){return t.concat(Array.apply(null,{length:t.length}))}return{"double":t}}(),point_pool=function(){function t(){var t;return r?(r-=1,t=a[r]):t=[.1,.1],t}function e(t){r===i&&(a=pooling["double"](a),i=2*i),a[r]=t,r+=1}var s={newPoint:t,release:e},r=0,i=8,a=Array.apply(null,{length:i});return s}(),shape_pool=function(){function t(){var t;return a?(a-=1,t=o[a]):t=new ShapePath,t}function e(t){a===n&&(o=pooling["double"](o),n=2*n);var e,s=t._length;for(e=0;s>e;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1,o[a]=t,a+=1}function s(t,s){for(;s--;)e(t[s])}function r(e,s){var r,i=e._length,a=t();a._length=e._length,a.c=e.c;var n;for(r=0;i>r;r+=1)s?(n=s.applyToPointArray(e.v[r][0],e.v[r][1],0,2),a.setXYAt(n[0],n[1],"v",r),point_pool.release(n),n=s.applyToPointArray(e.o[r][0],e.o[r][1],0,2),a.setXYAt(n[0],n[1],"o",r),point_pool.release(n),n=s.applyToPointArray(e.i[r][0],e.i[r][1],0,2),a.setXYAt(n[0],n[1],"i",r),point_pool.release(n)):a.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],r);return a}var i={clone:r,newShape:t,release:e,releaseArray:s},a=0,n=4,o=Array.apply(null,{length:n});return i}(),shapeCollection_pool=function(){function t(){var t;return i?(i-=1,t=n[i]):t=new ShapeCollection,t}function e(t){var e,s=t._length;for(e=0;s>e;e+=1)shape_pool.release(t.shapes[e]);t._length=0,i===a&&(n=pooling["double"](n),a=2*a),n[i]=t,i+=1}function s(t,s){e(t),i===a&&(n=pooling["double"](n),a=2*a),n[i]=t,i+=1}var r={newShapeCollection:t,release:e,clone:s},i=0,a=4,n=Array.apply(null,{length:a});return r}();BaseRenderer.prototype.checkLayers=function(t){var e,s,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e--)this.elements[e]||(s=this.layers[e],s.ip-s.st<=t-this.layers[e].st&&s.op-s.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t);case 99:return null}return this.createBase(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;e>t;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,s,r=t.length,i=this.layers.length;for(e=0;r>e;e+=1)for(s=0;i>s;){if(this.layers[s].id==t[e].id){this.layers[s]=t[e];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,s){s=s||[];for(var r=this.elements,i=this.layers,a=0,n=i.length;n>a;)i[a].ind==e&&(r[a]&&r[a]!==!0?void 0!==i[a].parent?(s.push(r[a]),r[a]._isParent=!0,this.buildElementParenting(t,i[a].parent,s)):(s.push(r[a]),r[a]._isParent=!0,t.setHierarchy(s)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new IShapeElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new ICompElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("width",t.w),this.layerElement.setAttribute("height",t.h),this.layerElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.layerElement.style.width="100%",this.layerElement.style.height="100%",this.animationItem.wrapper.appendChild(this.layerElement);var e=document.createElementNS(svgNS,"defs");this.globalData.defs=e,this.layerElement.appendChild(e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h},this.data=t,this.globalData.frameRate=t.fr;var s=document.createElementNS(svgNS,"clipPath"),r=document.createElementNS(svgNS,"rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i="animationMask_"+randomString(10);s.setAttribute("id",i),s.appendChild(r);var a=document.createElementNS(svgNS,"g");a.setAttribute("clip-path","url(#"+i+")"),this.layerElement.appendChild(a),e.appendChild(s),this.layerElement=a,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.elements=Array.apply(null,{length:t.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var s=this.createItem(this.layers[t]);e[t]=s,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(s),s.initExpressions()),this.appendElementInPos(s,t),this.layers[t].tt&&(this.elements[t-1]&&this.elements[t-1]!==!0?s.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(s)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,s=this.elements.length;s>e;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!=t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t;var e,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=s-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=s-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var s=t.getBaseElement();if(s){for(var r,i=0;e>i;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(s,r):this.layerElement.appendChild(s)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(t){var e,s=t.length,r=document.createElementNS(svgNS,"g");for(e=0;s>e;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.prepareFrame=function(){var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue()},MaskElement.prototype.renderFrame=function(t){var e,s=this.masksProperties.length;for(e=0;s>e;e++)if((this.viewData[e].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op.mdf||this.firstFrame)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[e].invRect.setAttribute("x",-t.props[12]),this.viewData[e].invRect.setAttribute("y",-t.props[13])),this.storedData[e].x&&(this.storedData[e].x.mdf||this.firstFrame))){var r=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url(#"+this.storedData[e].filterId+")")),r.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,s){var r,i,a=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,r=1;i>r;r+=1)a+=" C"+bm_rnd(e.o[r-1][0])+","+bm_rnd(e.o[r-1][1])+" "+bm_rnd(e.i[r][0])+","+bm_rnd(e.i[r][1])+" "+bm_rnd(e.v[r][0])+","+bm_rnd(e.v[r][1]);e.c&&i>1&&(a+=" C"+bm_rnd(e.o[r-1][0])+","+bm_rnd(e.o[r-1][1])+" "+bm_rnd(e.i[0][0])+","+bm_rnd(e.i[0][1])+" "+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),s.lastPath!==a&&(s.elem&&(e.c?t.inv?s.elem.setAttribute("d",this.solidPath+a):s.elem.setAttribute("d",a):s.elem.setAttribute("d","")),s.lastPath=a)},MaskElement.prototype.getMask=function(t){for(var e=0,s=this.masksProperties.length;s>e;){if(this.masksProperties[e].nm===t)return{maskPath:this.viewData[e].prop.pv};e+=1}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.paths=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;e>t;){if("n"!==this.data.masksProperties[t].mode&&this.data.masksProperties[t].cl!==!1)return!0;

t+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isVisible!==!0&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):this.isVisible!==!1&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)(this.isVisible||this._isParent&&"transform"===this.dynamicProperties[e].type)&&(this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0));return this.data.hasMask&&this.isVisible&&this.maskManager.prepareFrame(t*this.data.sr),this.currentFrameNum=t*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(t){var e=[];e.push(this.finalTransform);for(var s=!0,r=this.comp;s;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):s=!1;var i,a,n=e.length;for(i=0;n>i;i+=1)a=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.itemsData,this.layerInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this))},BaseElement.prototype.setBlendMode=function(){var t="";switch(this.data.bm){case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}var e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this._isParent=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(t){this.hierarchy=t},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement);var t=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var e=document.createElementNS(svgNS,"mask");if(e.setAttribute("id",this.layerId),e.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e),!featureSupport.maskType&&1==this.data.td){e.setAttribute("mask-type","luminance");var s=randomString(10),r=filtersFactory.createFilter(s);this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter());var i=document.createElementNS(svgNS,"g");i.appendChild(this.layerElement),t=i,e.appendChild(i),i.setAttribute("filter","url(#"+s+")")}}else if(2==this.data.td){var a=document.createElementNS(svgNS,"mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var n=document.createElementNS(svgNS,"g");a.appendChild(n);var s=randomString(10),r=filtersFactory.createFilter(s),o=document.createElementNS(svgNS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),r.appendChild(o),this.globalData.defs.appendChild(r);var h=document.createElementNS(svgNS,"rect");if(h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),n.setAttribute("filter","url(#"+s+")"),n.appendChild(h),n.appendChild(this.layerElement),t=n,!featureSupport.maskType){a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter());var i=document.createElementNS(svgNS,"g");n.appendChild(h),i.appendChild(this.layerElement),t=i,n.appendChild(i)}this.globalData.defs.appendChild(a)}}else(this.data.hasMask||this.data.tt)&&this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty){var l=document.createElementNS(svgNS,"clipPath"),p=document.createElementNS(svgNS,"path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var m="cp_"+randomString(8);if(l.setAttribute("id",m),l.appendChild(p),this.globalData.defs.appendChild(l),this.checkMasks()){var f=document.createElementNS(svgNS,"g");f.setAttribute("clip-path","url(#"+m+")"),f.appendChild(this.layerElement),this.transformedElement=f,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url(#"+m+")")}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty||this.data.hd||!this.isVisible)return!1;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.firstFrame||this.finalTransform.op.mdf,this.finalTransform.matMdf=this.firstFrame||this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var e,s=this.finalTransform.mat;if(this.hierarchy){var r=0,i=this.hierarchy.length;if(!this.finalTransform.matMdf)for(;i>r;){if(this.hierarchy[r].finalTransform.mProp.mdf){this.finalTransform.matMdf=!0;break}r+=1}if(this.finalTransform.matMdf)for(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e),r=0;i>r;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,s.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&(s=this.finalTransform.mProp.v);return this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",s.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&(this.finalTransform.op.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.hidden&&this.isTransparent&&(this.isTransparent=!1,this.show()),this.transformedElement.setAttribute("opacity",this.finalTransform.op.v)),this.data.hasMask&&this.maskManager.renderFrame(s),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(t){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+t+")")},SVGBaseElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGBaseElement.prototype.show=function(){this.isVisible&&!this.isTransparent&&(this.hidden=!1,this.layerElement.style.display="block")},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(t){for(var e=this.processedElements.length;e;)if(e-=1,this.processedElements[e].elem===t)return this.processedElements[e].pos;return 0},IShapeElement.prototype.addProcessedElement=function(t,e){for(var s=this.processedElements.length;s;)if(s-=1,this.processedElements[s].elem===t){this.processedElements[s].pos=e;break}0===s&&this.processedElements.push({elem:t,pos:e})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(t,e,s){var r,i="gr_"+randomString(10);r=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var a,n,o,h=[];for(o=4*e.g.p,n=0;o>n;n+=4)a=document.createElementNS(svgNS,"stop"),r.appendChild(a),h.push(a);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+i+")"),this.globalData.defs.appendChild(r),s.gf=r,s.cst=h},IShapeElement.prototype.setGradientOpacity=function(t,e,s){if(t.g.k.k[0].s&&t.g.k.k[0].s.length>4*t.g.p||t.g.k.k.length>4*t.g.p){var r,i,a,n,o=document.createElementNS(svgNS,"mask"),h=document.createElementNS(svgNS,"path");o.appendChild(h);var l="op_"+randomString(10),p="mk_"+randomString(10);o.setAttribute("id",p),r=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),r.setAttribute("id",l),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var m=[];for(a=4*t.g.p;n>a;a+=2)i=document.createElementNS(svgNS,"stop"),i.setAttribute("stop-color","rgb(255,255,255)"),r.appendChild(i),m.push(i);return h.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+l+")"),this.globalData.defs.appendChild(r),this.globalData.defs.appendChild(o),e.of=r,e.ost=m,s.msElem=h,p}},IShapeElement.prototype.createStyleElement=function(t,e,s){var r={},i={data:t,type:t.ty,d:"",ld:"",lvl:e,mdf:!1,closed:!1},a=document.createElementNS(svgNS,"path");if(r.o=PropertyFactory.getProp(this,t.o,0,.01,s),("st"==t.ty||"gs"==t.ty)&&(a.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),a.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),a.setAttribute("fill-opacity","0"),1==t.lj&&a.setAttribute("stroke-miterlimit",t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,s),t.d)){var n=PropertyFactory.getDashProp(this,t.d,"svg",s);n.k||(a.setAttribute("stroke-dasharray",n.dasharray),a.setAttribute("stroke-dashoffset",n.dashoffset)),r.d=n}if("fl"==t.ty||"st"==t.ty)r.c=PropertyFactory.getProp(this,t.c,1,255,s);else{r.g=PropertyFactory.getGradientProp(this,t.g,s),2==t.t&&(r.h=PropertyFactory.getProp(this,t.h,1,.01,s),r.a=PropertyFactory.getProp(this,t.a,1,degToRads,s)),r.s=PropertyFactory.getProp(this,t.s,1,null,s),r.e=PropertyFactory.getProp(this,t.e,1,null,s),this.setGradientData(a,t,r,i);var o=this.setGradientOpacity(t,r,i);o&&a.setAttribute("mask","url(#"+o+")")}return r.elem=a,2===t.r&&a.setAttribute("fill-rule","evenodd"),t.ln&&a.setAttribute("id",t.ln),t.cl&&a.setAttribute("class",t.cl),i.pElem=a,this.stylesList.push(i),r.style=i,r},IShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]},s=document.createElementNS(svgNS,"g");return e.gr=s,t.ln&&e.gr.setAttribute("id",t.ln),e},IShapeElement.prototype.createTransformElement=function(t,e){var s={transform:{op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:PropertyFactory.getProp(this,t,2,null,e)},elements:[]};return s},IShapeElement.prototype.createShapeElement=function(t,e,s,r){var i={elements:[],caches:[],styles:[],transformers:e,lStr:""},a=4;return"rc"==t.ty?a=5:"el"==t.ty?a=6:"sr"==t.ty&&(a=7),i.sh=ShapePropertyFactory.getShapeProp(this,t,a,r),i.lvl=s,this.shapes.push(i.sh),this.addShapeToModifiers(i),i};var cont=0;IShapeElement.prototype.setElementStyles=function(){var t,e=this.stylesList.length,s=[];for(t=0;e>t;t+=1)this.stylesList[t].closed||s.push(this.stylesList[t]);return s},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t,e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(t,e,s,r,i,a,n,o){var h,l,p,m,f,c,d=[].concat(n),u=t.length-1,y=[],g=[];for(h=u;h>=0;h-=1){if(c=this.searchProcessedElement(t[h]),c?e[h]=s[c-1]:t[h]._render=o,"fl"==t[h].ty||"st"==t[h].ty||"gf"==t[h].ty||"gs"==t[h].ty)c?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],a,i),t[h]._render&&r.appendChild(e[h].elem),y.push(e[h].style);else if("gr"==t[h].ty){if(c)for(p=e[h].it.length,l=0;p>l;l+=1)e[h].prevViewData[l]=e[h].it[l];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,e[h].gr,i,a+1,d,o),t[h]._render&&r.appendChild(e[h].gr)}else"tr"==t[h].ty?(c||(e[h]=this.createTransformElement(t[h],i)),m=e[h].transform,d.push(m)):"sh"==t[h].ty||"rc"==t[h].ty||"el"==t[h].ty||"sr"==t[h].ty?(c||(e[h]=this.createShapeElement(t[h],d,a,i)),e[h].elements=this.setElementStyles()):"tm"==t[h].ty||"rd"==t[h].ty||"ms"==t[h].ty?(c?(f=e[h],f.closed=!1):(f=ShapeModifiers.getModifier(t[h].ty),f.init(this,t[h],i),e[h]=f,this.shapeModifiers.push(f)),g.push(f)):"rp"==t[h].ty&&(c?(f=e[h],f.closed=!0):(f=ShapeModifiers.getModifier(t[h].ty),e[h]=f,f.init(this,t,h,e,i),this.shapeModifiers.push(f),o=!1),g.push(f));this.addProcessedElement(t[h],h+1)}for(u=y.length,h=0;u>h;h+=1)y[h].closed=!0;for(u=g.length,h=0;u>h;h+=1)g[h].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(t){var e,s=this.shapeModifiers.length;for(e=0;s>e;e+=1)this.shapeModifiers[e].addShape(t)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;e>t;t+=1)this.shapes[t].reset();for(e=this.shapeModifiers.length,t=e-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var s,r=this.stylesList.length;for(s=0;r>s;s+=1)this.stylesList[s].d="",this.stylesList[s].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),s=0;r>s;s+=1)"0"===this.stylesList[s].ld&&(this.stylesList[s].ld="1",this.stylesList[s].pElem.style.display="block"),(this.stylesList[s].mdf||this.firstFrame)&&(this.stylesList[s].pElem.setAttribute("d",this.stylesList[s].d),this.stylesList[s].msElem&&this.stylesList[s].msElem.setAttribute("d",this.stylesList[s].d));this.firstFrame&&(this.firstFrame=!1)},IShapeElement.prototype.hide=function(){if(!this.hidden){this.layerElement.style.display="none";var t,e=this.stylesList.length;for(t=e-1;t>=0;t-=1)"0"!==this.stylesList[t].ld&&(this.stylesList[t].ld="0",this.stylesList[t].pElem.style.display="none",this.stylesList[t].pElem.parentNode&&(this.stylesList[t].parent=this.stylesList[t].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(t,e,s){var r,i,a=t.length-1;for(r=a;r>=0;r-=1)i=t[r].ty,"tr"==i?((this.firstFrame||e[r].transform.op.mdf&&s)&&s.setAttribute("opacity",e[r].transform.op.v),(this.firstFrame||e[r].transform.mProps.mdf&&s)&&s.setAttribute("transform",e[r].transform.mProps.v.to2dCSS())):"sh"==i||"el"==i||"rc"==i||"sr"==i?this.renderPath(t[r],e[r]):"fl"==i?this.renderFill(t[r],e[r]):"gf"==i?this.renderGradient(t[r],e[r]):"gs"==i?(this.renderGradient(t[r],e[r]),this.renderStroke(t[r],e[r])):"st"==i?this.renderStroke(t[r],e[r]):"gr"==i&&this.renderShape(t[r].it,e[r].it,e[r].gr)},IShapeElement.prototype.buildShapeString=function(t,e,s,r){var i,a="";for(i=1;e>i;i+=1)1===i&&(a+=" M"+r.applyToPointStringified(t.v[0][0],t.v[0][1])),a+=" C"+r.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+r.applyToPointStringified(t.i[i][0],t.i[i][1])+" "+r.applyToPointStringified(t.v[i][0],t.v[i][1]);return 1===e&&(a+=" M"+r.applyToPointStringified(t.v[0][0],t.v[0][1])),s&&e&&(a+=" C"+r.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+r.applyToPointStringified(t.i[0][0],t.i[0][1])+" "+r.applyToPointStringified(t.v[0][0],t.v[0][1]),a+="z"),a},IShapeElement.prototype.renderPath=function(t,e){var s,r,i,a,n,o,h=e.elements.length,l=e.lvl;if(t._render)for(o=0;h>o;o+=1)if(e.elements[o].data._render){a=e.sh.mdf||this.firstFrame,i="M0 0";var p=e.sh.paths;if(r=p._length,e.elements[o].lvl<l){for(var m,f=this.mHelper.reset(),c=l-e.elements[o].lvl,d=e.transformers.length-1;c>0;)a=e.transformers[d].mProps.mdf||a,m=e.transformers[d].mProps.v.props,f.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),c--,d--;if(a){for(s=0;r>s;s+=1)n=p.shapes[s],n&&n._length&&(i+=this.buildShapeString(n,n._length,n.c,f));e.caches[o]=i}else i=e.caches[o]}else if(a){for(s=0;r>s;s+=1)n=p.shapes[s],n&&n._length&&(i+=this.buildShapeString(n,n._length,n.c,this.identityMatrix));e.caches[o]=i}else i=e.caches[o];e.elements[o].d+=i,e.elements[o].mdf=a||e.elements[o].mdf}else e.elements[o].mdf=!0},IShapeElement.prototype.renderFill=function(t,e){var s=e.style;(e.c.mdf||this.firstFrame)&&s.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&s.pElem.setAttribute("fill-opacity",e.o.v)},IShapeElement.prototype.renderGradient=function(t,e){var s=e.gf,r=e.of,i=e.s.v,a=e.e.v;if(e.o.mdf||this.firstFrame){var n="gf"===t.ty?"fill-opacity":"stroke-opacity";e.elem.setAttribute(n,e.o.v)}if(e.s.mdf||this.firstFrame){var o=1===t.t?"x1":"cx",h="x1"===o?"y1":"cy";s.setAttribute(o,i[0]),s.setAttribute(h,i[1]),r&&(r.setAttribute(o,i[0]),r.setAttribute(h,i[1]))}var l,p,m,f;if(e.g.cmdf||this.firstFrame){l=e.cst;var c=e.g.c;for(m=l.length,p=0;m>p;p+=1)f=l[p],f.setAttribute("offset",c[4*p]+"%"),f.setAttribute("stop-color","rgb("+c[4*p+1]+","+c[4*p+2]+","+c[4*p+3]+")")}if(r&&(e.g.omdf||this.firstFrame)){l=e.ost;var d=e.g.o;for(m=l.length,p=0;m>p;p+=1)f=l[p],f.setAttribute("offset",d[2*p]+"%"),f.setAttribute("stop-opacity",d[2*p+1])}if(1===t.t)(e.e.mdf||this.firstFrame)&&(s.setAttribute("x2",a[0]),s.setAttribute("y2",a[1]),r&&(r.setAttribute("x2",a[0]),r.setAttribute("y2",a[1])));else{var u;if((e.s.mdf||e.e.mdf||this.firstFrame)&&(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)),s.setAttribute("r",u),r&&r.setAttribute("r",u)),e.e.mdf||e.h.mdf||e.a.mdf||this.firstFrame){u||(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)));var y=Math.atan2(a[1]-i[1],a[0]-i[0]),g=e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v,v=u*g,b=Math.cos(y+e.a.v)*v+i[0],E=Math.sin(y+e.a.v)*v+i[1];s.setAttribute("fx",b),s.setAttribute("fy",E),r&&(r.setAttribute("fx",b),r.setAttribute("fy",E))}}},IShapeElement.prototype.renderStroke=function(t,e){var s=e.style,r=e.d;r&&r.k&&(r.mdf||this.firstFrame)&&(s.pElem.setAttribute("stroke-dasharray",r.dasharray),s.pElem.setAttribute("stroke-dashoffset",r.dashoffset)),e.c&&(e.c.mdf||this.firstFrame)&&s.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&s.pElem.setAttribute("stroke-opacity",e.o.v),(e.w.mdf||this.firstFrame)&&(s.pElem.setAttribute("stroke-width",e.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",e.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null},ITextElement.prototype.init=function(){this._parent.init.call(this),this.lettersChangedFlag=!1,this.currentTextDocumentData={};var t=this.data;this.viewData={m:{a:PropertyFactory.getProp(this,t.t.m.a,1,0,this.dynamicProperties)}};var e=this.data.t;if(e.a.length){this.viewData.a=Array.apply(null,{length:e.a.length});var s,r,i,a=e.a.length;for(s=0;a>s;s+=1)i=e.a[s],r={a:{},s:{}},"r"in i.a&&(r.a.r=PropertyFactory.getProp(this,i.a.r,0,degToRads,this.dynamicProperties)),"rx"in i.a&&(r.a.rx=PropertyFactory.getProp(this,i.a.rx,0,degToRads,this.dynamicProperties)),"ry"in i.a&&(r.a.ry=PropertyFactory.getProp(this,i.a.ry,0,degToRads,this.dynamicProperties)),"sk"in i.a&&(r.a.sk=PropertyFactory.getProp(this,i.a.sk,0,degToRads,this.dynamicProperties)),"sa"in i.a&&(r.a.sa=PropertyFactory.getProp(this,i.a.sa,0,degToRads,this.dynamicProperties)),"s"in i.a&&(r.a.s=PropertyFactory.getProp(this,i.a.s,1,.01,this.dynamicProperties)),"a"in i.a&&(r.a.a=PropertyFactory.getProp(this,i.a.a,1,0,this.dynamicProperties)),"o"in i.a&&(r.a.o=PropertyFactory.getProp(this,i.a.o,0,.01,this.dynamicProperties)),"p"in i.a&&(r.a.p=PropertyFactory.getProp(this,i.a.p,1,0,this.dynamicProperties)),"sw"in i.a&&(r.a.sw=PropertyFactory.getProp(this,i.a.sw,0,0,this.dynamicProperties)),"sc"in i.a&&(r.a.sc=PropertyFactory.getProp(this,i.a.sc,1,0,this.dynamicProperties)),"fc"in i.a&&(r.a.fc=PropertyFactory.getProp(this,i.a.fc,1,0,this.dynamicProperties)),"fh"in i.a&&(r.a.fh=PropertyFactory.getProp(this,i.a.fh,0,0,this.dynamicProperties)),"fs"in i.a&&(r.a.fs=PropertyFactory.getProp(this,i.a.fs,0,.01,this.dynamicProperties)),"fb"in i.a&&(r.a.fb=PropertyFactory.getProp(this,i.a.fb,0,.01,this.dynamicProperties)),"t"in i.a&&(r.a.t=PropertyFactory.getProp(this,i.a.t,0,0,this.dynamicProperties)),r.s=PropertyFactory.getTextSelectorProp(this,i.s,this.dynamicProperties),r.s.t=i.s.t,this.viewData.a[s]=r}else this.viewData.a=[];e.p&&"m"in e.p?(this.viewData.p={f:PropertyFactory.getProp(this,e.p.f,0,0,this.dynamicProperties),l:PropertyFactory.getProp(this,e.p.l,0,0,this.dynamicProperties),r:e.p.r,m:this.maskManager.getMaskProperty(e.p.m)},this.maskPath=!0):this.maskPath=!1},ITextElement.prototype.prepareFrame=function(t){var e=0,s=this.data.t.d.k.length,r=this.data.t.d.k[e].s;for(e+=1;s>e&&!(this.data.t.d.k[e].t>t);)r=this.data.t.d.k[e].s,e+=1;this.lettersChangedFlag=!1,r!==this.currentTextDocumentData&&(this.currentTextDocumentData=r,this.lettersChangedFlag=!0,this.buildNewText()),this._parent.prepareFrame.call(this,t)},ITextElement.prototype.createPathShape=function(t,e){var s,r,i=e.length,a="";for(s=0;i>s;s+=1)r=e[s].ks.k,a+=this.buildShapeString(r,r.i.length,!0,t);return a},ITextElement.prototype.getMeasures=function(){var t,e,s,r,i=this.mHelper,a=this.renderType,n=this.data,o=this.currentTextDocumentData,h=o.l;if(this.maskPath){var l=this.viewData.p.m;if(!this.viewData.p.n||this.viewData.p.mdf){var p=l.v;this.viewData.p.r&&(p=reversePath(p));var m={tLength:0,segments:[]};r=p.v.length-1;var f,c=0;for(s=0;r>s;s+=1)f={s:p.v[s],e:p.v[s+1],to:[p.o[s][0]-p.v[s][0],p.o[s][1]-p.v[s][1]],ti:[p.i[s+1][0]-p.v[s+1][0],p.i[s+1][1]-p.v[s+1][1]]},bez.buildBezierData(f),m.tLength+=f.bezierData.segmentLength,m.segments.push(f),c+=f.bezierData.segmentLength;s=r,l.v.c&&(f={s:p.v[s],e:p.v[0],to:[p.o[s][0]-p.v[s][0],p.o[s][1]-p.v[s][1]],ti:[p.i[0][0]-p.v[0][0],p.i[0][1]-p.v[0][1]]},bez.buildBezierData(f),m.tLength+=f.bezierData.segmentLength,m.segments.push(f),c+=f.bezierData.segmentLength),this.viewData.p.pi=m}var d,u,y,m=this.viewData.p.pi,g=this.viewData.p.f.v,v=0,b=1,E=0,P=!0,S=m.segments;if(0>g&&l.v.c)for(m.tLength<Math.abs(g)&&(g=-Math.abs(g)%m.tLength),v=S.length-1,y=S[v].bezierData.points,b=y.length-1;0>g;)g+=y[b].partialLength,b-=1,0>b&&(v-=1,y=S[v].bezierData.points,b=y.length-1);y=S[v].bezierData.points,u=y[b-1],d=y[b];var x,C,k=d.partialLength}r=h.length,t=0,e=0;var M,A,D,w,T,F=1.2*o.s*.714,I=!0,_=this.viewData,V=Array.apply(null,{length:r});w=_.a.length;var R,B,N,L,G,O,j,z,H,W,Y,X,q,J,U,Z,K=-1,Q=g,$=v,tt=b,et=-1,st=0;for(s=0;r>s;s+=1)if(i.reset(),O=1,h[s].n)t=0,e+=o.yOffset,e+=I?1:0,g=Q,I=!1,st=0,this.maskPath&&(v=$,b=tt,y=S[v].bezierData.points,u=y[b-1],d=y[b],k=d.partialLength,E=0),V[s]=this.emptyProp;else{if(this.maskPath){if(et!==h[s].line){switch(o.j){case 1:g+=c-o.lineWidths[h[s].line];break;case 2:g+=(c-o.lineWidths[h[s].line])/2}et=h[s].line}K!==h[s].ind&&(h[K]&&(g+=h[K].extra),g+=h[s].an/2,K=h[s].ind),g+=_.m.a.v[0]*h[s].an/200;var rt=0;for(D=0;w>D;D+=1)M=_.a[D].a,"p"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),rt+=B.length?M.p.v[0]*B[0]:M.p.v[0]*B),"a"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),rt+=B.length?M.a.v[0]*B[0]:M.a.v[0]*B);for(P=!0;P;)E+k>=g+rt||!y?(x=(g+rt-E)/d.partialLength,L=u.point[0]+(d.point[0]-u.point[0])*x,G=u.point[1]+(d.point[1]-u.point[1])*x,i.translate(-_.m.a.v[0]*h[s].an/200,-(_.m.a.v[1]*F/100)),P=!1):y&&(E+=d.partialLength,b+=1,b>=y.length&&(b=0,v+=1,S[v]?y=S[v].bezierData.points:l.v.c?(b=0,v=0,y=S[v].bezierData.points):(E-=d.partialLength,y=null)),y&&(u=d,d=y[b],k=d.partialLength));N=h[s].an/2-h[s].add,i.translate(-N,0,0)}else N=h[s].an/2-h[s].add,i.translate(-N,0,0),i.translate(-_.m.a.v[0]*h[s].an/200,-_.m.a.v[1]*F/100,0);for(st+=h[s].l/2,D=0;w>D;D+=1)M=_.a[D].a,"t"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),this.maskPath?g+=B.length?M.t*B[0]:M.t*B:t+=B.length?M.t.v*B[0]:M.t.v*B);for(st+=h[s].l/2,o.strokeWidthAnim&&(z=o.sw||0),o.strokeColorAnim&&(j=o.sc?[o.sc[0],o.sc[1],o.sc[2]]:[0,0,0]),o.fillColorAnim&&(H=[o.fc[0],o.fc[1],o.fc[2]]),D=0;w>D;D+=1)M=_.a[D].a,"a"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),B.length?i.translate(-M.a.v[0]*B[0],-M.a.v[1]*B[1],M.a.v[2]*B[2]):i.translate(-M.a.v[0]*B,-M.a.v[1]*B,M.a.v[2]*B));for(D=0;w>D;D+=1)M=_.a[D].a,"s"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),B.length?i.scale(1+(M.s.v[0]-1)*B[0],1+(M.s.v[1]-1)*B[1],1):i.scale(1+(M.s.v[0]-1)*B,1+(M.s.v[1]-1)*B,1));for(D=0;w>D;D+=1){if(M=_.a[D].a,A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),"sk"in M&&(B.length?i.skewFromAxis(-M.sk.v*B[0],M.sa.v*B[1]):i.skewFromAxis(-M.sk.v*B,M.sa.v*B)),"r"in M&&i.rotateZ(B.length?-M.r.v*B[2]:-M.r.v*B),"ry"in M&&i.rotateY(B.length?M.ry.v*B[1]:M.ry.v*B),"rx"in M&&i.rotateX(B.length?M.rx.v*B[0]:M.rx.v*B),"o"in M&&(O+=B.length?(M.o.v*B[0]-O)*B[0]:(M.o.v*B-O)*B),o.strokeWidthAnim&&"sw"in M&&(z+=B.length?M.sw.v*B[0]:M.sw.v*B),o.strokeColorAnim&&"sc"in M)for(W=0;3>W;W+=1)j[W]=Math.round(B.length?255*(j[W]+(M.sc.v[W]-j[W])*B[0]):255*(j[W]+(M.sc.v[W]-j[W])*B));if(o.fillColorAnim){if("fc"in M)for(W=0;3>W;W+=1)H[W]=B.length?H[W]+(M.fc.v[W]-H[W])*B[0]:H[W]+(M.fc.v[W]-H[W])*B;"fh"in M&&(H=B.length?addHueToRGB(H,M.fh.v*B[0]):addHueToRGB(H,M.fh.v*B)),"fs"in M&&(H=B.length?addSaturationToRGB(H,M.fs.v*B[0]):addSaturationToRGB(H,M.fs.v*B)),"fb"in M&&(H=B.length?addBrightnessToRGB(H,M.fb.v*B[0]):addBrightnessToRGB(H,M.fb.v*B))}}for(D=0;w>D;D+=1)M=_.a[D].a,"p"in M&&(A=_.a[D].s,B=A.getMult(h[s].anIndexes[D],n.t.a[D].s.totalChars),this.maskPath?B.length?i.translate(0,M.p.v[1]*B[0],-M.p.v[2]*B[1]):i.translate(0,M.p.v[1]*B,-M.p.v[2]*B):B.length?i.translate(M.p.v[0]*B[0],M.p.v[1]*B[1],-M.p.v[2]*B[2]):i.translate(M.p.v[0]*B,M.p.v[1]*B,-M.p.v[2]*B));if(o.strokeWidthAnim&&(Y=0>z?0:z),o.strokeColorAnim&&(X="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),o.fillColorAnim&&(q="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this.maskPath){if(i.translate(0,-o.ls),i.translate(0,_.m.a.v[1]*F/100+e,0),n.t.p.p){C=(d.point[1]-u.point[1])/(d.point[0]-u.point[0]);var it=180*Math.atan(C)/Math.PI;d.point[0]<u.point[0]&&(it+=180),i.rotate(-it*Math.PI/180)}i.translate(L,G,0),g-=_.m.a.v[0]*h[s].an/200,h[s+1]&&K!==h[s+1].ind&&(g+=h[s].an/2,g+=o.tr/1e3*o.s)}else{switch(i.translate(t,e,0),o.ps&&i.translate(o.ps[0],o.ps[1]+o.ascent,0),o.j){case 1:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[h[s].line]),0,0);break;case 2:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[h[s].line])/2,0,0)}i.translate(0,-o.ls),i.translate(N,0,0),i.translate(_.m.a.v[0]*h[s].an/200,_.m.a.v[1]*F/100,0),t+=h[s].l+o.tr/1e3*o.s}"html"===a?J=i.toCSS():"svg"===a?J=i.to2dCSS():U=[i.props[0],i.props[1],i.props[2],i.props[3],i.props[4],i.props[5],i.props[6],i.props[7],i.props[8],i.props[9],i.props[10],i.props[11],i.props[12],i.props[13],i.props[14],i.props[15]],Z=O,R=this.renderedLetters[s],!R||R.o===Z&&R.sw===Y&&R.sc===X&&R.fc===q?"svg"!==a&&"html"!==a||R&&R.m===J?"canvas"!==a||R&&R.props[0]===U[0]&&R.props[1]===U[1]&&R.props[4]===U[4]&&R.props[5]===U[5]&&R.props[12]===U[12]&&R.props[13]===U[13]?T=R:(this.lettersChangedFlag=!0,T=new LetterProps(Z,Y,X,q,null,U)):(this.lettersChangedFlag=!0,T=new LetterProps(Z,Y,X,q,J)):(this.lettersChangedFlag=!0,T=new LetterProps(Z,Y,X,q,J,U)),this.renderedLetters[s]=T}},ITextElement.prototype.buildShapeString=IShapeElement.prototype.buildShapeString,ITextElement.prototype.emptyProp=new LetterProps,createElement(SVGBaseElement,SVGTextElement),SVGTextElement.prototype.init=ITextElement.prototype.init,SVGTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,SVGTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,SVGTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,SVGTextElement.prototype.buildShapeString=ITextElement.prototype.buildShapeString,SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},SVGTextElement.prototype.buildNewText=function(){var t,e,s=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),s.fc?this.layerElement.setAttribute("fill","rgb("+Math.round(255*s.fc[0])+","+Math.round(255*s.fc[1])+","+Math.round(255*s.fc[2])+")"):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke","rgb("+Math.round(255*s.sc[0])+","+Math.round(255*s.sc[1])+","+Math.round(255*s.sc[2])+")"),this.layerElement.setAttribute("stroke-width",s.sw)),this.layerElement.setAttribute("font-size",s.s);var r=this.globalData.fontManager.getFontByName(s.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=s.fWeight,a=s.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",i)}var n=s.l||[];if(e=n.length){var o,h,l=this.mHelper,p="",m=this.data.singleShape;if(m)var f=0,c=0,d=s.lineWidths,u=s.boxWidth,y=!0;

var g=0;for(t=0;e>t;t+=1){if(this.globalData.fontManager.chars?m&&0!==t||(o=this.textSpans[g]?this.textSpans[g]:document.createElementNS(svgNS,"path")):o=this.textSpans[g]?this.textSpans[g]:document.createElementNS(svgNS,"text"),o.style.display="inherit",o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),m&&n[t].n&&(f=0,c+=s.yOffset,c+=y?1:0,y=!1),l.reset(),this.globalData.fontManager.chars&&l.scale(s.s/100,s.s/100),m){switch(s.ps&&l.translate(s.ps[0],s.ps[1]+s.ascent,0),l.translate(0,-s.ls,0),s.j){case 1:l.translate(s.justifyOffset+(u-d[n[t].line]),0,0);break;case 2:l.translate(s.justifyOffset+(u-d[n[t].line])/2,0,0)}l.translate(f,c,0)}if(this.globalData.fontManager.chars){var v,b=this.globalData.fontManager.getCharData(s.t.charAt(t),r.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily);v=b?b.data:null,v&&v.shapes&&(h=v.shapes[0].it,m||(p=""),p+=this.createPathShape(l,h),m||o.setAttribute("d",p)),m||this.layerElement.appendChild(o)}else o.textContent=n[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.layerElement.appendChild(o),m&&o.setAttribute("transform",l.to2dCSS());m&&(f+=n[t].l||0,f+=s.tr/1e3*s.s),this.textSpans[g]=o,g+=1}if(!m)for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1;m&&this.globalData.fontManager.chars&&(o.setAttribute("d",p),this.layerElement.appendChild(o))}},SVGTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden&&this.show(),!this.data.singleShape&&(this.getMeasures(),this.lettersChangedFlag)){var s,r,i=this.renderedLetters,a=this.currentTextDocumentData.l;r=a.length;var n;for(s=0;r>s;s+=1)a[s].n||(n=i[s],this.textSpans[s].setAttribute("transform",n.m),this.textSpans[s].setAttribute("opacity",n.o),n.sw&&this.textSpans[s].setAttribute("stroke-width",n.sw),n.sc&&this.textSpans[s].setAttribute("stroke",n.sc),n.fc&&this.textSpans[s].setAttribute("fill",n.fc));this.firstFrame&&(this.firstFrame=!1)}},SVGTextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",s[0]-e[0]+" 0 0 0 "+e[0]+" "+(s[1]-e[1])+" 0 0 0 "+e[1]+" "+(s[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[2].p.v,s=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+s+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,s,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,s=0):(s=this.filterManager.effectElements[0].p.v-1,r=s+1),e=document.createElementNS(svgNS,"g"),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1),s;r>s;s+=1)t=document.createElementNS(svgNS,"path"),e.appendChild(t),this.paths.push({p:t,m:s});if(3===this.filterManager.effectElements[10].p.v){var a=document.createElementNS(svgNS,"mask"),n="stms_"+randomString(10);a.setAttribute("id",n),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=document.createElementNS(svgNS,"g");o.setAttribute("mask","url(#"+n+")"),i[0]&&o.appendChild(i[0]),this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(var i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,s,r,i=this.paths.length;for(e=0;i>e;e+=1)if(s=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager.mdf||s.prop.mdf)&&r.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||s.prop.mdf){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var n=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=r.getTotalLength();a="0 0 0 "+h*n+" ";var l,p=h*(o-n),m=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(p/m);for(l=0;f>l;l+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*h+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p.mdf)){var c=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*c[0])+","+bm_floor(255*c[1])+","+bm_floor(255*c[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+s[0]+" "+e[0],a=r[1]+" "+s[1]+" "+e[1],n=r[2]+" "+s[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",n)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var s=document.createElementNS(svgNS,t);return s.setAttribute("type","table"),e.appendChild(s),s},SVGProLevelsFilter.prototype.getTableValue=function(t,e,s,r,i){for(var a,n,o=0,h=256,l=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:h}),f=0,c=i-r,d=e-t;256>=o;)a=o/256,n=l>=a?0>d?i:r:a>=p?0>d?r:i:r+c*Math.pow((a-t)/d,1/s),m[f++]=n,o+=256/(h-1);return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e,s=this.filterManager.effectElements;this.feFuncRComposed&&(t||s[2].p.mdf||s[3].p.mdf||s[4].p.mdf||s[5].p.mdf||s[6].p.mdf)&&(e=this.getTableValue(s[2].p.v,s[3].p.v,s[4].p.v,s[5].p.v,s[6].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||s[9].p.mdf||s[10].p.mdf||s[11].p.mdf||s[12].p.mdf||s[13].p.mdf)&&(e=this.getTableValue(s[9].p.v,s[10].p.v,s[11].p.v,s[12].p.v,s[13].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||s[16].p.mdf||s[17].p.mdf||s[18].p.mdf||s[19].p.mdf||s[20].p.mdf)&&(e=this.getTableValue(s[16].p.v,s[17].p.v,s[18].p.v,s[19].p.v,s[20].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||s[23].p.mdf||s[24].p.mdf||s[25].p.mdf||s[26].p.mdf||s[27].p.mdf)&&(e=this.getTableValue(s[23].p.v,s[24].p.v,s[25].p.v,s[26].p.v,s[27].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||s[30].p.mdf||s[31].p.mdf||s[32].p.mdf||s[33].p.mdf||s[34].p.mdf)&&(e=this.getTableValue(s[30].p.v,s[31].p.v,s[32].p.v,s[33].p.v,s[34].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){if((t||this.filterManager.effectElements[4].p.mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p.mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p.mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p.mdf||this.filterManager.effectElements[3].p.mdf){var s=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=s*Math.cos(r),a=s*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",a)}}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var s=document.createElementNS(svgNS,"mask");s.setAttribute("id",e.layerId),s.setAttribute("mask-type","alpha"),s.appendChild(e.layerElement),t.setMatte(e.layerId),e.data.hd=!1;var r=t.globalData.defs;r.appendChild(s)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=0,s=this.elem.comp.elements.length;s>e;)this.elem.comp.elements[e].data.ind===t&&this.setElementAsMask(this.elem,this.elem.comp.elements[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,s=this.filters.length;for(e=0;s>e;e+=1)this.filters[e].renderFrame(t)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){this._parent.hide.call(this);var t,e=this.elements.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].hide()}},ICompElement.prototype.prepareFrame=function(t){if(this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){if(this.tm){var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}else this.renderedFrame=t/this.data.sr;var s,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),s=0;r>s;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(this.renderedFrame-this.layers[s].st)}},ICompElement.prototype.renderFrame=function(t){var e,s=this._parent.renderFrame.call(this,t),r=this.layers.length;if(s===!1)return void this.hide();for(this.hidden&&this.show(),e=0;r>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var t,e=this.layers.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);return e===!1?void this.hide():(this.hidden&&this.show(),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=document.createElementNS(svgNS,"rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t),this.innerElem=t,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=function(){function t(t){for(var e=0,s=t.target;C>e;)S[e].animation===s&&(S.splice(e,1),e-=1,C-=1,s.isPaused||r()),e+=1}function e(t,e){if(!t)return null;for(var s=0;C>s;){if(S[s].elem==t&&null!==S[s].elem)return S[s].animation;s+=1}var r=new AnimationItem;return i(r,t),r.setData(t,e),r}function s(){M+=1,E()}function r(){M-=1,0===M&&(k=!0)}function i(e,i){e.addEventListener("destroy",t),e.addEventListener("_active",s),e.addEventListener("_idle",r),S.push({elem:i,animation:e}),C+=1}function a(t){var e=new AnimationItem;return i(e,null),e.setParams(t),e}function n(t,e){var s;for(s=0;C>s;s+=1)S[s].animation.setSpeed(t,e)}function o(t,e){var s;for(s=0;C>s;s+=1)S[s].animation.setDirection(t,e)}function h(t){var e;for(e=0;C>e;e+=1)S[e].animation.play(t)}function l(t,e){x=Date.now();var s;for(s=0;C>s;s+=1)S[s].animation.moveFrame(t,e)}function p(t){var e,s=t-x;for(e=0;C>e;e+=1)S[e].animation.advanceTime(s);x=t,k||requestAnimationFrame(p)}function m(t){x=t,requestAnimationFrame(p)}function f(t){var e;for(e=0;C>e;e+=1)S[e].animation.pause(t)}function c(t,e,s){var r;for(r=0;C>r;r+=1)S[r].animation.goToAndStop(t,e,s)}function d(t){var e;for(e=0;C>e;e+=1)S[e].animation.stop(t)}function u(t){var e;for(e=0;C>e;e+=1)S[e].animation.togglePause(t)}function y(t){var e;for(e=C-1;e>=0;e-=1)S[e].animation.destroy(t)}function g(t,s,r){var i,a=document.getElementsByClassName("bodymovin"),n=a.length;for(i=0;n>i;i+=1)r&&a[i].setAttribute("data-bm-type",r),e(a[i],t);if(s&&0===n){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",r),o.appendChild(h),e(h,t)}}function v(){var t;for(t=0;C>t;t+=1)S[t].animation.resize()}function b(){requestAnimationFrame(m)}function E(){k&&(k=!1,requestAnimationFrame(m))}var P={},S=[],x=0,C=0,k=!0,M=0;return setTimeout(b,0),P.registerAnimation=e,P.loadAnimation=a,P.setSpeed=n,P.setDirection=o,P.play=h,P.moveFrame=l,P.pause=f,P.stop=d,P.togglePause=u,P.searchAnimations=g,P.resize=v,P.start=b,P.goToAndStop=c,P.destroy=y,P}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()};AnimationItem.prototype.setParams=function(t){var e=this;t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var s=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(s){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,t.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=s,""===t.loop||null===t.loop||(this.loop=t.loop===!1?!1:t.loop===!0?!0:parseInt(t.loop)),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.prerenderFramesFlag="prerender"in t?t.prerender:!0,this.autoloadSegments=t.hasOwnProperty("autoloadSegments")?t.autoloadSegments:!0,t.animationData)e.configAnimation(t.animationData);else if(t.path){"json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json");var r=new XMLHttpRequest;this.path=-1!=t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.assetsPath=t.assetsPath,this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),r.open("GET",t.path,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status)e.configAnimation(JSON.parse(r.responseText));else try{var t=JSON.parse(r.responseText);e.configAnimation(t)}catch(s){}}}},AnimationItem.prototype.setData=function(t,e){var s={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},r=t.attributes;s.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",s.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===i||(s.loop="false"===i?!1:"true"===i?!0:parseInt(i));var a=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:r.getNamedItem("bm-autoplay")?r.getNamedItem("bm-autoplay").value:!0;s.autoplay="false"!==a,s.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var n=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";"false"===n&&(s.prerender=!1),console.log("animElements:",s),this.setParams(s)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var e,s,r=this.animationData.layers,i=r.length,a=t.layers,n=a.length;for(s=0;n>s;s+=1)for(e=0;i>e;){if(r[e].id==a[s].id){r[e]=a[s];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;i>e;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var s=new XMLHttpRequest,r=this,i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,s.open("GET",i,!0),s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)r.includeLayers(JSON.parse(s.responseText));else try{var t=JSON.parse(s.responseText);r.includeLayers(t)}catch(e){}}},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(t){this.renderer&&this.renderer.destroyed||(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(t),t.assets||(t.assets=[]),t.comps&&(t.assets=t.assets.concat(t.comps),t.comps=null),this.renderer.searchExtraCompositions(t.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(t.assets),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){function t(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(t.bind(this),20)}return function(){t.bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=t?!0:!1},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||this.isPaused===!0&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||this.isPaused===!1&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(t,e,s){s&&this.name!=s||(this.setCurrentRawFrameValue(e?t:t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,s){this.goToAndStop(t,e,s),this.play()},AnimationItem.prototype.advanceTime=function(t){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(this.isPaused!==!0&&this.isLoaded!==!1&&this.setCurrentRawFrameValue(this.currentRawFrame+t*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(t){this.setCurrentRawFrameValue(this.totalFrames*t)},AnimationItem.prototype.moveFrame=function(t,e){e&&this.name!=e||this.setCurrentRawFrameValue(this.currentRawFrame+t)},AnimationItem.prototype.adjustSegment=function(t){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?s=t:this.currentRawFrame+this.firstFrame>e&&(s=e-t-.01)),this.firstFrame=t,this.totalFrames=e-t,-1!==s&&this.goToAndStop(s,!0)},AnimationItem.prototype.playSegments=function(t,e){if("object"==typeof t[0]){var s,r=t.length;for(s=0;r>s;s+=1)this.segments.push(t[s])}else this.segments.push(t);e&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),t&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(t){t&&this.name!=t||this.renderer.destroy()},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){if(this.currentRawFrame=t,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),this.loop===!1)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,this.loop!==!0&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),this.loop===!1||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=0>t?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(this.assetsPath){var s=t.p;-1!==s.indexOf("images/")&&(s=s.split("/")[1]),e=this.assetsPath+s}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,s=this.assets.length;s>e;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(t){return new CVBaseElement(t,this,this.globalData)},CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this,this.globalData)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this,this.globalData)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this,this.globalData)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);this.transformMat.cloneFromProps(t),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var e=this.contextData.cTr.props;this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}},CanvasRenderer.prototype.ctxOpacity=function(t){if(1!==t){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=0>t?0:t);this.contextData.cO*=0>t?0:t,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();t&&this.canvasContext.save();var e=this.contextData.cTr.props;(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16));

var s,r=this.contextData.saved[this.contextData.cArrPos];for(s=0;16>s;s+=1)r[s]=e[s];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();t&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var e,s=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(e=0;16>e;e+=1)r[e]=s[e];this.canvasContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),s=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=s,this.canvasContext.globalAlpha=s},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d")):this.canvasContext=this.renderConfig.context,this.data=t,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(t.tf),this.globalData.compWidth=t.w,this.globalData.compHeight=t.h,this.globalData.frameRate=t.fr,this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=t.layers,this.transformCanvas={},this.transformCanvas.w=t.w,this.transformCanvas.h=t.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:t.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var s,r;if(-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),a=i[1]||"meet",n=i[0]||"xMidYMid",o=n.substr(0,4),h=n.substr(4);s=t/e,r=this.transformCanvas.w/this.transformCanvas.h,r>s&&"meet"===a||s>r&&"slice"===a?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(s>r&&"meet"===a||r>s&&"slice"===a)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(s>r&&"meet"===a||r>s&&"slice"===a)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(r>s&&"meet"===a||s>r&&"slice"===a)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(r>s&&"meet"===a||s>r&&"slice"===a)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var l,p=this.elements.length;for(l=0;p>l;l+=1)this.elements[l]&&0===this.elements[l].data.ty&&this.elements[l].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&this.renderConfig.clearCanvas===!0||this.destroyed||null===t)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.renderConfig.clearCanvas===!0?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var e,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;s>e;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=s-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var s=this.createItem(this.layers[t],this,this.globalData);e[t]=s,s.initExpressions(),0===this.layers[t].ty&&s.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(t){{var e,s=t.length;document.createElementNS(svgNS,"g")}for(e=0;s>e;e+=1)if(t[e].xt){var r=this.createComp(t[e],this.globalData.comp,this.globalData);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var s=t.getBaseElement();if(s){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(s,e);else{for(var i,a=0;e>a;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement&&(i=this.elements[a].getBaseElement()),a+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(s,i):r.ddd&&this.supports3d||this.layerElement.appendChild(s)}}},HybridRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.layerElement,this.globalData,this):new IShapeElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.layerElement,this.globalData,this):new SVGTextElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.layerElement,this.globalData,this):new IImageElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.layerElement,this.globalData,this):new ICompElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.layerElement,this.globalData,this):new ISolidElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainer=function(t){var e=document.createElement("div");styleDiv(e),e.style.width=this.globalData.compSize.w+"px",e.style.height=this.globalData.compSize.h+"px",e.style.transformOrigin=e.style.mozTransformOrigin=e.style.webkitTransformOrigin="50% 50%";var s=document.createElement("div");styleDiv(s),s.style.transform=s.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",e.appendChild(s),this.resizerElem.appendChild(e);var r={container:s,perspectiveElem:e,startPos:t,endPos:t};return this.threeDElements.push(r),r},HybridRenderer.prototype.build3dContainers=function(){var t,e,s=this.layers.length;for(t=0;s>t;t+=1)this.layers[t].ddd?(e||(e=this.getThreeDContainer(t)),e.endPos=Math.max(e.endPos,t)):e=null},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var s=0,r=this.threeDElements.length;r>s;){if(e<=this.threeDElements[s].endPos){for(var i,a=this.threeDElements[s].startPos;e>a;)this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a].getBaseElement()),a+=1;i?this.threeDElements[s].container.insertBefore(t,i):this.threeDElements[s].container.appendChild(t);break}s+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=document.createElement("div"),s=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",s.appendChild(e),e.style.overflow="hidden";var r=document.createElementNS(svgNS,"svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var i=document.createElementNS(svgNS,"defs");r.appendChild(i),this.globalData.defs=i,this.data=t,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.frameRate=t.fr,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,r),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,s,r,i=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,n=i/a,o=this.globalData.compSize.w/this.globalData.compSize.h;o>n?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,s=0,r=(a-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,e=a/this.globalData.compSize.h,s=(i-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+s+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,s=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;r>t;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(s,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,s=t.length,r=document.createElement("div");for(e=0;s>e;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(t){if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e="";switch(this.data.bm){case 0:e="normal";break;case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}t.canvasContext.globalCompositeOperation=e}},CVBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var e,s=this.finalTransform.mat;if(this.hierarchy){var r,i=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e),r=0;i>r;r+=1)this.finalTransform.matMdf=this.hierarchy[r].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,e=this.hierarchy[r].finalTransform.mProp.v.props,s.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else t?(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e)):s.cloneFromProps(this.finalTransform.mProp.v.props);return t&&(e=t.mat.props,s.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=t.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=t.matMdf?!0:this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:s)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(t){this.maskManager=new CVMaskElement(t,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(t){var e=Math.max(t.sx,t.sy);this.canvas.width=this.data.w*e,this.canvas.height=this.data.h*e,this.transformCanvas={sc:e,w:this.data.w*e,h:this.data.h*e,props:[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]};var s,r=this.elements.length;for(s=0;r>s;s+=1)this.elements[s]&&0===this.elements[s].data.ty&&this.elements[s].resize(t)},CVCompElement.prototype.prepareFrame=function(t){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){var e=t;this.tm&&(e=this.tm.v,e===this.data.op&&(e=this.data.op-1)),this.renderedFrame=e/this.data.sr;var s,r=this.elements.length;for(this.completeLayers||this.checkLayers(t),s=0;r>s;s+=1)(this.completeLayers||this.elements[s])&&(this.elements[s].prepareFrame(e/this.data.sr-this.layers[s].st),0===this.elements[s].data.ty&&this.elements[s].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){if(this.globalData.mdf){var e,s=this.layers.length;for(e=s-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(t){this.elements=t},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var t=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=document.createElement("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,s,r=t.getContext("2d"),i=this.img.width,a=this.img.height,n=i/a,o=this.assetData.w/this.assetData.h;n>o?(s=a,e=s*o):(e=i,s=e/o),r.drawImage(this.img,(i-e)/2,(a-s)/2,e,s,0,0,this.assetData.w,this.assetData.h),this.img=t}}.bind(this),e=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",t,!1),this.img.addEventListener("error",e,!1);var s=this.globalData.getAssetsPath(this.assetData);this.img.src=s,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(t){if(!this.failed&&this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;this.globalData.renderer.save();var s=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(s),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.getMaskProperty=function(t){return this.viewData[t]},CVMaskElement.prototype.prepareFrame=function(t){var e,s=this.dynamicProperties.length;for(e=0;s>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(t){var e,s,r,i,a,n=this.element.canvasContext,o=this.data.masksProperties.length,h=!1;for(e=0;o>e;e++)if("n"!==this.masksProperties[e].mode){h===!1&&(n.beginPath(),h=!0),this.masksProperties[e].inv&&(n.moveTo(0,0),n.lineTo(this.element.globalData.compWidth,0),n.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),n.lineTo(0,this.element.globalData.compHeight),n.lineTo(0,0)),a=this.viewData[e].v,s=t?t.applyToPointArray(a.v[0][0],a.v[0][1],0):a.v[0],n.moveTo(s[0],s[1]);var l,p=a._length;for(l=1;p>l;l++)s=t?t.applyToPointArray(a.o[l-1][0],a.o[l-1][1],0):a.o[l-1],r=t?t.applyToPointArray(a.i[l][0],a.i[l][1],0):a.i[l],i=t?t.applyToPointArray(a.v[l][0],a.v[l][1],0):a.v[l],n.bezierCurveTo(s[0],s[1],r[0],r[1],i[0],i[1]);s=t?t.applyToPointArray(a.o[l-1][0],a.o[l-1][1],0):a.o[l-1],r=t?t.applyToPointArray(a.i[0][0],a.i[0][1],0):a.i[0],i=t?t.applyToPointArray(a.v[0][0],a.v[0][1],0):a.v[0],n.bezierCurveTo(s[0],s[1],r[0],r[1],i[0],i[1])}h&&n.clip()},CVMaskElement.prototype.getMask=function(t){for(var e=0,s=this.masksProperties.length;s>e;){if(this.masksProperties[e].nm===t)return{maskPath:this.viewData[e].pv};e+=1}},CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0)},CVShapeElement.prototype.createStyleElement=function(t,e){var s={data:t,type:t.ty,elements:[]},r={};if(("fl"==t.ty||"st"==t.ty)&&(r.c=PropertyFactory.getProp(this,t.c,1,255,e),r.c.k||(s.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")),r.o=PropertyFactory.getProp(this,t.o,0,.01,e),"st"==t.ty){if(s.lc=this.lcEnum[t.lc]||"round",s.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(s.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,e),r.w.k||(s.wi=r.w.v),t.d){var i=PropertyFactory.getDashProp(this,t.d,"canvas",e);r.d=i,r.d.k||(s.da=r.d.dasharray,s["do"]=r.d.dashoffset)}}else s.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(s),r.style=s,r},CVShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(t,e){var s={transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:PropertyFactory.getProp(this,t,2,null,e)},elements:[]};return s},CVShapeElement.prototype.createShapeElement=function(t,e){var s={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},r=4;"rc"==t.ty?r=5:"el"==t.ty?r=6:"sr"==t.ty&&(r=7),s.sh=ShapePropertyFactory.getShapeProp(this,t,r,e),this.shapes.push(s.sh),this.addShapeToModifiers(s),jLen=this.stylesList.length;var i=!1,a=!1;for(j=0;j<jLen;j+=1)this.stylesList[j].closed||(this.stylesList[j].elements.push(s),"st"===this.stylesList[j].type?i=!0:a=!0);return s.st=i,s.fl=a,s},CVShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t,e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0);var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(t,e,s,r,i){var a,n,o,h,l=t.length-1,p=[],m=[];for(a=l;a>=0;a-=1){if(h=this.searchProcessedElement(t[a]),h?e[a]=s[h-1]:t[a]._render=i,"fl"==t[a].ty||"st"==t[a].ty)h?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],r),p.push(e[a].style);else if("gr"==t[a].ty){if(h)for(o=e[a].it.length,n=0;o>n;n+=1)e[a].prevViewData[n]=e[a].it[n];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,r,i)}else if("tr"==t[a].ty)h||(e[a]=this.createTransformElement(t[a],r));else if("sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty)h||(e[a]=this.createShapeElement(t[a],r));else if("tm"==t[a].ty||"rd"==t[a].ty){if(h)f=e[a],f.closed=!1;else{var f=ShapeModifiers.getModifier(t[a].ty);f.init(this,t[a],r),e[a]=f,this.shapeModifiers.push(f)}m.push(f)}else"rp"==t[a].ty&&(h?(f=e[a],f.closed=!0):(f=ShapeModifiers.getModifier(t[a].ty),e[a]=f,f.init(this,t,a,e,r),this.shapeModifiers.push(f),i=!1),m.push(f));this.addProcessedElement(t[a],a+1)}for(l=p.length,a=0;l>a;a+=1)p[a].closed=!0;for(l=m.length,a=0;l>a;a+=1)m[a].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.lcEnum=IShapeElement.prototype.lcEnum,CVShapeElement.prototype.ljEnum=IShapeElement.prototype.ljEnum,CVShapeElement.prototype.searchProcessedElement=IShapeElement.prototype.searchProcessedElement,CVShapeElement.prototype.addProcessedElement=IShapeElement.prototype.addProcessedElement,CVShapeElement.prototype.renderFrame=function(t){this._parent.renderFrame.call(this,t)!==!1&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(t,e,s,r){var i,a;if(!e)for(e=this.shapesData,a=this.stylesList.length,i=0;a>i;i+=1)this.stylesList[i].d="",this.stylesList[i].mdf=!1;s||(s=this.itemsData),a=e.length-1;var n,o;for(n=t,i=a;i>=0;i-=1)if("tr"==e[i].ty){n=s[i].transform;var h=s[i].transform.mProps.v.props;if(n.matMdf=n.mProps.mdf,n.opMdf=n.op.mdf,o=n.mat,o.cloneFromProps(h),t){var l=t.mat.props;n.opacity=t.opacity,n.opacity*=s[i].transform.op.v,n.matMdf=t.matMdf?!0:n.matMdf,n.opMdf=t.opMdf?!0:n.opMdf,o.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}else n.opacity=n.op.o}else"sh"==e[i].ty||"el"==e[i].ty||"rc"==e[i].ty||"sr"==e[i].ty?this.renderPath(e[i],s[i],n):"fl"==e[i].ty?this.renderFill(e[i],s[i],n):"st"==e[i].ty?this.renderStroke(e[i],s[i],n):"gr"==e[i].ty?this.renderShape(n,e[i].it,s[i].it):"tm"==e[i].ty;if(r){a=this.stylesList.length;var p,m,f,c,d,u,y,g=this.globalData.renderer,v=this.globalData.canvasContext;for(g.save(),g.ctxTransform(this.finalTransform.mat.props),i=0;a>i;i+=1)if(y=this.stylesList[i].type,("st"!==y||0!==this.stylesList[i].wi)&&this.stylesList[i].data._render){for(g.save(),d=this.stylesList[i].elements,"st"===y?(v.strokeStyle=this.stylesList[i].co,v.lineWidth=this.stylesList[i].wi,v.lineCap=this.stylesList[i].lc,v.lineJoin=this.stylesList[i].lj,v.miterLimit=this.stylesList[i].ml||0):v.fillStyle=this.stylesList[i].co,g.ctxOpacity(this.stylesList[i].coOp),"st"!==y&&v.beginPath(),m=d.length,p=0;m>p;p+=1){for("st"===y&&(v.beginPath(),this.stylesList[i].da?(v.setLineDash(this.stylesList[i].da),v.lineDashOffset=this.stylesList[i]["do"],this.globalData.isDashed=!0):this.globalData.isDashed&&(v.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),u=d[p].trNodes,c=u.length,f=0;c>f;f+=1)"m"==u[f].t?v.moveTo(u[f].p[0],u[f].p[1]):"c"==u[f].t?v.bezierCurveTo(u[f].p1[0],u[f].p1[1],u[f].p2[0],u[f].p2[1],u[f].p3[0],u[f].p3[1]):v.closePath();"st"===y&&v.stroke()}"st"!==y&&v.fill(this.stylesList[i].r),g.restore()}g.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(t,e,s){var r,i,a,n,o=s.matMdf||e.sh.mdf||this.firstFrame;if(o){var h=e.sh.paths;n=h._length;var l=e.trNodes;for(l.length=0,a=0;n>a;a+=1){var p=h.shapes[a];if(p&&p.v){for(r=p._length,i=1;r>i;i+=1)1==i&&l.push({t:"m",p:s.mat.applyToPointArray(p.v[0][0],p.v[0][1],0)}),l.push({t:"c",p1:s.mat.applyToPointArray(p.o[i-1][0],p.o[i-1][1],0),p2:s.mat.applyToPointArray(p.i[i][0],p.i[i][1],0),p3:s.mat.applyToPointArray(p.v[i][0],p.v[i][1],0)});1==r&&l.push({t:"m",p:s.mat.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&r&&(l.push({t:"c",p1:s.mat.applyToPointArray(p.o[i-1][0],p.o[i-1][1],0),p2:s.mat.applyToPointArray(p.i[0][0],p.i[0][1],0),p3:s.mat.applyToPointArray(p.v[0][0],p.v[0][1],0)}),l.push({t:"z"})),e.lStr=l}}if(e.st)for(i=0;16>i;i+=1)e.tr[i]=s.mat.props[i];e.trNodes=l}},CVShapeElement.prototype.renderFill=function(t,e,s){var r=e.style;(e.c.mdf||this.firstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||s.opMdf||this.firstFrame)&&(r.coOp=e.o.v*s.opacity)},CVShapeElement.prototype.renderStroke=function(t,e,s){var r=e.style,i=e.d;i&&(i.mdf||this.firstFrame)&&(r.da=i.dasharray,r["do"]=i.dashoffset),(e.c.mdf||this.firstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||s.opMdf||this.firstFrame)&&(r.coOp=e.o.v*s.opacity),(e.w.mdf||this.firstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),CVTextElement.prototype.init=ITextElement.prototype.init,CVTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,CVTextElement.prototype.getMult=ITextElement.prototype.getMult,CVTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var t=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0});var e=!1;t.fc?(e=!0,this.values.fill="rgb("+Math.round(255*t.fc[0])+","+Math.round(255*t.fc[1])+","+Math.round(255*t.fc[2])+")"):this.values.fill="rgba(0,0,0,0)",this.fill=e;var s=!1;t.sc&&(s=!0,this.values.stroke="rgb("+Math.round(255*t.sc[0])+","+Math.round(255*t.sc[1])+","+Math.round(255*t.sc[2])+")",this.values.sWidth=t.sw);var r,i,a=this.globalData.fontManager.getFontByName(t.f),n=t.l,o=this.mHelper;this.stroke=s,this.values.fValue=t.s+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.t.length,this.tHelper.font=this.values.fValue;var h,l,p,m,f,c,d,u,y,g,v=this.data.singleShape;if(v)var b=0,E=0,P=t.lineWidths,S=t.boxWidth,x=!0;var C=0;for(r=0;i>r;r+=1){h=this.globalData.fontManager.getCharData(t.t.charAt(r),a.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);var l;if(l=h?h.data:null,o.reset(),v&&n[r].n&&(b=0,E+=t.yOffset,E+=x?1:0,x=!1),l&&l.shapes){if(f=l.shapes[0].it,d=f.length,o.scale(t.s/100,t.s/100),v){switch(t.ps&&o.translate(t.ps[0],t.ps[1]+t.ascent,0),o.translate(0,-t.ls,0),t.j){case 1:o.translate(t.justifyOffset+(S-P[n[r].line]),0,0);break;

case 2:o.translate(t.justifyOffset+(S-P[n[r].line])/2,0,0)}o.translate(b,E,0)}for(y=new Array(d),c=0;d>c;c+=1){for(m=f[c].ks.k.i.length,u=f[c].ks.k,g=[],p=1;m>p;p+=1)1==p&&g.push(o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[p][0],u.i[p][1],0),o.applyToY(u.i[p][0],u.i[p][1],0),o.applyToX(u.v[p][0],u.v[p][1],0),o.applyToY(u.v[p][0],u.v[p][1],0));g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[0][0],u.i[0][1],0),o.applyToY(u.i[0][0],u.i[0][1],0),o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),y[c]=g}}else y=[];v&&(b+=n[r].l),this.textSpans[C]?this.textSpans[C].elem=y:this.textSpans[C]={elem:y},C+=1}},CVTextElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext,s=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.font=this.values.fValue,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.data.singleShape||this.getMeasures();var r,i,a,n,o,h,l=this.renderedLetters,p=this.currentTextDocumentData.l;i=p.length;var m,f,c,d=null,u=null,y=null;for(r=0;i>r;r+=1)if(!p[r].n){if(m=l[r],m&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(m.props),this.globalData.renderer.ctxOpacity(m.o)),this.fill){for(m&&m.fc?d!==m.fc&&(d=m.fc,e.fillStyle=m.fc):d!==this.values.fill&&(d=this.values.fill,e.fillStyle=this.values.fill),f=this.textSpans[r].elem,n=f.length,this.globalData.canvasContext.beginPath(),a=0;n>a;a+=1)for(c=f[a],h=c.length,this.globalData.canvasContext.moveTo(c[0],c[1]),o=2;h>o;o+=6)this.globalData.canvasContext.bezierCurveTo(c[o],c[o+1],c[o+2],c[o+3],c[o+4],c[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(m&&m.sw?y!==m.sw&&(y=m.sw,e.lineWidth=m.sw):y!==this.values.sWidth&&(y=this.values.sWidth,e.lineWidth=this.values.sWidth),m&&m.sc?u!==m.sc&&(u=m.sc,e.strokeStyle=m.sc):u!==this.values.stroke&&(u=this.values.stroke,e.strokeStyle=this.values.stroke),f=this.textSpans[r].elem,n=f.length,this.globalData.canvasContext.beginPath(),a=0;n>a;a+=1)for(c=f[a],h=c.length,this.globalData.canvasContext.moveTo(c[0],c[1]),o=2;h>o;o+=6)this.globalData.canvasContext.bezierCurveTo(c[o],c[o+1],c[o+2],c[o+3],c[o+4],c[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}m&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var e,s=this.finalTransform.mat;if(this.hierarchy){var r,i=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e),r=0;i>r;r+=1)this.finalTransform.matMdf=this.hierarchy[r].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,e=this.hierarchy[r].finalTransform.mProp.v.props,s.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&this.finalTransform.matMdf&&(t?(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e)):s.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(s),t&&(e=t.mat.props,s.cloneFromProps(e),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=t.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=t.matMdf?!0:this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=s.toCSS(),this.finalMat=s),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),t.appendChild(e),this.layerElement=t,this.transformedElement=t,this.baseElement=t,this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var s=document.createElementNS(svgNS,"rect");s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),e.appendChild(s),this.data.hasMask&&(this.maskedElement=s),this.checkParenting()},HSolidElement.prototype.hide=SVGBaseElement.prototype.hide,HSolidElement.prototype.show=SVGBaseElement.prototype.show,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var t=document.createElement("div");if(styleDiv(t),this.data.ln&&t.setAttribute("id",this.data.ln),t.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.w),e.setAttribute("height",this.data.h);var s=document.createElementNS(svgNS,"g");e.appendChild(s),t.appendChild(e),this.maskedElement=s,this.baseElement=t,this.layerElement=s,this.transformedElement=t}else this.layerElement=t,this.baseElement=this.layerElement,this.transformedElement=t;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(t){var e,s=this._parent.renderFrame.call(this,t),r=this.layers.length;if(s===!1)return void this.hide();for(this.hidden=!1,e=0;r>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderFrame,HShapeElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e);var s=this.comp.data?this.comp.data:this.globalData.compSize;if(e.setAttribute("width",s.w),e.setAttribute("height",s.h),this.data.hasMask){var r=document.createElementNS(svgNS,"g");t.appendChild(e),e.appendChild(r),this.maskedElement=r,this.layerElement=r,this.shapesContainer=r}else t.appendChild(e),this.layerElement=e,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=t),this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.buildExpressionInterface(),this.layerElement=t,this.transformedElement=t,this.shapeCont=e,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(t){var e=this.firstFrame;if(this._renderShapeFrame(),this.isVisible&&(this.elemMdf||e)){var s=this.shapeCont.getBBox(),r=!1;this.currentBBox.w!==s.width&&(this.currentBBox.w=s.width,this.shapeCont.setAttribute("width",s.width),r=!0),this.currentBBox.h!==s.height&&(this.currentBBox.h=s.height,this.shapeCont.setAttribute("height",s.height),r=!0),(r||this.currentBBox.x!==s.x||this.currentBBox.y!==s.y)&&(this.currentBBox.w=s.width,this.currentBBox.h=s.height,this.currentBBox.x=s.x,this.currentBBox.y=s.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),HTextElement.prototype.init=ITextElement.prototype.init,HTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,HTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,HTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,HTextElement.prototype.buildShapeString=ITextElement.prototype.buildShapeString,HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var t=document.createElement("div");if(styleDiv(t),this.layerElement=t,this.transformedElement=t,this.isMasked){this.renderType="svg";var e=document.createElementNS(svgNS,"svg");styleDiv(e),this.cont=e,this.compW=this.comp.data.w,this.compH=this.comp.data.h,e.setAttribute("width",this.compW),e.setAttribute("height",this.compH);var s=document.createElementNS(svgNS,"g");e.appendChild(s),t.appendChild(e),this.maskedElement=s,this.innerElem=s}else this.renderType="html",this.innerElem=t;this.baseElement=t,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.currentTextDocumentData;this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),this.innerElem.style.color=this.innerElem.style.fill=t.fc?"rgb("+Math.round(255*t.fc[0])+","+Math.round(255*t.fc[1])+","+Math.round(255*t.fc[2])+")":"rgba(0,0,0,0)",t.sc&&(this.innerElem.style.stroke="rgb("+Math.round(255*t.sc[0])+","+Math.round(255*t.sc[1])+","+Math.round(255*t.sc[2])+")",this.innerElem.style.strokeWidth=t.sw+"px");var e=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(this.innerElem.style.fontSize=t.s+"px",this.innerElem.style.lineHeight=t.s+"px",e.fClass)this.innerElem.className=e.fClass;else{this.innerElem.style.fontFamily=e.fFamily;var s=t.fWeight,r=t.fStyle;this.innerElem.style.fontStyle=r,this.innerElem.style.fontWeight=s}var i,a,n=t.l;a=n.length;var o,h,l,p,m=this.mHelper,f="",c=0;for(i=0;a>i;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[c]?o=this.textPaths[c]:(o=document.createElementNS(svgNS,"path"),o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[c]?(h=this.textSpans[c],l=h.children[0]):(h=document.createElement("div"),l=document.createElementNS(svgNS,"svg"),l.appendChild(o),styleDiv(h)))):this.isMasked?o=this.textPaths[c]?this.textPaths[c]:document.createElementNS(svgNS,"text"):this.textSpans[c]?(h=this.textSpans[c],o=this.textPaths[c]):(h=document.createElement("span"),styleDiv(h),o=document.createElement("span"),styleDiv(o),h.appendChild(o)),this.globalData.fontManager.chars){var d,u=this.globalData.fontManager.getCharData(t.t.charAt(i),e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(d=u?u.data:null,m.reset(),d&&d.shapes&&(p=d.shapes[0].it,m.scale(t.s/100,t.s/100),f=this.createPathShape(m,p),o.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(o);else if(this.innerElem.appendChild(h),d&&d.shapes){document.body.appendChild(l);var y=l.getBBox();l.setAttribute("width",y.width),l.setAttribute("height",y.height),l.setAttribute("viewBox",y.x+" "+y.y+" "+y.width+" "+y.height),l.style.transform=l.style.webkitTransform="translate("+y.x+"px,"+y.y+"px)",n[i].yOffset=y.y,h.appendChild(l)}else l.setAttribute("width",1),l.setAttribute("height",1)}else o.textContent=n[i].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(h),o.style.transform=o.style.webkitTransform="translate3d(0,"+-t.s/1.2+"px,0)");this.textSpans[c]=this.isMasked?o:h,this.textSpans[c].style.display="block",this.textPaths[c]=o,c+=1}for(;c<this.textSpans.length;)this.textSpans[c].style.display="none",c+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.getMeasures(),this.lettersChangedFlag){var s,r,i=this.renderedLetters,a=this.currentTextDocumentData.l;r=a.length;var n;for(s=0;r>s;s+=1)a[s].n||(n=i[s],this.isMasked?this.textSpans[s].setAttribute("transform",n.m):this.textSpans[s].style.transform=this.textSpans[s].style.webkitTransform=n.m,this.textSpans[s].style.opacity=n.o,n.sw&&this.textPaths[s].setAttribute("stroke-width",n.sw),n.sc&&this.textPaths[s].setAttribute("stroke",n.sc),n.fc&&(this.textPaths[s].setAttribute("fill",n.fc),this.textPaths[s].style.color=n.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var o=this.innerElem.getBBox();this.currentBBox.w!==o.width&&(this.currentBBox.w=o.width,this.cont.setAttribute("width",o.width)),this.currentBBox.h!==o.height&&(this.currentBBox.h=o.height,this.cont.setAttribute("height",o.height)),(this.currentBBox.w!==o.width||this.currentBBox.h!==o.height||this.currentBBox.x!==o.x||this.currentBBox.y!==o.y)&&(this.currentBBox.w=o.width,this.currentBBox.h=o.height,this.currentBBox.x=o.x,this.currentBBox.y=o.y,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}},HTextElement.prototype.destroy=SVGTextElement.prototype.destroy,createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;if(this.data.hasMask){var s=document.createElement("div");styleDiv(s);var r=document.createElementNS(svgNS,"svg");styleDiv(r),r.setAttribute("width",this.assetData.w),r.setAttribute("height",this.assetData.h),s.appendChild(r),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),r.appendChild(this.imageElem),this.layerElement=s,this.transformedElement=s,this.baseElement=s,this.innerElem=s,this.maskedElement=this.imageElem}else styleDiv(e),this.layerElement=e,this.baseElement=e,this.innerElem=e,this.transformedElement=e;e.src=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var t,e,s=this.comp.threeDElements.length;for(t=0;s>t;t+=1)e=this.comp.threeDElements[t],e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,s=this.firstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;e>t;t+=1)s=this.hierarchy[t].finalTransform.mProp.mdf?!0:s;if(s||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],i=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),a=[r[0]/i,r[1]/i,r[2]/i],n=Math.sqrt(a[2]*a[2]+a[0]*a[0]),o=Math.atan2(a[1],n),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-o)}if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy){var l;for(e=this.hierarchy.length,t=0;e>t;t+=1)l=this.hierarchy[t].finalTransform.mProp.iv.props,this.mat.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],-l[12],-l[13],l[14],l[15])}e=this.comp.threeDElements.length;var p;for(t=0;e>t;t+=1)p=this.comp.threeDElements[t],p.container.style.transform=p.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=function(){function t(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)}var e={};return e.initExpressions=t,e}();expressionsPlugin=Expressions,function(){function t(){return this.pv}function e(t,e){t*=this.elem.globalData.frameRate;var s,r,i=0,a=this.keyframes.length-1,n=1,o=!0;e=void 0===e?this.offsetTime:0;for(var h="object"==typeof this.pv?[this.pv.length]:0;o;){if(s=this.keyframes[i],r=this.keyframes[i+1],i==a-1&&t>=r.t-e){s.h&&(s=r);break}if(r.t-e>t)break;a-1>i?i+=n:o=!1}var l,p,m,f,c,d=0;if(s.to){s.bezierData||bez.buildBezierData(s);var u=s.bezierData;if(t>=r.t-e||t<s.t-e){var y=t>=r.t-e?u.points.length-1:0;for(p=u.points[y].point.length,l=0;p>l;l+=1)h[l]=u.points[y].point[l]}else{s.__fnct?c=s.__fnct:(c=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=c),m=c((t-(s.t-e))/(r.t-e-(s.t-e)));var g,v=u.segmentLength*m,b=0;for(n=1,o=!0,f=u.points.length;o;){if(b+=u.points[d].partialLength*n,0===v||0===m||d==u.points.length-1){for(p=u.points[d].point.length,l=0;p>l;l+=1)h[l]=u.points[d].point[l];break}if(v>=b&&v<b+u.points[d+1].partialLength){for(g=(v-b)/u.points[d+1].partialLength,p=u.points[d].point.length,l=0;p>l;l+=1)h[l]=u.points[d].point[l]+(u.points[d+1].point[l]-u.points[d].point[l])*g;break}f-1>d&&1==n||d>0&&-1==n?d+=n:o=!1}}}else{var E,P,S,x,C,k=!1;for(a=s.s.length,i=0;a>i;i+=1){if(1!==s.h&&(s.o.x instanceof Array?(k=!0,s.__fnct||(s.__fnct=[]),s.__fnct[i]||(E=s.o.x[i]||s.o.x[0],P=s.o.y[i]||s.o.y[0],S=s.i.x[i]||s.i.x[0],x=s.i.y[i]||s.i.y[0])):(k=!1,s.__fnct||(E=s.o.x,P=s.o.y,S=s.i.x,x=s.i.y)),k?s.__fnct[i]?c=s.__fnct[i]:(c=BezierFactory.getBezierEasing(E,P,S,x).get,s.__fnct[i]=c):s.__fnct?c=s.__fnct:(c=BezierFactory.getBezierEasing(E,P,S,x).get,s.__fnct=c),m=t>=r.t-e?1:t<s.t-e?0:c((t-(s.t-e))/(r.t-e-(s.t-e)))),this.sh&&1!==s.h){var M=s.s[i],A=s.e[i];-180>M-A?M+=360:M-A>180&&(M-=360),C=M+(A-M)*m}else C=1===s.h?s.s[i]:s.s[i]+(s.e[i]-s.s[i])*m;1===a?h=C:h[i]=C}}return h}function s(t){if(void 0!==this.vel)return this.vel;var e,s=-.01,r=this.getValueAtTime(t,0),i=this.getValueAtTime(t+s,0);if(r.length){e=Array.apply(null,{length:r.length});var a;for(a=0;a<r.length;a+=1)e[a]=(i[a]-r[a])/s}else e=(i-r)/s;return e}function r(t){this.propertyGroup=t}function i(t,e,s){e.x&&(s.k=!0,s.x=!0,s.getValue&&(s.getPreValue=s.getValue),s.getValue=ExpressionManager.initiateExpression.bind(s)(t,e,s))}function a(t){console.log("time:",t)}function n(t){}var o=function(){function a(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(n,o){this.pv=1,this.comp=n.comp,this.elem=n,this.mult=.01,this.type="textSelector",this.textTotal=o.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],i.bind(this)(n,o,this),this.getMult=a,this.getVelocityAtTime=s,this.getValueAtTime=this.kf?e.bind(this):t.bind(this),this.setGroupProperty=r}}(),h=PropertyFactory.getProp;PropertyFactory.getProp=function(o,l,p,m,f){var c=h(o,l,p,m,f);c.getVelocityAtTime=s,c.getValueAtTime=2===p?c.dynamicProperties.length?a.bind(c):n.bind(c):c.kf?e.bind(c):t.bind(c),c.setGroupProperty=r;var d=c.k;return void 0!==l.ix&&Object.defineProperty(c,"propertyIndex",{get:function(){return l.ix}}),i(o,l,c),!d&&c.x&&f.push(c),c};var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(s,a,n,o,h){var p=l(s,a,n,o,h);p.setGroupProperty=r,p.getValueAtTime=p.kf?e:t;var m=p.k;return void 0!==a.ix&&Object.defineProperty(p,"propertyIndex",{get:function(){return a.ix}}),3===n?i(s,a.pt,p):4===n&&i(s,a.ks,p),!m&&p.x&&o.push(p),p};var p=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(t,e,s){return 1===e.t?new o(t,e,s):p(t,e,s)}}();var ExpressionManager=function(){function duplicatePropertyValue(t,e){if(e=e||1,"number"==typeof t||t instanceof Number)return t*e;if(t.i)return JSON.parse(JSON.stringify(t));var s,r=Array.apply(null,{length:t.length}),i=t.length;for(s=0;i>s;s+=1)r[s]=t[s]*e;return r}function shapesEqual(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var s,r=t._length;for(s=0;r>s;s+=1)if(t.v[s][0]!==e.v[s][0]||t.v[s][1]!==e.v[s][1]||t.o[s][0]!==e.o[s][0]||t.o[s][1]!==e.o[s][1]||t.i[s][0]!==e.i[s][0]||t.i[s][1]!==e.i[s][1])return!1;return!0}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if(t.constructor===Array){var s,r=t.length,i=[];for(s=0;r>s;s+=1)i[s]=-t[s];return i}}function sum(t,e){var s=typeof t,r=typeof e;if("string"===s||"string"===r)return t+e;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&("number"===r||"boolean"===r||"string"===r||e instanceof Number))return t+e;if(t.constructor===Array&&("number"===r||"boolean"===r||"string"===r||e instanceof Number))return t[0]=t[0]+e,t;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&e.constructor===Array)return e[0]=t+e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var i=0,a=t.length,n=e.length,o=[];a>i||n>i;)o[i]=("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?t[i]+e[i]:void 0==e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function sub(t,e){var s=typeof t,r=typeof e;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&("number"===r||"boolean"===r||"string"===r||e instanceof Number))return"string"===s&&(t=parseInt(t)),"string"===r&&(e=parseInt(e)),t-e;if(t.constructor===Array&&("number"===r||"boolean"===r||"string"===r||e instanceof Number))return t[0]=t[0]-e,t;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&e.constructor===Array)return e[0]=t-e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var i=0,a=t.length,n=e.length,o=[];a>i||n>i;)o[i]="number"==typeof t[i]||t[i]instanceof Number?t[i]-e[i]:void 0==e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function mul(t,e){var s,r=typeof t,i=typeof e;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&("number"===i||"boolean"===i||"string"===i||e instanceof Number))return t*e;var a,n;if(t.constructor===Array&&("number"===i||"boolean"===i||"string"===i||e instanceof Number)){for(n=t.length,s=Array.apply(null,{length:n}),a=0;n>a;a+=1)s[a]=t[a]*e;return s}if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&e.constructor===Array){for(n=e.length,s=Array.apply(null,{length:n}),a=0;n>a;a+=1)s[a]=t*e[a];return s}return 0}function div(t,e){var s,r=typeof t,i=typeof e;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&("number"===i||"boolean"===i||"string"===i||e instanceof Number))return t/e;var a,n;if(t.constructor===Array&&("number"===i||"boolean"===i||"string"===i||e instanceof Number)){for(n=t.length,s=Array.apply(null,{length:n}),a=0;n>a;a+=1)s[a]=t[a]/e;return s}if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&e.constructor===Array){for(n=e.length,s=Array.apply(null,{length:n}),a=0;n>a;a+=1)s[a]=t/e[a];return s}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}function clamp(t,e,s){if(e>s){var r=s;s=e,e=r}return Math.min(Math.max(t,e),s)}function radiansToDegrees(t){return t/degToRads}function degreesToRadians(t){return t*degToRads}function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var s,r=Math.min(t.length,e.length),i=0;for(s=0;r>s;s+=1)i+=Math.pow(e[s]-t[s],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,s,r=t[0],i=t[1],a=t[2],n=Math.max(r,i,a),o=Math.min(r,i,a),h=(n+o)/2;if(n==o)e=s=0;else{var l=n-o;switch(s=h>.5?l/(2-n-o):l/(n+o),n){case r:e=(i-a)/l+(a>i?6:0);break;case i:e=(a-r)/l+2;break;case a:e=(r-i)/l+4}e/=6}return[e,s,h,t[3]]}function hslToRgb(t){function e(t,e,s){return 0>s&&(s+=1),s>1&&(s-=1),1/6>s?t+6*(e-t)*s:.5>s?e:2/3>s?t+(e-t)*(2/3-s)*6:t}var s,r,i,a=t[0],n=t[1],o=t[2];if(0==n)s=r=i=o;else{var h=.5>o?o*(1+n):o+n-o*n,l=2*o-h;s=e(l,h,a+1/3),r=e(l,h,a),i=e(l,h,a-1/3)}return[s,r,i,t[3]]}function linear(t,e,s,r,i){if(void 0===r||void 0===i)return linear(t,0,1,e,s);if(e>=t)return r;if(t>=s)return i;var a=s===e?0:(t-e)/(s-e);if(!r.length)return r+(i-r)*a;var n,o=r.length,h=Array.apply(null,{length:o});for(n=0;o>n;n+=1)h[n]=r[n]+(i[n]-r[n])*a;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var s,r=e.length;t||(t=Array.apply(null,{length:r}));var i=Array.apply(null,{length:r}),a=BMMath.random();for(s=0;r>s;s+=1)i[s]=t[s]+a*(e[s]-t[s]);return i}void 0===t&&(t=0);var n=BMMath.random();return t+n*(e-t)}function initiateExpression(elem,data,property){function lookAt(t,e){var s=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(s[0],Math.sqrt(s[1]*s[1]+s[2]*s[2]))/degToRads,i=-Math.atan2(s[1],s[2])/degToRads;return[i,r,0]}function easeOut(t,e,s){return-(s-e)*t*(t-2)+e}function nearestKey(t){var e,s,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)s=1,r=data.k[0].t;else{for(e=0;i-1>e;e+=1){if(t===data.k[e].t){s=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(s=e+2,r=data.k[e+1].t):(s=e+1,r=data.k[e].t);break}}-1===s&&(s=e+1,r=data.k[e].t)}else s=0,r=0;var a={};return a.index=s,a.time=r/elem.comp.globalData.frameRate,a}function key(t){var e,s,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate};var i;for(i=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t-1].e,r=i.length,s=0;r>s;s+=1)e[s]=i[s];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function execute(){if(_needsRandom&&seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;"textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId;var t,e;if(this.mult)if("number"==typeof this.v||this.v instanceof Number||"string"==typeof this.v)this.v*=this.mult;else if(1===this.v.length)this.v=this.v[0]*this.mult;else for(e=this.v.length,value===this.v&&(this.v=2===e?[value[0],value[1]]:[value[0],value[1],value[2]]),t=0;e>t;t+=1)this.v[t]*=this.mult;if(1===this.v.length&&(this.v=this.v[0]),"number"==typeof this.v||this.v instanceof Number||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v._length)shapesEqual(this.v,this.localShapeCollection.shapes[0])||(this.mdf=!0,this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(shape_pool.clone(this.v)));else for(e=this.v.length,t=0;e>t;t+=1)this.v[t]!==this.lastValue[t]&&(this.lastValue[t]=this.v[t],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;

elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,toWorld,fromWorld,anchorPoint,thisLayer,thisComp,fn=new Function,fn=eval("[function(){"+val+";this.v = $bm_rt;}]")[0],bindedFn=fn.bind(this),numKeys=property.kf?data.k.length:0,wiggle=function(t,e){var s,r,i=this.pv.length?this.pv.length:1,a=Array.apply(null,{len:i});for(r=0;i>r;r+=1)a[r]=0;t=5;var n=Math.floor(time*t);for(s=0,r=0;n>s;){for(r=0;i>r;r+=1)a[r]+=-e+2*e*BMMath.random();s+=1}var o=time*t,h=o-Math.floor(o),l=Array.apply({length:i});if(i>1){for(r=0;i>r;r+=1)l[r]=this.pv[r]+a[r]+(-e+2*e*BMMath.random())*h;return l}return this.pv+a[0]+(-e+2*e*BMMath.random())*h}.bind(this),loopIn=function(t,e,s){if(!this.k)return this.pv;var r=time*elem.comp.globalData.frameRate,i=this.keyframes,a=i[0].t;if(r>=a)return this.pv;var n,o;s?(n=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-a),o=a+n):((!e||e>i.length-1)&&(e=i.length-1),o=i[e].t,n=o-a);var h,l,p;if("pingpong"===t){var m=Math.floor((a-r)/n);if(m%2===0)return this.getValueAtTime(((a-r)%n+a)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var f=this.getValueAtTime(a/this.comp.globalData.frameRate,0),c=this.getValueAtTime(o/this.comp.globalData.frameRate,0),d=this.getValueAtTime((n-(a-r)%n+a)/this.comp.globalData.frameRate,0),u=Math.floor((a-r)/n)+1;if(this.pv.length){for(p=new Array(f.length),l=p.length,h=0;l>h;h+=1)p[h]=d[h]-(c[h]-f[h])*u;return p}return d-(c-f)*u}if("continue"===t){var y=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(p=new Array(y.length),l=p.length,h=0;l>h;h+=1)p[h]=y[h]+(y[h]-g[h])*(a-r)/.001;return p}return y+(y-g)*(a-r)/.001}}return this.getValueAtTime((n-(a-r)%n+a)/this.comp.globalData.frameRate,0)}.bind(this),loopInDuration=function(t,e){return loopIn(t,e,!0)}.bind(this),loopOut=function(t,e,s){if(!this.k||!this.keyframes)return this.pv;var r=time*elem.comp.globalData.frameRate,i=this.keyframes,a=i[i.length-1].t;if(a>=r)return this.pv;var n,o;s?(n=e?Math.abs(a-elem.comp.globalData.frameRate*e):Math.max(0,a-this.elem.data.ip),o=a-n):((!e||e>i.length-1)&&(e=i.length-1),o=i[i.length-1-e].t,n=a-o);var h,l,p;if("pingpong"===t){var m=Math.floor((r-o)/n);if(m%2!==0)return this.getValueAtTime((n-(r-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var f=this.getValueAtTime(o/this.comp.globalData.frameRate,0),c=this.getValueAtTime(a/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((r-o)%n+o)/this.comp.globalData.frameRate,0),u=Math.floor((r-o)/n);if(this.pv.length){for(p=new Array(f.length),l=p.length,h=0;l>h;h+=1)p[h]=(c[h]-f[h])*u+d[h];return p}return(c-f)*u+d}if("continue"===t){var y=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(p=new Array(y.length),l=p.length,h=0;l>h;h+=1)p[h]=y[h]+(y[h]-g[h])*((r-a)/this.comp.globalData.frameRate)/5e-4;return p}return y+(y-g)*((r-a)/.001)}}return this.getValueAtTime(((r-o)%n+o)/this.comp.globalData.frameRate,0)}.bind(this),loop_out=loopOut,loopOutDuration=function(t,e){return loopOut(t,e,!0)}.bind(this),valueAtTime=function(t){return this.getValueAtTime(t,0)}.bind(this),velocityAtTime;this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());return execute}var ob={},Math=BMMath,window=null,document=null,add=sum,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function t(t,e,s){return d(t,e,s)}function e(t,e,s){return y(t,e,s)}function s(t,e,s){return g(t,e,s)}function r(t,e,s){return v(t,e,s)}function i(t,e,s){return b(t,e,s)}function a(t,e,s){return E(t,e,s)}function n(t,e,s){return P(t,e,s)}function o(t,e,s){return S(t,e,s)}function h(t,e,s){return x(t,e,s)}function l(t,e,s){return C(t,e,s)}function p(t,e,s){return k(t,e,s)}function m(t,e,s){return M(t,e,s)}function f(t,e,s){var r,i=[],a=t?t.length:0;for(r=0;a>r;r+=1)"gr"==t[r].ty?i.push(ShapeExpressionInterface.createGroupInterface(t[r],e[r],s)):"fl"==t[r].ty?i.push(ShapeExpressionInterface.createFillInterface(t[r],e[r],s)):"st"==t[r].ty?i.push(ShapeExpressionInterface.createStrokeInterface(t[r],e[r],s)):"tm"==t[r].ty?i.push(ShapeExpressionInterface.createTrimInterface(t[r],e[r],s)):"tr"==t[r].ty||("el"==t[r].ty?i.push(ShapeExpressionInterface.createEllipseInterface(t[r],e[r],s)):"sr"==t[r].ty?i.push(ShapeExpressionInterface.createStarInterface(t[r],e[r],s)):"sh"==t[r].ty?i.push(ShapeExpressionInterface.createPathInterface(t[r],e[r],s)):"rc"==t[r].ty?i.push(ShapeExpressionInterface.createRectInterface(t[r],e[r],s)):"rd"==t[r].ty?i.push(ShapeExpressionInterface.createRoundedInterface(t[r],e[r],s)):"rp"==t[r].ty&&i.push(ShapeExpressionInterface.createRepatearInterface(t[r],e[r],s)));return i}var c={createShapeInterface:t,createGroupInterface:e,createTrimInterface:i,createStrokeInterface:r,createTransformInterface:a,createEllipseInterface:n,createStarInterface:o,createRectInterface:h,createRoundedInterface:l,createRepatearInterface:p,createPathInterface:m,createFillInterface:s},d=function(){return function(t,e,s){function r(t){if("number"==typeof t)return i[t-1];for(var e=0,s=i.length;s>e;){if(i[e]._name===t)return i[e];e+=1}}var i;return r.propertyGroup=s,i=f(t,e,r),r}}(),u=function(){return function(t,e,s){var r,i=function(t){for(var e=0,s=r.length;s>e;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}return"number"==typeof t?r[t-1]:void 0};return i.propertyGroup=function(t){return 1===t?i:s(t-1)},r=f(t.it,e.it,i.propertyGroup),i.numProperties=r.length,i.propertyIndex=t.cix,i}}(),y=function(){return function(t,e,s){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;case"ADBE Vector Transform Group":case 3:default:return r.transform}};r.propertyGroup=function(t){return 1===t?r:s(t-1)};var i=u(t,e,r.propertyGroup),a=ShapeExpressionInterface.createTransformInterface(t.it[t.it.length-1],e.it[e.it.length-1],r.propertyGroup);return r.content=i,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}}(),g=function(){return function(t,e,s){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:void 0}return Object.defineProperty(r,"color",{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}}),Object.defineProperty(r,"opacity",{get:function(){return ExpressionValue(e.o,100)}}),Object.defineProperty(r,"_name",{value:t.nm}),Object.defineProperty(r,"mn",{value:t.mn}),e.c.setGroupProperty(s),e.o.setGroupProperty(s),r}}(),v=function(){return function(t,e,s){function r(t){return 1===t?c:s(t-1)}function i(t){return 1===t?l:r(t-1)}function a(s){Object.defineProperty(l,t.d[s].nm,{get:function(){return ExpressionValue(e.d.dataProps[s].p)}})}function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:"Stroke Width"===t||"stroke width"===t?n.strokeWidth:void 0}var o,h=t.d?t.d.length:0,l={};for(o=0;h>o;o+=1)a(o),e.d.dataProps[o].p.setGroupProperty(i);return Object.defineProperty(n,"color",{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}}),Object.defineProperty(n,"opacity",{get:function(){return ExpressionValue(e.o,100)}}),Object.defineProperty(n,"strokeWidth",{get:function(){return ExpressionValue(e.w)}}),Object.defineProperty(n,"dash",{get:function(){return l}}),Object.defineProperty(n,"_name",{value:t.nm}),Object.defineProperty(n,"mn",{value:t.mn}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),e.w.setGroupProperty(r),n}}(),b=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(r),e.e.setGroupProperty(r),e.o.setGroupProperty(r),i.propertyIndex=t.ix,Object.defineProperty(i,"start",{get:function(){return ExpressionValue(e.s,1/e.s.mult)}}),Object.defineProperty(i,"end",{get:function(){return ExpressionValue(e.e,1/e.e.mult)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(e.o)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),E=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.a.ix===e?i.anchorPoint:t.o.ix===e?i.opacity:t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.s.ix===e?i.scale:t.sk&&t.sk.ix===e?i.skew:t.sa&&t.sa.ix===e?i.skewAxis:"Opacity"===e?i.opacity:"Position"===e?i.position:"Anchor Point"===e?i.anchorPoint:"Scale"===e?i.scale:"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:"Skew"===e?i.skew:"Skew Axis"===e?i.skewAxis:void 0}e.transform.mProps.o.setGroupProperty(r),e.transform.mProps.p.setGroupProperty(r),e.transform.mProps.a.setGroupProperty(r),e.transform.mProps.s.setGroupProperty(r),e.transform.mProps.r.setGroupProperty(r),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(r),e.transform.mProps.sa.setGroupProperty(r)),e.transform.op.setGroupProperty(r),Object.defineProperty(i,"opacity",{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(e.transform.mProps.p)}}),Object.defineProperty(i,"anchorPoint",{get:function(){return ExpressionValue(e.transform.mProps.a)}});return Object.defineProperty(i,"scale",{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}}),Object.defineProperty(i,"skew",{get:function(){return ExpressionValue(e.transform.mProps.sk)}}),Object.defineProperty(i,"skewAxis",{get:function(){return ExpressionValue(e.transform.mProps.sa)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.ty="tr",i.mn=t.mn,i}}(),P=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:void 0}i.propertyIndex=t.ix;var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.s.setGroupProperty(r),a.p.setGroupProperty(r),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(a.s)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),S=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?i.innerRoundness:void 0:i.innerRadius}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,a.or.setGroupProperty(r),a.os.setGroupProperty(r),a.pt.setGroupProperty(r),a.p.setGroupProperty(r),a.r.setGroupProperty(r),t.ir&&(a.ir.setGroupProperty(r),a.is.setGroupProperty(r)),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(a.r,1/a.r.mult)}}),Object.defineProperty(i,"points",{get:function(){return ExpressionValue(a.pt)}}),Object.defineProperty(i,"outerRadius",{get:function(){return ExpressionValue(a.or)}}),Object.defineProperty(i,"outerRoundness",{get:function(){return ExpressionValue(a.os)}}),Object.defineProperty(i,"innerRadius",{get:function(){return a.ir?ExpressionValue(a.ir):0}}),Object.defineProperty(i,"innerRoundness",{get:function(){return a.is?ExpressionValue(a.is,1/a.is.mult):0}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),x=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||"Size"===e?i.size:void 0}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,a.p.setGroupProperty(r),a.s.setGroupProperty(r),a.r.setGroupProperty(r),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"roundness",{get:function(){return ExpressionValue(a.r)}}),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(a.s)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),C=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.r.ix===e||"Round Corners 1"===e?i.radius:void 0}var a=e;return i.propertyIndex=t.ix,a.rd.setGroupProperty(r),Object.defineProperty(i,"radius",{get:function(){return ExpressionValue(a.rd)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),k=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(e){return t.c.ix===e||"Copies"===e?i.copies:t.o.ix===e||"Offset"===e?i.offset:void 0}var a=e;return i.propertyIndex=t.ix,a.c.setGroupProperty(r),a.o.setGroupProperty(r),Object.defineProperty(i,"copies",{get:function(){return ExpressionValue(a.c)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(a.o)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),M=function(){return function(t,e,s){function r(t){return 1==t?i:s(--t)}function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||2===t?i.path:void 0}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.setGroupProperty(r),Object.defineProperty(i,"path",{get:function(){return a.k&&a.getValue(),a.v}}),Object.defineProperty(i,"shape",{get:function(){return a.k&&a.getValue(),a.v}}),Object.defineProperty(i,"_name",{value:t.nm}),Object.defineProperty(i,"ix",{value:t.ix}),Object.defineProperty(i,"mn",{value:t.mn}),i}}();return c}(),TextExpressionInterface=function(){return function(t){function e(){}return Object.defineProperty(e,"sourceText",{get:function(){return t.currentTextDocumentData.t?t.currentTextDocumentData.t:""}}),e}}(),LayerExpressionInterface=function(){function t(t,e){var s=new Matrix;s.reset();var r;if(r=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,r.applyToMatrix(s),this._elem.hierarchy&&this._elem.hierarchy.length){var i,a=this._elem.hierarchy.length;for(i=0;a>i;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(s);return s.applyToPointArray(t[0],t[1],t[2]||0)}return s.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var s=new Matrix;s.reset();var r;if(r=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,r.applyToMatrix(s),this._elem.hierarchy&&this._elem.hierarchy.length){var i,a=this._elem.hierarchy.length;for(i=0;a>i;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(s);return s.inversePoint(t)}return s.inversePoint(t)}function s(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var s,r=this._elem.hierarchy.length;for(s=0;r>s;s+=1)this._elem.hierarchy[s].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}return function(r){function i(t){n.mask=t.getMask.bind(t)}function a(t){n.effect=t}function n(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":return n.effect}}var o=TransformExpressionInterface(r.transform);return n.toWorld=t,n.fromWorld=e,n.toComp=t,n.fromComp=s,n._elem=r,Object.defineProperty(n,"hasParent",{get:function(){return!!r.hierarchy}}),Object.defineProperty(n,"parent",{get:function(){return r.hierarchy[0].layerInterface}}),Object.defineProperty(n,"rotation",{get:function(){return o.rotation}}),Object.defineProperty(n,"scale",{get:function(){return o.scale}}),Object.defineProperty(n,"position",{get:function(){return o.position}}),Object.defineProperty(n,"anchorPoint",{get:function(){return o.anchorPoint}}),Object.defineProperty(n,"transform",{get:function(){return o}}),Object.defineProperty(n,"width",{get:function(){return 0===r.data.ty?r.data.w:100}}),Object.defineProperty(n,"height",{get:function(){return 0===r.data.ty?r.data.h:100}}),Object.defineProperty(n,"source",{get:function(){return r.data.refId}}),Object.defineProperty(n,"_name",{value:r.data.nm}),Object.defineProperty(n,"content",{get:function(){return n.shapeInterface}}),Object.defineProperty(n,"active",{get:function(){return r.isVisible}}),Object.defineProperty(n,"text",{get:function(){return n.textInterface}}),n.registerMaskInterface=i,n.registerEffectsInterface=a,n}}(),CompExpressionInterface=function(){return function(t){function e(e){for(var s=0,r=t.layers.length;r>s;){if(t.layers[s].nm===e||t.layers[s].ind===e)return t.elements[s].layerInterface;s+=1}return{active:!1}}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.globalData.compSize.h,e.width=t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e}}(),TransformExpressionInterface=function(){return function(t){function e(s){switch(s){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}return Object.defineProperty(e,"rotation",{get:function(){return t.rotation}}),Object.defineProperty(e,"scale",{get:function(){return t.scale}}),Object.defineProperty(e,"position",{get:function(){return t.position}}),Object.defineProperty(e,"xPosition",{get:function(){return t.xPosition}}),Object.defineProperty(e,"yPosition",{get:function(){return t.yPosition}}),Object.defineProperty(e,"anchorPoint",{get:function(){return t.anchorPoint}}),Object.defineProperty(e,"opacity",{get:function(){return t.opacity}}),Object.defineProperty(e,"skew",{get:function(){return t.skew}}),Object.defineProperty(e,"skewAxis",{get:function(){return t.skewAxis}}),e}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,s=this.compositions.length;s>e;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(t,s){if(t.effects){var r,i=[],a=t.data.ef,n=t.effects.effectElements.length;for(r=0;n>r;r+=1)i.push(e(a[r],t.effects.effectElements[r],s,t));return function(e){for(var s=t.data.ef,r=0,a=s.length;a>r;){if(e===s[r].nm||e===s[r].mn||e===s[r].ix)return i[r];r+=1}}}}function e(t,r,i,a){var n,o=[],h=t.ef.length;for(n=0;h>n;n+=1)o.push(5===t.ef[n].ty?e(t.ef[n],r.effectElements[n],i,a):s(r.effectElements[n],t.ef[n].ty,a));var l=function(e){for(var s=t.ef,r=0,i=s.length;i>r;){if(e===s[r].nm||e===s[r].mn||e===s[r].ix)return 5===s[r].ty?o[r]:o[r]();r+=1}return o[0]()};return"ADBE Color Control"===t.mn&&Object.defineProperty(l,"color",{get:function(){return o[0]()}}),Object.defineProperty(l,"numProperties",{get:function(){return t.np}}),l.active=0!==t.en,l}function s(t,e,s){return function(){return 10===e?s.comp.compInterface(t.p.v):ExpressionValue(t.p)}}var r={createEffectsInterface:t};return r}(),ExpressionValue=function(){return function(t,e,s){var r;t.k&&t.getValue();var i,a,n;if(s){if("color"===s){for(a=4,r=Array.apply(null,{length:a}),n=Array.apply(null,{length:a}),i=0;a>i;i+=1)r[i]=n[i]=e&&3>i?t.v[i]*e:1;r.value=n}}else if("number"==typeof t.v||t.v instanceof Number)r=new Number(e?t.v*e:t.v),r.value=e?t.v*e:t.v;else{for(a=t.v.length,r=Array.apply(null,{length:a}),n=Array.apply(null,{length:a}),i=0;a>i;i+=1)r[i]=n[i]=e?t.v[i]*e:t.v[i];r.value=n}return r.numKeys=t.keyframes?t.keyframes.length:0,r.key=function(e){return r.numKeys?t.keyframes[e-1].t:0},r.valueAtTime=t.getValueAtTime,r.propertyGroup=t.propertyGroup,r}}();GroupEffect.prototype.getValue=function(){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.mdf=this.dynamicProperties[t].mdf?!0:this.mdf},GroupEffect.prototype.init=function(t,e,s){this.data=t,this.mdf=!1,this.effectElements=[];var r,i,a=this.data.ef.length,n=this.data.ef;for(r=0;a>r;r+=1)switch(n[r].ty){case 0:i=new SliderEffect(n[r],e,s),this.effectElements.push(i);break;case 1:i=new AngleEffect(n[r],e,s),this.effectElements.push(i);break;case 2:i=new ColorEffect(n[r],e,s),this.effectElements.push(i);break;case 3:i=new PointEffect(n[r],e,s),this.effectElements.push(i);break;case 4:case 7:i=new CheckboxEffect(n[r],e,s),this.effectElements.push(i);break;case 10:i=new LayerIndexEffect(n[r],e,s),this.effectElements.push(i);break;case 11:i=new MaskIndexEffect(n[r],e,s),this.effectElements.push(i);break;case 5:i=new EffectsManager(n[r],e,s),this.effectElements.push(i);break;case 6:i=new NoValueEffect(n[r],e,s),this.effectElements.push(i)}};var bodymovinjs={};bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.inBrowser=inBrowser,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.10.1";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs});

},{}],"input":[function(require,module,exports){
var growthRatio, imageHeight,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.keyboardLayer = new Layer({
  x: 0,
  y: Screen.height,
  width: Screen.width,
  height: 432,
  html: "<img style='width: 100%;' src='modules/keyboard.png'/>"
});

growthRatio = Screen.width / 732;

imageHeight = growthRatio * 432;

exports.keyboardLayer.states = {
  shown: {
    y: Screen.height - imageHeight
  }
};

exports.keyboardLayer.states.animationOptions = {
  curve: "spring(500,50,15)"
};

exports.Input = (function(superClass) {
  extend(Input, superClass);

  Input.define("style", {
    get: function() {
      return this.input.style;
    },
    set: function(value) {
      return _.extend(this.input.style, value);
    }
  });

  Input.define("value", {
    get: function() {
      return this.input.value;
    },
    set: function(value) {
      return this.input.value = value;
    }
  });

  function Input(options) {
    if (options == null) {
      options = {};
    }
    if (options.setup == null) {
      options.setup = false;
    }
    if (options.width == null) {
      options.width = Screen.width;
    }
    if (options.clip == null) {
      options.clip = false;
    }
    if (options.height == null) {
      options.height = 60;
    }
    if (options.backgroundColor == null) {
      options.backgroundColor = options.setup ? "rgba(255, 60, 47, .5)" : "transparent";
    }
    if (options.fontSize == null) {
      options.fontSize = 30;
    }
    if (options.lineHeight == null) {
      options.lineHeight = 30;
    }
    if (options.padding == null) {
      options.padding = 10;
    }
    if (options.text == null) {
      options.text = "";
    }
    if (options.placeholder == null) {
      options.placeholder = "";
    }
    if (options.virtualKeyboard == null) {
      options.virtualKeyboard = Utils.isMobile() ? false : true;
    }
    if (options.type == null) {
      options.type = "text";
    }
    if (options.goButton == null) {
      options.goButton = false;
    }
    if (options.autoCorrect == null) {
      options.autoCorrect = "on";
    }
    if (options.autoComplete == null) {
      options.autoComplete = "on";
    }
    if (options.autoCapitalize == null) {
      options.autoCapitalize = "on";
    }
    if (options.spellCheck == null) {
      options.spellCheck = "on";
    }
    if (options.autofocus == null) {
      options.autofocus = false;
    }
    Input.__super__.constructor.call(this, options);
    if (options.placeholderColor != null) {
      this.placeholderColor = options.placeholderColor;
    }
    this.input = document.createElement("input");
    this.input.id = "input-" + (_.now());
    this.input.style.cssText = "outline: none; font-size: " + options.fontSize + "px; line-height: " + options.lineHeight + "px; padding: " + options.padding + "px; width: " + options.width + "px; height: " + options.height + "px; border: none; background-image: url(about:blank); background-color: " + options.backgroundColor + ";";
    this.input.value = options.text;
    this.input.type = options.type;
    this.input.placeholder = options.placeholder;
    this.input.setAttribute("autocorrect", options.autoCorrect);
    this.input.setAttribute("autocomplete", options.autoComplete);
    this.input.setAttribute("autocapitalize", options.autoCapitalize);
    if (options.autofocus === true) {
      this.input.setAttribute("autofocus", true);
    }
    this.input.setAttribute("spellcheck", options.spellCheck);
    this.form = document.createElement("form");
    if (options.goButton) {
      this.form.action = "#";
      this.form.addEventListener("submit", function(event) {
        return event.preventDefault();
      });
    }
    this.form.appendChild(this.input);
    this._element.appendChild(this.form);
    this.backgroundColor = "transparent";
    if (this.placeholderColor) {
      this.updatePlaceholderColor(options.placeholderColor);
    }
    if (!Utils.isMobile() && options.virtualKeyboard === true) {
      this.input.addEventListener("focus", function() {
        exports.keyboardLayer.bringToFront();
        return exports.keyboardLayer.stateCycle();
      });
      this.input.addEventListener("blur", function() {
        return exports.keyboardLayer.animate("default");
      });
    }
  }

  Input.prototype.updatePlaceholderColor = function(color) {
    var css;
    this.placeholderColor = color;
    if (this.pageStyle != null) {
      document.head.removeChild(this.pageStyle);
    }
    this.pageStyle = document.createElement("style");
    this.pageStyle.type = "text/css";
    css = "#" + this.input.id + "::-webkit-input-placeholder { color: " + this.placeholderColor + "; }";
    this.pageStyle.appendChild(document.createTextNode(css));
    return document.head.appendChild(this.pageStyle);
  };

  Input.prototype.focus = function() {
    return this.input.focus();
  };

  Input.prototype.onFocus = function(cb) {
    return this.input.addEventListener("focus", function() {
      return cb.apply(this);
    });
  };

  Input.prototype.onBlur = function(cb) {
    return this.input.addEventListener("blur", function() {
      return cb.apply(this);
    });
  };

  return Input;

})(Layer);


},{}]},{},[])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWVyLm1vZHVsZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL1VzZXJzL3NoaW5ha2FqL0Rlc2t0b3AvRHJpYmJibGUvMDgwMy9ZLWJvYXJkLmZyYW1lci9tb2R1bGVzL2lucHV0LmNvZmZlZSIsIi4uLy4uLy4uLy4uLy4uL1VzZXJzL3NoaW5ha2FqL0Rlc2t0b3AvRHJpYmJibGUvMDgwMy9ZLWJvYXJkLmZyYW1lci9tb2R1bGVzL2JvZHltb3Zpbi5taW4uanMiLCIuLi8uLi8uLi8uLi8uLi9Vc2Vycy9zaGluYWthai9EZXNrdG9wL0RyaWJiYmxlLzA4MDMvWS1ib2FyZC5mcmFtZXIvbW9kdWxlcy9Cb2R5bW92aW5MYXllci5jb2ZmZWUiLCJub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMua2V5Ym9hcmRMYXllciA9IG5ldyBMYXllclxuXHR4OjAsIHk6U2NyZWVuLmhlaWdodCwgd2lkdGg6U2NyZWVuLndpZHRoLCBoZWlnaHQ6NDMyXG5cdGh0bWw6XCI8aW1nIHN0eWxlPSd3aWR0aDogMTAwJTsnIHNyYz0nbW9kdWxlcy9rZXlib2FyZC5wbmcnLz5cIlxuXG4jc2NyZWVuIHdpZHRoIHZzLiBzaXplIG9mIGltYWdlIHdpZHRoXG5ncm93dGhSYXRpbyA9IFNjcmVlbi53aWR0aCAvIDczMlxuaW1hZ2VIZWlnaHQgPSBncm93dGhSYXRpbyAqIDQzMlxuXG5leHBvcnRzLmtleWJvYXJkTGF5ZXIuc3RhdGVzID1cblx0c2hvd246XG5cdFx0eTogU2NyZWVuLmhlaWdodCAtIGltYWdlSGVpZ2h0XG5cbmV4cG9ydHMua2V5Ym9hcmRMYXllci5zdGF0ZXMuYW5pbWF0aW9uT3B0aW9ucyA9XG5cdGN1cnZlOiBcInNwcmluZyg1MDAsNTAsMTUpXCJcblxuY2xhc3MgZXhwb3J0cy5JbnB1dCBleHRlbmRzIExheWVyXG5cdEBkZWZpbmUgXCJzdHlsZVwiLFxuXHRcdGdldDogLT4gQGlucHV0LnN0eWxlXG5cdFx0c2V0OiAodmFsdWUpIC0+XG5cdFx0XHRfLmV4dGVuZCBAaW5wdXQuc3R5bGUsIHZhbHVlXG5cblx0QGRlZmluZSBcInZhbHVlXCIsXG5cdFx0Z2V0OiAtPiBAaW5wdXQudmFsdWVcblx0XHRzZXQ6ICh2YWx1ZSkgLT5cblx0XHRcdEBpbnB1dC52YWx1ZSA9IHZhbHVlXG5cblx0Y29uc3RydWN0b3I6IChvcHRpb25zID0ge30pIC0+XG5cdFx0b3B0aW9ucy5zZXR1cCA/PSBmYWxzZVxuXHRcdG9wdGlvbnMud2lkdGggPz0gU2NyZWVuLndpZHRoXG5cdFx0b3B0aW9ucy5jbGlwID89IGZhbHNlXG5cdFx0b3B0aW9ucy5oZWlnaHQgPz0gNjBcblx0XHRvcHRpb25zLmJhY2tncm91bmRDb2xvciA/PSBpZiBvcHRpb25zLnNldHVwIHRoZW4gXCJyZ2JhKDI1NSwgNjAsIDQ3LCAuNSlcIiBlbHNlIFwidHJhbnNwYXJlbnRcIlxuXHRcdG9wdGlvbnMuZm9udFNpemUgPz0gMzBcblx0XHRvcHRpb25zLmxpbmVIZWlnaHQgPz0gMzBcblx0XHRvcHRpb25zLnBhZGRpbmcgPz0gMTBcblx0XHRvcHRpb25zLnRleHQgPz0gXCJcIlxuXHRcdG9wdGlvbnMucGxhY2Vob2xkZXIgPz0gXCJcIlxuXHRcdG9wdGlvbnMudmlydHVhbEtleWJvYXJkID89IGlmIFV0aWxzLmlzTW9iaWxlKCkgdGhlbiBmYWxzZSBlbHNlIHRydWVcblx0XHRvcHRpb25zLnR5cGUgPz0gXCJ0ZXh0XCJcblx0XHRvcHRpb25zLmdvQnV0dG9uID89IGZhbHNlXG5cdFx0b3B0aW9ucy5hdXRvQ29ycmVjdCA/PSBcIm9uXCJcblx0XHRvcHRpb25zLmF1dG9Db21wbGV0ZSA/PSBcIm9uXCJcblx0XHRvcHRpb25zLmF1dG9DYXBpdGFsaXplID89IFwib25cIlxuXHRcdG9wdGlvbnMuc3BlbGxDaGVjayA/PSBcIm9uXCJcblx0XHRvcHRpb25zLmF1dG9mb2N1cyA/PSBmYWxzZVxuXG5cdFx0c3VwZXIgb3B0aW9uc1xuXG5cdFx0QHBsYWNlaG9sZGVyQ29sb3IgPSBvcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IgaWYgb3B0aW9ucy5wbGFjZWhvbGRlckNvbG9yP1xuXHRcdEBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJpbnB1dFwiXG5cdFx0QGlucHV0LmlkID0gXCJpbnB1dC0je18ubm93KCl9XCJcblx0XHRAaW5wdXQuc3R5bGUuY3NzVGV4dCA9IFwib3V0bGluZTogbm9uZTsgZm9udC1zaXplOiAje29wdGlvbnMuZm9udFNpemV9cHg7IGxpbmUtaGVpZ2h0OiAje29wdGlvbnMubGluZUhlaWdodH1weDsgcGFkZGluZzogI3tvcHRpb25zLnBhZGRpbmd9cHg7IHdpZHRoOiAje29wdGlvbnMud2lkdGh9cHg7IGhlaWdodDogI3tvcHRpb25zLmhlaWdodH1weDsgYm9yZGVyOiBub25lOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoYWJvdXQ6YmxhbmspOyBiYWNrZ3JvdW5kLWNvbG9yOiAje29wdGlvbnMuYmFja2dyb3VuZENvbG9yfTtcIlxuXHRcdEBpbnB1dC52YWx1ZSA9IG9wdGlvbnMudGV4dFxuXHRcdEBpbnB1dC50eXBlID0gb3B0aW9ucy50eXBlXG5cdFx0QGlucHV0LnBsYWNlaG9sZGVyID0gb3B0aW9ucy5wbGFjZWhvbGRlclxuXHRcdEBpbnB1dC5zZXRBdHRyaWJ1dGUgXCJhdXRvY29ycmVjdFwiLCBvcHRpb25zLmF1dG9Db3JyZWN0XG5cdFx0QGlucHV0LnNldEF0dHJpYnV0ZSBcImF1dG9jb21wbGV0ZVwiLCBvcHRpb25zLmF1dG9Db21wbGV0ZVxuXHRcdEBpbnB1dC5zZXRBdHRyaWJ1dGUgXCJhdXRvY2FwaXRhbGl6ZVwiLCBvcHRpb25zLmF1dG9DYXBpdGFsaXplXG5cdFx0aWYgb3B0aW9ucy5hdXRvZm9jdXMgPT0gdHJ1ZVxuXHRcdFx0QGlucHV0LnNldEF0dHJpYnV0ZSBcImF1dG9mb2N1c1wiLCB0cnVlXG5cdFx0QGlucHV0LnNldEF0dHJpYnV0ZSBcInNwZWxsY2hlY2tcIiwgb3B0aW9ucy5zcGVsbENoZWNrXG5cdFx0QGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwiZm9ybVwiXG5cblx0XHRpZiBvcHRpb25zLmdvQnV0dG9uXG5cdFx0XHRAZm9ybS5hY3Rpb24gPSBcIiNcIlxuXHRcdFx0QGZvcm0uYWRkRXZlbnRMaXN0ZW5lciBcInN1Ym1pdFwiLCAoZXZlbnQpIC0+XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuXHRcdEBmb3JtLmFwcGVuZENoaWxkIEBpbnB1dFxuXHRcdEBfZWxlbWVudC5hcHBlbmRDaGlsZCBAZm9ybVxuXG5cdFx0QGJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIlxuXHRcdEB1cGRhdGVQbGFjZWhvbGRlckNvbG9yIG9wdGlvbnMucGxhY2Vob2xkZXJDb2xvciBpZiBAcGxhY2Vob2xkZXJDb2xvclxuXG5cdFx0I29ubHkgc2hvdyBob25vciB2aXJ0dWFsIGtleWJvYXJkIG9wdGlvbiB3aGVuIG5vdCBvbiBtb2JpbGUsXG5cdFx0I290aGVyd2lzZSBpZ25vcmVcblx0XHRpZiAhVXRpbHMuaXNNb2JpbGUoKSAmJiBvcHRpb25zLnZpcnR1YWxLZXlib2FyZCBpcyB0cnVlXG5cdFx0XHRAaW5wdXQuYWRkRXZlbnRMaXN0ZW5lciBcImZvY3VzXCIsIC0+XG5cdFx0XHRcdGV4cG9ydHMua2V5Ym9hcmRMYXllci5icmluZ1RvRnJvbnQoKVxuXHRcdFx0XHRleHBvcnRzLmtleWJvYXJkTGF5ZXIuc3RhdGVDeWNsZSgpXG5cdFx0XHRAaW5wdXQuYWRkRXZlbnRMaXN0ZW5lciBcImJsdXJcIiwgLT5cblx0XHRcdFx0ZXhwb3J0cy5rZXlib2FyZExheWVyLmFuaW1hdGUoXCJkZWZhdWx0XCIpXG5cblx0dXBkYXRlUGxhY2Vob2xkZXJDb2xvcjogKGNvbG9yKSAtPlxuXHRcdEBwbGFjZWhvbGRlckNvbG9yID0gY29sb3Jcblx0XHRpZiBAcGFnZVN0eWxlP1xuXHRcdFx0ZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZCBAcGFnZVN0eWxlXG5cdFx0QHBhZ2VTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzdHlsZVwiXG5cdFx0QHBhZ2VTdHlsZS50eXBlID0gXCJ0ZXh0L2Nzc1wiXG5cdFx0Y3NzID0gXCIjI3tAaW5wdXQuaWR9Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsgY29sb3I6ICN7QHBsYWNlaG9sZGVyQ29sb3J9OyB9XCJcblx0XHRAcGFnZVN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlIGNzcylcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkIEBwYWdlU3R5bGVcblxuXHRmb2N1czogKCkgLT5cblx0XHRAaW5wdXQuZm9jdXMoKVxuXG5cdG9uRm9jdXM6IChjYikgLT5cblx0XHRAaW5wdXQuYWRkRXZlbnRMaXN0ZW5lciBcImZvY3VzXCIsIC0+XG5cdFx0XHRjYi5hcHBseShAKVxuXG5cdG9uQmx1cjogKGNiKSAtPlxuXHRcdEBpbnB1dC5hZGRFdmVudExpc3RlbmVyIFwiYmx1clwiLCAtPlxuXHRcdFx0Y2IuYXBwbHkoQClcbiIsInZhciB3aW5kb3c9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz97fTp3aW5kb3c7IWZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6dC5ib2R5bW92aW49ZSgpfSh3aW5kb3csZnVuY3Rpb24oKXtmdW5jdGlvbiBQcm9qZWN0SW50ZXJmYWNlKCl7cmV0dXJue319ZnVuY3Rpb24gcm91bmRWYWx1ZXModCl7Ym1fcm5kPXQ/TWF0aC5yb3VuZDpmdW5jdGlvbih0KXtyZXR1cm4gdH19ZnVuY3Rpb24gcm91bmRUbzJEZWNpbWFscyh0KXtyZXR1cm4gTWF0aC5yb3VuZCgxZTQqdCkvMWU0fWZ1bmN0aW9uIHJvdW5kVG8zRGVjaW1hbHModCl7cmV0dXJuIE1hdGgucm91bmQoMTAwKnQpLzEwMH1mdW5jdGlvbiBzdHlsZURpdih0KXt0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD0wLHQuc3R5bGUubGVmdD0wLHQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdC5zdHlsZS50cmFuc2Zvcm1PcmlnaW49dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW49XCIwIDBcIix0LnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eT10LnN0eWxlLndlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eT1cInZpc2libGVcIix0LnN0eWxlLnRyYW5zZm9ybVN0eWxlPXQuc3R5bGUud2Via2l0VHJhbnNmb3JtU3R5bGU9dC5zdHlsZS5tb3pUcmFuc2Zvcm1TdHlsZT1cInByZXNlcnZlLTNkXCJ9ZnVuY3Rpb24gc3R5bGVVbnNlbGVjdGFibGVEaXYodCl7dC5zdHlsZS51c2VyU2VsZWN0PVwibm9uZVwiLHQuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix0LnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsdC5zdHlsZS5vVXNlclNlbGVjdD1cIm5vbmVcIn1mdW5jdGlvbiBCTUVudGVyRnJhbWVFdmVudCh0LGUscyxyKXt0aGlzLnR5cGU9dCx0aGlzLmN1cnJlbnRUaW1lPWUsdGhpcy50b3RhbFRpbWU9cyx0aGlzLmRpcmVjdGlvbj0wPnI/LTE6MX1mdW5jdGlvbiBCTUNvbXBsZXRlRXZlbnQodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmRpcmVjdGlvbj0wPmU/LTE6MX1mdW5jdGlvbiBCTUNvbXBsZXRlTG9vcEV2ZW50KHQsZSxzLHIpe3RoaXMudHlwZT10LHRoaXMuY3VycmVudExvb3A9ZSx0aGlzLnRvdGFsTG9vcHM9cyx0aGlzLmRpcmVjdGlvbj0wPnI/LTE6MX1mdW5jdGlvbiBCTVNlZ21lbnRTdGFydEV2ZW50KHQsZSxzKXt0aGlzLnR5cGU9dCx0aGlzLmZpcnN0RnJhbWU9ZSx0aGlzLnRvdGFsRnJhbWVzPXN9ZnVuY3Rpb24gQk1EZXN0cm95RXZlbnQodCxlKXt0aGlzLnR5cGU9dCx0aGlzLnRhcmdldD1lfWZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVyKHQsZSl7cmV0dXJuIHRoaXMuX2Nic1t0XXx8KHRoaXMuX2Nic1t0XT1bXSksdGhpcy5fY2JzW3RdLnB1c2goZSksZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKX0uYmluZCh0aGlzKX1mdW5jdGlvbiBfcmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpe2lmKGUpe2lmKHRoaXMuX2Nic1t0XSl7Zm9yKHZhciBzPTAscj10aGlzLl9jYnNbdF0ubGVuZ3RoO3I+czspdGhpcy5fY2JzW3RdW3NdPT09ZSYmKHRoaXMuX2Nic1t0XS5zcGxpY2UocywxKSxzLT0xLHItPTEpLHMrPTE7dGhpcy5fY2JzW3RdLmxlbmd0aHx8KHRoaXMuX2Nic1t0XT1udWxsKX19ZWxzZSB0aGlzLl9jYnNbdF09bnVsbH1mdW5jdGlvbiBfdHJpZ2dlckV2ZW50KHQsZSl7aWYodGhpcy5fY2JzW3RdKWZvcih2YXIgcz10aGlzLl9jYnNbdF0ubGVuZ3RoLHI9MDtzPnI7cisrKXRoaXMuX2Nic1t0XVtyXShlKX1mdW5jdGlvbiByYW5kb21TdHJpbmcodCxlKXt2b2lkIDA9PT1lJiYoZT1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoxMjM0NTY3ODkwXCIpO3ZhciBzLHI9XCJcIjtmb3Iocz10O3M+MDstLXMpcis9ZVtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKGUubGVuZ3RoLTEpKV07cmV0dXJuIHJ9ZnVuY3Rpb24gSFNWdG9SR0IodCxlLHMpe3ZhciByLGksYSxuLG8saCxsLHA7c3dpdGNoKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10LnMscz10LnYsdD10LmgpLG49TWF0aC5mbG9vcig2KnQpLG89Nip0LW4saD1zKigxLWUpLGw9cyooMS1vKmUpLHA9cyooMS0oMS1vKSplKSxuJTYpe2Nhc2UgMDpyPXMsaT1wLGE9aDticmVhaztjYXNlIDE6cj1sLGk9cyxhPWg7YnJlYWs7Y2FzZSAyOnI9aCxpPXMsYT1wO2JyZWFrO2Nhc2UgMzpyPWgsaT1sLGE9czticmVhaztjYXNlIDQ6cj1wLGk9aCxhPXM7YnJlYWs7Y2FzZSA1OnI9cyxpPWgsYT1sfXJldHVybltyLGksYV19ZnVuY3Rpb24gUkdCdG9IU1YodCxlLHMpezE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10Lmcscz10LmIsdD10LnIpO3ZhciByLGk9TWF0aC5tYXgodCxlLHMpLGE9TWF0aC5taW4odCxlLHMpLG49aS1hLG89MD09PWk/MDpuL2ksaD1pLzI1NTtzd2l0Y2goaSl7Y2FzZSBhOnI9MDticmVhaztjYXNlIHQ6cj1lLXMrbioocz5lPzY6MCksci89NipuO2JyZWFrO2Nhc2UgZTpyPXMtdCsyKm4sci89NipuO2JyZWFrO2Nhc2UgczpyPXQtZSs0Km4sci89NipufXJldHVybltyLG8saF19ZnVuY3Rpb24gYWRkU2F0dXJhdGlvblRvUkdCKHQsZSl7dmFyIHM9UkdCdG9IU1YoMjU1KnRbMF0sMjU1KnRbMV0sMjU1KnRbMl0pO3JldHVybiBzWzFdKz1lLHNbMV0+MT9zWzFdPTE6c1sxXTw9MCYmKHNbMV09MCksSFNWdG9SR0Ioc1swXSxzWzFdLHNbMl0pfWZ1bmN0aW9uIGFkZEJyaWdodG5lc3NUb1JHQih0LGUpe3ZhciBzPVJHQnRvSFNWKDI1NSp0WzBdLDI1NSp0WzFdLDI1NSp0WzJdKTtyZXR1cm4gc1syXSs9ZSxzWzJdPjE/c1syXT0xOnNbMl08MCYmKHNbMl09MCksSFNWdG9SR0Ioc1swXSxzWzFdLHNbMl0pfWZ1bmN0aW9uIGFkZEh1ZVRvUkdCKHQsZSl7dmFyIHM9UkdCdG9IU1YoMjU1KnRbMF0sMjU1KnRbMV0sMjU1KnRbMl0pO3JldHVybiBzWzBdKz1lLzM2MCxzWzBdPjE/c1swXS09MTpzWzBdPDAmJihzWzBdKz0xKSxIU1Z0b1JHQihzWzBdLHNbMV0sc1syXSl9ZnVuY3Rpb24gY29tcG9uZW50VG9IZXgodCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoP1wiMFwiK2U6ZX1mdW5jdGlvbiBmaWxsVG9SZ2JhKHQsZSl7aWYoIWNhY2hlZENvbG9yc1t0XSl7dmFyIHM9L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKHQpO2NhY2hlZENvbG9yc1t0XT1wYXJzZUludChzWzFdLDE2KStcIixcIitwYXJzZUludChzWzJdLDE2KStcIixcIitwYXJzZUludChzWzNdLDE2KX1yZXR1cm5cInJnYmEoXCIrY2FjaGVkQ29sb3JzW3RdK1wiLFwiK2UrXCIpXCJ9ZnVuY3Rpb24gUmVuZGVyZWRGcmFtZSh0LGUpe3RoaXMudHI9dCx0aGlzLm89ZX1mdW5jdGlvbiBMZXR0ZXJQcm9wcyh0LGUscyxyLGksYSl7dGhpcy5vPXQsdGhpcy5zdz1lLHRoaXMuc2M9cyx0aGlzLmZjPXIsdGhpcy5tPWksdGhpcy5wcm9wcz1hfWZ1bmN0aW9uIGl0ZXJhdGVEeW5hbWljUHJvcGVydGllcyh0KXt2YXIgZSxzPXRoaXMuZHluYW1pY1Byb3BlcnRpZXM7Zm9yKGU9MDtzPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKHQpfWZ1bmN0aW9uIHJldmVyc2VQYXRoKHQpe3ZhciBlLHMscj1bXSxpPVtdLGE9W10sbj17fSxvPTA7dC5jJiYoclswXT10Lm9bMF0saVswXT10LmlbMF0sYVswXT10LnZbMF0sbz0xKSxzPXQuaS5sZW5ndGg7dmFyIGg9cy0xO2ZvcihlPW87cz5lO2UrPTEpci5wdXNoKHQub1toXSksaS5wdXNoKHQuaVtoXSksYS5wdXNoKHQudltoXSksaC09MTtyZXR1cm4gbi5pPXIsbi5vPWksbi52PWEsbn1mdW5jdGlvbiBNYXRyaXgoKXt9ZnVuY3Rpb24gbWF0cml4TWFuYWdlckZ1bmN0aW9uKCl7dmFyIHQ9bmV3IE1hdHJpeCxlPWZ1bmN0aW9uKGUscyxyLGksYSl7cmV0dXJuIHQucmVzZXQoKS50cmFuc2xhdGUoaSxhKS5yb3RhdGUoZSkuc2NhbGUocyxyKS50b0NTUygpfSxzPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQudHIuclsyXSx0LnRyLnNbMF0sdC50ci5zWzFdLHQudHIucFswXSx0LnRyLnBbMV0pfTtyZXR1cm57Z2V0TWF0cml4OnN9fWZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodCxlLHMpe2lmKCFlKXt2YXIgcj1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHMpLGk9e307cmV0dXJuIHImJlwiW29iamVjdCBGdW5jdGlvbl1cIj09PWkudG9TdHJpbmcuY2FsbChyLmluaXQpJiZyLmluaXQoKSxyfWUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3BhcmVudD10LnByb3RvdHlwZX1mdW5jdGlvbiBleHRlbmRQcm90b3R5cGUodCxlKXtmb3IodmFyIHMgaW4gdC5wcm90b3R5cGUpdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkocykmJihlLnByb3RvdHlwZVtzXT10LnByb3RvdHlwZVtzXSl9ZnVuY3Rpb24gYmV6RnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxzLHIsaSxhKXt2YXIgbj10KnIrZSppK3MqYS1pKnItYSp0LXMqZTtyZXR1cm4gbj4tMWUtNCYmMWUtND5ufWZ1bmN0aW9uIGUoZSxzLHIsaSxhLG4sbyxoLGwpe2lmKDA9PT1yJiYwPT09biYmMD09PWwpcmV0dXJuIHQoZSxzLGksYSxvLGgpO3ZhciBwLG09TWF0aC5zcXJ0KE1hdGgucG93KGktZSwyKStNYXRoLnBvdyhhLXMsMikrTWF0aC5wb3cobi1yLDIpKSxmPU1hdGguc3FydChNYXRoLnBvdyhvLWUsMikrTWF0aC5wb3coaC1zLDIpK01hdGgucG93KGwtciwyKSksYz1NYXRoLnNxcnQoTWF0aC5wb3coby1pLDIpK01hdGgucG93KGgtYSwyKStNYXRoLnBvdyhsLW4sMikpO3JldHVybiBwPW0+Zj9tPmM/bS1mLWM6Yy1mLW06Yz5mP2MtZi1tOmYtbS1jLHA+LTFlLTQmJjFlLTQ+cH1mdW5jdGlvbiBzKHQpe3RoaXMuc2VnbWVudExlbmd0aD0wLHRoaXMucG9pbnRzPW5ldyBBcnJheSh0KX1mdW5jdGlvbiByKHQsZSl7dGhpcy5wYXJ0aWFsTGVuZ3RoPXQsdGhpcy5wb2ludD1lfWZ1bmN0aW9uIGkodCxlKXt2YXIgcz1lLnNlZ21lbnRzLHI9cy5sZW5ndGgsaT1ibV9mbG9vcigoci0xKSp0KSxhPXQqZS5hZGRlZExlbmd0aCxuPTA7aWYoYT09c1tpXS5sKXJldHVybiBzW2ldLnA7Zm9yKHZhciBvPXNbaV0ubD5hPy0xOjEsaD0hMDtoOylzW2ldLmw8PWEmJnNbaSsxXS5sPmE/KG49KGEtc1tpXS5sKS8oc1tpKzFdLmwtc1tpXS5sKSxoPSExKTppKz1vLCgwPml8fGk+PXItMSkmJihoPSExKTtyZXR1cm4gc1tpXS5wKyhzW2krMV0ucC1zW2ldLnApKm59ZnVuY3Rpb24gYSgpe3RoaXMucHQxPW5ldyBBcnJheSgyKSx0aGlzLnB0Mj1uZXcgQXJyYXkoMiksdGhpcy5wdDM9bmV3IEFycmF5KDIpLHRoaXMucHQ0PW5ldyBBcnJheSgyKX1mdW5jdGlvbiBuKHQsZSxzLHIsbixvLGgpe3ZhciBsPW5ldyBhO249MD5uPzA6bj4xPzE6bjt2YXIgcD1pKG4saCk7bz1vPjE/MTpvO3ZhciBtLGY9aShvLGgpLGM9dC5sZW5ndGgsZD0xLXAsdT0xLWY7Zm9yKG09MDtjPm07bSs9MSlsLnB0MVttXT1NYXRoLnJvdW5kKDFlMyooZCpkKmQqdFttXSsocCpkKmQrZCpwKmQrZCpkKnApKnNbbV0rKHAqcCpkK2QqcCpwK3AqZCpwKSpyW21dK3AqcCpwKmVbbV0pKS8xZTMsbC5wdDNbbV09TWF0aC5yb3VuZCgxZTMqKGQqZCp1KnRbbV0rKHAqZCp1K2QqcCp1K2QqZCpmKSpzW21dKyhwKnAqdStkKnAqZitwKmQqZikqclttXStwKnAqZiplW21dKSkvMWUzLGwucHQ0W21dPU1hdGgucm91bmQoMWUzKihkKnUqdSp0W21dKyhwKnUqdStkKmYqdStkKnUqZikqc1ttXSsocCpmKnUrZCpmKmYrcCp1KmYpKnJbbV0rcCpmKmYqZVttXSkpLzFlMyxsLnB0MlttXT1NYXRoLnJvdW5kKDFlMyoodSp1KnUqdFttXSsoZip1KnUrdSpmKnUrdSp1KmYpKnNbbV0rKGYqZip1K3UqZipmK2YqdSpmKSpyW21dK2YqZipmKmVbbV0pKS8xZTM7cmV0dXJuIGx9dmFyIG89KE1hdGgsZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5sPXQsdGhpcy5wPWV9cmV0dXJuIGZ1bmN0aW9uKGUscyxyLGkpe3ZhciBhLG4sbyxoLGwscCxtPWRlZmF1bHRDdXJ2ZVNlZ21lbnRzLGY9MCxjPVtdLGQ9W10sdT17YWRkZWRMZW5ndGg6MCxzZWdtZW50czpbXX07Zm9yKG89ci5sZW5ndGgsYT0wO20+YTthKz0xKXtmb3IobD1hLyhtLTEpLHA9MCxuPTA7bz5uO24rPTEpaD1ibV9wb3coMS1sLDMpKmVbbl0rMypibV9wb3coMS1sLDIpKmwqcltuXSszKigxLWwpKmJtX3BvdyhsLDIpKmlbbl0rYm1fcG93KGwsMykqc1tuXSxjW25dPWgsbnVsbCE9PWRbbl0mJihwKz1ibV9wb3coY1tuXS1kW25dLDIpKSxkW25dPWNbbl07cCYmKHA9Ym1fc3FydChwKSxmKz1wKSx1LnNlZ21lbnRzLnB1c2gobmV3IHQoZixsKSl9cmV0dXJuIHUuYWRkZWRMZW5ndGg9Zix1fX0oKSksaD1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbihpKXt2YXIgYT1pLnMsbj1pLmUsbz1pLnRvLGg9aS50aSxsPShhLmpvaW4oXCJfXCIpK1wiX1wiK24uam9pbihcIl9cIikrXCJfXCIrby5qb2luKFwiX1wiKStcIl9cIitoLmpvaW4oXCJfXCIpKS5yZXBsYWNlKC9cXC4vZyxcInBcIik7aWYoZVtsXSlyZXR1cm4gdm9pZChpLmJlemllckRhdGE9ZVtsXSk7dmFyIHAsbSxmLGMsZCx1LHksZz1kZWZhdWx0Q3VydmVTZWdtZW50cyx2PTAsYj1udWxsOzI9PT1hLmxlbmd0aCYmKGFbMF0hPW5bMF18fGFbMV0hPW5bMV0pJiZ0KGFbMF0sYVsxXSxuWzBdLG5bMV0sYVswXStvWzBdLGFbMV0rb1sxXSkmJnQoYVswXSxhWzFdLG5bMF0sblsxXSxuWzBdK2hbMF0sblsxXStoWzFdKSYmKGc9Mik7dmFyIEU9bmV3IHMoZyk7Zm9yKGY9by5sZW5ndGgscD0wO2c+cDtwKz0xKXtmb3IoeT1uZXcgQXJyYXkoZiksZD1wLyhnLTEpLHU9MCxtPTA7Zj5tO20rPTEpYz1ibV9wb3coMS1kLDMpKmFbbV0rMypibV9wb3coMS1kLDIpKmQqKGFbbV0rb1ttXSkrMyooMS1kKSpibV9wb3coZCwyKSooblttXStoW21dKStibV9wb3coZCwzKSpuW21dLHlbbV09YyxudWxsIT09YiYmKHUrPWJtX3Bvdyh5W21dLWJbbV0sMikpO3U9Ym1fc3FydCh1KSx2Kz11LEUucG9pbnRzW3BdPW5ldyByKHUseSksYj15fUUuc2VnbWVudExlbmd0aD12LGkuYmV6aWVyRGF0YT1FLGVbbF09RX19KCk7cmV0dXJue2dldEJlemllckxlbmd0aDpvLGdldE5ld1NlZ21lbnQ6bixidWlsZEJlemllckRhdGE6aCxwb2ludE9uTGluZTJEOnQscG9pbnRPbkxpbmUzRDplfX1mdW5jdGlvbiBkYXRhRnVuY3Rpb25NYW5hZ2VyKCl7ZnVuY3Rpb24gdChpLGEsbyl7dmFyIGgsbCxwLG0sZixjLGQsdSx5PWkubGVuZ3RoO2ZvcihtPTA7eT5tO20rPTEpaWYoaD1pW21dLFwia3NcImluIGgmJiFoLmNvbXBsZXRlZCl7aWYoaC5jb21wbGV0ZWQ9ITAsaC50dCYmKGlbbS0xXS50ZD1oLnR0KSxsPVtdLHA9LTEsaC5oYXNNYXNrKXt2YXIgZz1oLm1hc2tzUHJvcGVydGllcztmb3IoYz1nLmxlbmd0aCxmPTA7Yz5mO2YrPTEpaWYoZ1tmXS5wdC5rLmkpcihnW2ZdLnB0LmspO2Vsc2UgZm9yKHU9Z1tmXS5wdC5rLmxlbmd0aCxkPTA7dT5kO2QrPTEpZ1tmXS5wdC5rW2RdLnMmJnIoZ1tmXS5wdC5rW2RdLnNbMF0pLGdbZl0ucHQua1tkXS5lJiZyKGdbZl0ucHQua1tkXS5lWzBdKX0wPT09aC50eT8oaC5sYXllcnM9ZShoLnJlZklkLGEpLHQoaC5sYXllcnMsYSxvKSk6ND09PWgudHk/cyhoLnNoYXBlcyk6NT09aC50eSYmbihoLG8pfX1mdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciBzPTAscj1lLmxlbmd0aDtyPnM7KXtpZihlW3NdLmlkPT09dClyZXR1cm4gZVtzXS5sYXllcnMuX191c2VkP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZVtzXS5sYXllcnMpKTooZVtzXS5sYXllcnMuX191c2VkPSEwLGVbc10ubGF5ZXJzKTtzKz0xfX1mdW5jdGlvbiBzKHQpe3ZhciBlLGksYSxuPXQubGVuZ3RoLG89ITE7Zm9yKGU9bi0xO2U+PTA7ZS09MSlpZihcInNoXCI9PXRbZV0udHkpe2lmKHRbZV0ua3Muay5pKXIodFtlXS5rcy5rKTtlbHNlIGZvcihhPXRbZV0ua3Muay5sZW5ndGgsaT0wO2E+aTtpKz0xKXRbZV0ua3Mua1tpXS5zJiZyKHRbZV0ua3Mua1tpXS5zWzBdKSx0W2VdLmtzLmtbaV0uZSYmcih0W2VdLmtzLmtbaV0uZVswXSk7bz0hMH1lbHNlXCJnclwiPT10W2VdLnR5JiZzKHRbZV0uaXQpfWZ1bmN0aW9uIHIodCl7dmFyIGUscz10LmkubGVuZ3RoO2ZvcihlPTA7cz5lO2UrPTEpdC5pW2VdWzBdKz10LnZbZV1bMF0sdC5pW2VdWzFdKz10LnZbZV1bMV0sdC5vW2VdWzBdKz10LnZbZV1bMF0sdC5vW2VdWzFdKz10LnZbZV1bMV19ZnVuY3Rpb24gaSh0LGUpe3ZhciBzPWU/ZS5zcGxpdChcIi5cIik6WzEwMCwxMDAsMTAwXTtyZXR1cm4gdFswXT5zWzBdPyEwOnNbMF0+dFswXT8hMTp0WzFdPnNbMV0/ITA6c1sxXT50WzFdPyExOnRbMl0+c1syXT8hMDpzWzJdPnRbMl0/ITE6dm9pZCAwfWZ1bmN0aW9uIGEoZSxzKXtlLl9fY29tcGxldGV8fChsKGUpLG8oZSksaChlKSxwKGUpLHQoZS5sYXllcnMsZS5hc3NldHMscyksZS5fX2NvbXBsZXRlPSEwKX1mdW5jdGlvbiBuKHQsZSl7dmFyIHMscixpPXQudC5kLmssYT1pLmxlbmd0aDtmb3Iocj0wO2E+cjtyKz0xKXt2YXIgbj10LnQuZC5rW3JdLnM7cz1bXTt2YXIgbyxoLGwscCxtLGYsYyxkPTAsdT10LnQubS5nLHk9MCxnPTAsdj0wLGI9W10sRT0wLFA9MCxTPWUuZ2V0Rm9udEJ5TmFtZShuLmYpLHg9MCxDPVMuZlN0eWxlLnNwbGl0KFwiIFwiKSxrPVwibm9ybWFsXCIsTT1cIm5vcm1hbFwiO2ZvcihoPUMubGVuZ3RoLG89MDtoPm87bys9MSlcIml0YWxpY1wiPT09Q1tvXS50b0xvd2VyQ2FzZSgpP009XCJpdGFsaWNcIjpcImJvbGRcIj09PUNbb10udG9Mb3dlckNhc2UoKT9rPVwiNzAwXCI6XCJibGFja1wiPT09Q1tvXS50b0xvd2VyQ2FzZSgpP2s9XCI5MDBcIjpcIm1lZGl1bVwiPT09Q1tvXS50b0xvd2VyQ2FzZSgpP2s9XCI1MDBcIjpcInJlZ3VsYXJcIj09PUNbb10udG9Mb3dlckNhc2UoKXx8XCJub3JtYWxcIj09PUNbb10udG9Mb3dlckNhc2UoKT9rPVwiNDAwXCI6KFwibGlnaHRcIj09PUNbb10udG9Mb3dlckNhc2UoKXx8XCJ0aGluXCI9PT1DW29dLnRvTG93ZXJDYXNlKCkpJiYoaz1cIjIwMFwiKTtpZihuLmZXZWlnaHQ9ayxuLmZTdHlsZT1NLGg9bi50Lmxlbmd0aCxuLnN6KXt2YXIgQT1uLnN6WzBdLEQ9LTE7Zm9yKG89MDtoPm87bys9MSlsPSExLFwiIFwiPT09bi50LmNoYXJBdChvKT9EPW86MTM9PT1uLnQuY2hhckNvZGVBdChvKSYmKEU9MCxsPSEwKSxlLmNoYXJzPyhjPWUuZ2V0Q2hhckRhdGEobi50LmNoYXJBdChvKSxTLmZTdHlsZSxTLmZGYW1pbHkpLHg9bD8wOmMudypuLnMvMTAwKTp4PWUubWVhc3VyZVRleHQobi50LmNoYXJBdChvKSxuLmYsbi5zKSxFK3g+QT8oLTE9PT1EPyhuLnQ9bi50LnN1YnN0cigwLG8pK1wiXFxyXCIrbi50LnN1YnN0cihvKSxoKz0xKToobz1ELG4udD1uLnQuc3Vic3RyKDAsbykrXCJcXHJcIituLnQuc3Vic3RyKG8rMSkpLEQ9LTEsRT0wKTpFKz14O2g9bi50Lmxlbmd0aH1mb3IoRT0wLHg9MCxvPTA7aD5vO28rPTEpaWYobD0hMSxcIiBcIj09PW4udC5jaGFyQXQobyk/cD1cIlxceGEwXCI6MTM9PT1uLnQuY2hhckNvZGVBdChvKT8oYi5wdXNoKEUpLFA9RT5QP0U6UCxFPTAscD1cIlwiLGw9ITAsdis9MSk6cD1uLnQuY2hhckF0KG8pLGUuY2hhcnM/KGM9ZS5nZXRDaGFyRGF0YShuLnQuY2hhckF0KG8pLFMuZlN0eWxlLGUuZ2V0Rm9udEJ5TmFtZShuLmYpLmZGYW1pbHkpLHg9bD8wOmMudypuLnMvMTAwKTp4PWUubWVhc3VyZVRleHQocCxuLmYsbi5zKSxFKz14LHMucHVzaCh7bDp4LGFuOngsYWRkOnksbjpsLGFuSW5kZXhlczpbXSx2YWw6cCxsaW5lOnZ9KSwyPT11KXtpZih5Kz14LFwiXCI9PXB8fFwiXFx4YTBcIj09cHx8bz09aC0xKXtmb3IoKFwiXCI9PXB8fFwiXFx4YTBcIj09cCkmJih5LT14KTtvPj1nOylzW2ddLmFuPXksc1tnXS5pbmQ9ZCxzW2ddLmV4dHJhPXgsZys9MTtkKz0xLHk9MH19ZWxzZSBpZigzPT11KXtpZih5Kz14LFwiXCI9PXB8fG89PWgtMSl7Zm9yKFwiXCI9PXAmJih5LT14KTtvPj1nOylzW2ddLmFuPXksc1tnXS5pbmQ9ZCxzW2ddLmV4dHJhPXgsZys9MTt5PTAsZCs9MX19ZWxzZSBzW2RdLmluZD1kLHNbZF0uZXh0cmE9MCxkKz0xO2lmKG4ubD1zLFA9RT5QP0U6UCxiLnB1c2goRSksbi5zeiluLmJveFdpZHRoPW4uc3pbMF0sbi5qdXN0aWZ5T2Zmc2V0PTA7ZWxzZSBzd2l0Y2gobi5ib3hXaWR0aD1QLG4uail7Y2FzZSAxOm4uanVzdGlmeU9mZnNldD0tbi5ib3hXaWR0aDticmVhaztjYXNlIDI6bi5qdXN0aWZ5T2Zmc2V0PS1uLmJveFdpZHRoLzI7YnJlYWs7ZGVmYXVsdDpuLmp1c3RpZnlPZmZzZXQ9MH1uLmxpbmVXaWR0aHM9Yjt2YXIgdz10LnQuYTtmPXcubGVuZ3RoO3ZhciBULEYsST1bXTtmb3IobT0wO2Y+bTttKz0xKXtmb3Iod1ttXS5hLnNjJiYobi5zdHJva2VDb2xvckFuaW09ITApLHdbbV0uYS5zdyYmKG4uc3Ryb2tlV2lkdGhBbmltPSEwKSwod1ttXS5hLmZjfHx3W21dLmEuZmh8fHdbbV0uYS5mc3x8d1ttXS5hLmZiKSYmKG4uZmlsbENvbG9yQW5pbT0hMCksRj0wLFQ9d1ttXS5zLmIsbz0wO2g+bztvKz0xKXNbb10uYW5JbmRleGVzW21dPUYsKDE9PVQmJlwiXCIhPXNbb10udmFsfHwyPT1UJiZcIlwiIT1zW29dLnZhbCYmXCJcXHhhMFwiIT1zW29dLnZhbHx8Mz09VCYmKHNbb10ubnx8XCJcXHhhMFwiPT1zW29dLnZhbHx8bz09aC0xKXx8ND09VCYmKHNbb10ubnx8bz09aC0xKSkmJigxPT09d1ttXS5zLnJuJiZJLnB1c2goRiksRis9MSk7dC50LmFbbV0ucy50b3RhbENoYXJzPUY7dmFyIF8sVj0tMTtpZigxPT09d1ttXS5zLnJuKWZvcihvPTA7aD5vO28rPTEpViE9c1tvXS5hbkluZGV4ZXNbbV0mJihWPXNbb10uYW5JbmRleGVzW21dLF89SS5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkkubGVuZ3RoKSwxKVswXSksc1tvXS5hbkluZGV4ZXNbbV09X30wIT09Znx8XCJtXCJpbiB0LnQucHx8KHQuc2luZ2xlU2hhcGU9ITApLG4ueU9mZnNldD1uLmxofHwxLjIqbi5zLG4ubHM9bi5sc3x8MCxuLmFzY2VudD1TLmFzY2VudCpuLnMvMTAwfX12YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC50LmQ7dC50LmQ9e2s6W3tzOmUsdDowfV19fWZ1bmN0aW9uIGUoZSl7dmFyIHMscj1lLmxlbmd0aDtmb3Iocz0wO3I+cztzKz0xKTU9PT1lW3NdLnR5JiZ0KGVbc10pfXZhciBzPVs0LDQsMTRdO3JldHVybiBmdW5jdGlvbih0KXtpZihpKHMsdC52KSYmKGUodC5sYXllcnMpLHQuYXNzZXRzKSl7dmFyIHIsYT10LmFzc2V0cy5sZW5ndGg7Zm9yKHI9MDthPnI7cis9MSl0LmFzc2V0c1tyXS5sYXllcnMmJmUodC5hc3NldHNbcl0ubGF5ZXJzKX19fSgpLGg9ZnVuY3Rpb24oKXt2YXIgdD1bNCw3LDk5XTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS5jaGFycyYmIWkodCxlLnYpKXt2YXIgcyxhLG4sbyxoLGw9ZS5jaGFycy5sZW5ndGg7Zm9yKHM9MDtsPnM7cys9MSlpZihlLmNoYXJzW3NdLmRhdGEmJmUuY2hhcnNbc10uZGF0YS5zaGFwZXMpZm9yKGg9ZS5jaGFyc1tzXS5kYXRhLnNoYXBlc1swXS5pdCxuPWgubGVuZ3RoLGE9MDtuPmE7YSs9MSlvPWhbYV0ua3MuayxyKGhbYV0ua3Muayl9fX0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcyxyLGksYT1lLmxlbmd0aDtmb3Iocz0wO2E+cztzKz0xKWlmKFwiZ3JcIj09PWVbc10udHkpdChlW3NdLml0KTtlbHNlIGlmKFwiZmxcIj09PWVbc10udHl8fFwic3RcIj09PWVbc10udHkpaWYoZVtzXS5jLmsmJmVbc10uYy5rWzBdLmkpZm9yKGk9ZVtzXS5jLmsubGVuZ3RoLHI9MDtpPnI7cis9MSllW3NdLmMua1tyXS5zJiYoZVtzXS5jLmtbcl0uc1swXS89MjU1LGVbc10uYy5rW3JdLnNbMV0vPTI1NSxlW3NdLmMua1tyXS5zWzJdLz0yNTUsZVtzXS5jLmtbcl0uc1szXS89MjU1KSxlW3NdLmMua1tyXS5lJiYoZVtzXS5jLmtbcl0uZVswXS89MjU1LGVbc10uYy5rW3JdLmVbMV0vPTI1NSxlW3NdLmMua1tyXS5lWzJdLz0yNTUsZVtzXS5jLmtbcl0uZVszXS89MjU1KTtlbHNlIGVbc10uYy5rWzBdLz0yNTUsZVtzXS5jLmtbMV0vPTI1NSxlW3NdLmMua1syXS89MjU1LGVbc10uYy5rWzNdLz0yNTV9ZnVuY3Rpb24gZShlKXt2YXIgcyxyPWUubGVuZ3RoO2ZvcihzPTA7cj5zO3MrPTEpND09PWVbc10udHkmJnQoZVtzXS5zaGFwZXMpfXZhciBzPVs0LDEsOV07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGkocyx0LnYpJiYoZSh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgcixhPXQuYXNzZXRzLmxlbmd0aDtmb3Iocj0wO2E+cjtyKz0xKXQuYXNzZXRzW3JdLmxheWVycyYmZSh0LmFzc2V0c1tyXS5sYXllcnMpfX19KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHMscixpLGE9ZS5sZW5ndGgsbj0hMTtmb3Iocz1hLTE7cz49MDtzLT0xKWlmKFwic2hcIj09ZVtzXS50eSl7aWYoZVtzXS5rcy5rLmkpZVtzXS5rcy5rLmM9ZVtzXS5jbG9zZWQ7ZWxzZSBmb3IoaT1lW3NdLmtzLmsubGVuZ3RoLHI9MDtpPnI7cis9MSllW3NdLmtzLmtbcl0ucyYmKGVbc10ua3Mua1tyXS5zWzBdLmM9ZVtzXS5jbG9zZWQpLGVbc10ua3Mua1tyXS5lJiYoZVtzXS5rcy5rW3JdLmVbMF0uYz1lW3NdLmNsb3NlZCk7bj0hMH1lbHNlXCJnclwiPT1lW3NdLnR5JiZ0KGVbc10uaXQpfWZ1bmN0aW9uIGUoZSl7dmFyIHMscixpLGEsbixvLGg9ZS5sZW5ndGg7Zm9yKHI9MDtoPnI7cis9MSl7aWYocz1lW3JdLHMuaGFzTWFzayl7dmFyIGw9cy5tYXNrc1Byb3BlcnRpZXM7Zm9yKGE9bC5sZW5ndGgsaT0wO2E+aTtpKz0xKWlmKGxbaV0ucHQuay5pKWxbaV0ucHQuay5jPWxbaV0uY2w7ZWxzZSBmb3Iobz1sW2ldLnB0LmsubGVuZ3RoLG49MDtvPm47bis9MSlsW2ldLnB0Lmtbbl0ucyYmKGxbaV0ucHQua1tuXS5zWzBdLmM9bFtpXS5jbCksbFtpXS5wdC5rW25dLmUmJihsW2ldLnB0Lmtbbl0uZVswXS5jPWxbaV0uY2wpfTQ9PT1zLnR5JiZ0KHMuc2hhcGVzKX19dmFyIHM9WzQsNCwxOF07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGkocyx0LnYpJiYoZSh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgcixhPXQuYXNzZXRzLmxlbmd0aDtmb3Iocj0wO2E+cjtyKz0xKXQuYXNzZXRzW3JdLmxheWVycyYmZSh0LmFzc2V0c1tyXS5sYXllcnMpfX19KCksbT17fTtyZXR1cm4gbS5jb21wbGV0ZURhdGE9YSxtfWZ1bmN0aW9uIFNoYXBlUGF0aCgpe3RoaXMuYz0hMSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9tYXhMZW5ndGg9OCx0aGlzLnY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMuX21heExlbmd0aH0pLHRoaXMubz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5fbWF4TGVuZ3RofSksdGhpcy5pPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KX1mdW5jdGlvbiBTaGFwZU1vZGlmaWVyKCl7fWZ1bmN0aW9uIFRyaW1Nb2RpZmllcigpe31mdW5jdGlvbiBSb3VuZENvcm5lcnNNb2RpZmllcigpe31mdW5jdGlvbiBSZXBlYXRlck1vZGlmaWVyKCl7fWZ1bmN0aW9uIFNoYXBlQ29sbGVjdGlvbigpe3RoaXMuX2xlbmd0aD0wLHRoaXMuX21heExlbmd0aD00LHRoaXMuc2hhcGVzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KX1mdW5jdGlvbiBCYXNlUmVuZGVyZXIoKXt9ZnVuY3Rpb24gU1ZHUmVuZGVyZXIodCxlKXt0aGlzLmFuaW1hdGlvbkl0ZW09dCx0aGlzLmxheWVycz1udWxsLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLmdsb2JhbERhdGE9e2ZyYW1lTnVtOi0xfSx0aGlzLnJlbmRlckNvbmZpZz17cHJlc2VydmVBc3BlY3RSYXRpbzplJiZlLnByZXNlcnZlQXNwZWN0UmF0aW98fFwieE1pZFlNaWQgbWVldFwiLHByb2dyZXNzaXZlTG9hZDplJiZlLnByb2dyZXNzaXZlTG9hZHx8ITEsaGlkZU9uVHJhbnNwYXJlbnQ6ZSYmZS5oaWRlT25UcmFuc3BhcmVudD09PSExPyExOiEwfSx0aGlzLmdsb2JhbERhdGEucmVuZGVyQ29uZmlnPXRoaXMucmVuZGVyQ29uZmlnLHRoaXMuZWxlbWVudHM9W10sdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5kZXN0cm95ZWQ9ITF9ZnVuY3Rpb24gTWFza0VsZW1lbnQodCxlLHMpe3RoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5kYXRhPXQsdGhpcy5lbGVtZW50PWUsdGhpcy5nbG9iYWxEYXRhPXMsdGhpcy5wYXRocz1bXSx0aGlzLnN0b3JlZERhdGE9W10sdGhpcy5tYXNrc1Byb3BlcnRpZXM9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcyx0aGlzLnZpZXdEYXRhPW5ldyBBcnJheSh0aGlzLm1hc2tzUHJvcGVydGllcy5sZW5ndGgpLHRoaXMubWFza0VsZW1lbnQ9bnVsbCx0aGlzLmZpcnN0RnJhbWU9ITA7dmFyIHIsaSxhLG4sbyxoLGwscCxtPXRoaXMuZ2xvYmFsRGF0YS5kZWZzLGY9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoLGM9dGhpcy5tYXNrc1Byb3BlcnRpZXMsZD0wLHU9W10seT1yYW5kb21TdHJpbmcoMTApLGc9XCJjbGlwUGF0aFwiLHY9XCJjbGlwLXBhdGhcIjtmb3Iocj0wO2Y+cjtyKyspaWYoKFwiYVwiIT09Y1tyXS5tb2RlJiZcIm5cIiE9PWNbcl0ubW9kZXx8Y1tyXS5pbnZ8fDEwMCE9PWNbcl0uby5rKSYmKGc9XCJtYXNrXCIsdj1cIm1hc2tcIiksXCJzXCIhPWNbcl0ubW9kZSYmXCJpXCIhPWNbcl0ubW9kZXx8MCE9ZD9vPW51bGw6KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicmVjdFwiKSxvLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIiNmZmZmZmZcIiksby5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZWxlbWVudC5jb21wLmRhdGEudyksby5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmVsZW1lbnQuY29tcC5kYXRhLmgpLHUucHVzaChvKSksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJwYXRoXCIpLFwiblwiIT1jW3JdLm1vZGUpe2lmKGQrPTEsXCJzXCI9PWNbcl0ubW9kZT9pLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIiMwMDAwMDBcIik6aS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCIjZmZmZmZmXCIpLGkuc2V0QXR0cmlidXRlKFwiY2xpcC1ydWxlXCIsXCJub256ZXJvXCIpLDAhPT1jW3JdLnguayl7Zz1cIm1hc2tcIix2PVwibWFza1wiLHA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcy5lbGVtZW50LGNbcl0ueCwwLG51bGwsdGhpcy5keW5hbWljUHJvcGVydGllcyk7dmFyIGI9XCJmaV9cIityYW5kb21TdHJpbmcoMTApO2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmlsdGVyXCIpLGguc2V0QXR0cmlidXRlKFwiaWRcIixiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlTW9ycGhvbG9neVwiKSxsLnNldEF0dHJpYnV0ZShcIm9wZXJhdG9yXCIsXCJkaWxhdGVcIiksbC5zZXRBdHRyaWJ1dGUoXCJpblwiLFwiU291cmNlR3JhcGhpY1wiKSxsLnNldEF0dHJpYnV0ZShcInJhZGl1c1wiLFwiMFwiKSxoLmFwcGVuZENoaWxkKGwpLG0uYXBwZW5kQ2hpbGQoaCksXCJzXCI9PWNbcl0ubW9kZT9pLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiIzAwMDAwMFwiKTppLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiI2ZmZmZmZlwiKX1lbHNlIGw9bnVsbCxwPW51bGw7aWYodGhpcy5zdG9yZWREYXRhW3JdPXtlbGVtOmkseDpwLGV4cGFuOmwsbGFzdFBhdGg6XCJcIixsYXN0T3BlcmF0b3I6XCJcIixmaWx0ZXJJZDpiLGxhc3RSYWRpdXM6MH0sXCJpXCI9PWNbcl0ubW9kZSl7bj11Lmxlbmd0aDt2YXIgRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2ZvcihhPTA7bj5hO2ErPTEpRS5hcHBlbmRDaGlsZCh1W2FdKTt2YXIgUD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpO1Auc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJhbHBoYVwiKSxQLnNldEF0dHJpYnV0ZShcImlkXCIseStcIl9cIitkKSxQLmFwcGVuZENoaWxkKGkpLG0uYXBwZW5kQ2hpbGQoUCksRS5zZXRBdHRyaWJ1dGUoXCJtYXNrXCIsXCJ1cmwoI1wiK3krXCJfXCIrZCtcIilcIiksdS5sZW5ndGg9MCx1LnB1c2goRSl9ZWxzZSB1LnB1c2goaSk7Y1tyXS5pbnYmJiF0aGlzLnNvbGlkUGF0aCYmKHRoaXMuc29saWRQYXRoPXRoaXMuY3JlYXRlTGF5ZXJTb2xpZFBhdGgoKSksdGhpcy52aWV3RGF0YVtyXT17ZWxlbTppLGxhc3RQYXRoOlwiXCIsb3A6UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcy5lbGVtZW50LGNbcl0ubywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSxwcm9wOlNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcCh0aGlzLmVsZW1lbnQsY1tyXSwzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMsbnVsbCl9LG8mJih0aGlzLnZpZXdEYXRhW3JdLmludlJlY3Q9byksdGhpcy52aWV3RGF0YVtyXS5wcm9wLmt8fHRoaXMuZHJhd1BhdGgoY1tyXSx0aGlzLnZpZXdEYXRhW3JdLnByb3Audix0aGlzLnZpZXdEYXRhW3JdKX1lbHNlIHRoaXMudmlld0RhdGFbcl09e29wOlByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMuZWxlbWVudCxjW3JdLm8sMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcykscHJvcDpTaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcy5lbGVtZW50LGNbcl0sMyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLG51bGwpLGVsZW06aX0sbS5hcHBlbmRDaGlsZChpKTtmb3IodGhpcy5tYXNrRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsZyksZj11Lmxlbmd0aCxyPTA7Zj5yO3IrPTEpdGhpcy5tYXNrRWxlbWVudC5hcHBlbmRDaGlsZCh1W3JdKTt0aGlzLm1hc2tFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIseSksZD4wJiZ0aGlzLmVsZW1lbnQubWFza2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUodixcInVybCgjXCIreStcIilcIiksbS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbGVtZW50KX1mdW5jdGlvbiBCYXNlRWxlbWVudCgpe31mdW5jdGlvbiBTVkdCYXNlRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuZ2xvYmFsRGF0YT1zLHRoaXMuY29tcD1yLHRoaXMuZGF0YT10LHRoaXMubWF0dGVFbGVtZW50PW51bGwsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9bnVsbCx0aGlzLmlzVHJhbnNwYXJlbnQ9ITEsdGhpcy5wYXJlbnRDb250YWluZXI9ZSx0aGlzLmxheWVySWQ9aT9pLmxheWVySWQ6XCJseV9cIityYW5kb21TdHJpbmcoMTApLHRoaXMucGxhY2Vob2xkZXI9aSx0aGlzLmluaXQoKX1mdW5jdGlvbiBJU2hhcGVFbGVtZW50KHQsZSxzLHIsaSl7dGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZXNEYXRhPXQuc2hhcGVzLHRoaXMuc3R5bGVzTGlzdD1bXSx0aGlzLml0ZW1zRGF0YT1bXSx0aGlzLnByZXZWaWV3RGF0YT1bXSx0aGlzLnNoYXBlTW9kaWZpZXJzPVtdLHRoaXMucHJvY2Vzc2VkRWxlbWVudHM9W10sdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscyxyLGkpfWZ1bmN0aW9uIElUZXh0RWxlbWVudCh0LGUscyxyKXt9ZnVuY3Rpb24gU1ZHVGV4dEVsZW1lbnQodCxlLHMscixpKXt0aGlzLnRleHRTcGFucz1bXSx0aGlzLnJlbmRlclR5cGU9XCJzdmdcIix0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxzLHIsaSl9ZnVuY3Rpb24gU1ZHVGludEZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29sb3JNYXRyaXhcIik7aWYocy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJtYXRyaXhcIikscy5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcImxpbmVhclJHQlwiKSxzLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXCIpLHMuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMVwiKSx0LmFwcGVuZENoaWxkKHMpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVDb2xvck1hdHJpeFwiKSxzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSxzLnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSxzLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwXCIpLHMuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMlwiKSx0LmFwcGVuZENoaWxkKHMpLHRoaXMubWF0cml4RmlsdGVyPXMsMTAwIT09ZS5lZmZlY3RFbGVtZW50c1syXS5wLnZ8fGUuZWZmZWN0RWxlbWVudHNbMl0ucC5rKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlXCIpO3QuYXBwZW5kQ2hpbGQocik7dmFyIGk7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxpLnNldEF0dHJpYnV0ZShcImluXCIsXCJTb3VyY2VHcmFwaGljXCIpLHIuYXBwZW5kQ2hpbGQoaSksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxpLnNldEF0dHJpYnV0ZShcImluXCIsXCJmMlwiKSxyLmFwcGVuZENoaWxkKGkpfX1mdW5jdGlvbiBTVkdGaWxsRmlsdGVyKHQsZSl7dGhpcy5maWx0ZXJNYW5hZ2VyPWU7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVDb2xvck1hdHJpeFwiKTtzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSxzLnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSxzLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwXCIpLHQuYXBwZW5kQ2hpbGQocyksdGhpcy5tYXRyaXhGaWx0ZXI9c31mdW5jdGlvbiBTVkdTdHJva2VFZmZlY3QodCxlKXt0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZmlsdGVyTWFuYWdlcj1lLHRoaXMuZWxlbT10LHRoaXMucGF0aHM9W119ZnVuY3Rpb24gU1ZHVHJpdG9uZUZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29sb3JNYXRyaXhcIik7cy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJtYXRyaXhcIikscy5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcImxpbmVhclJHQlwiKSxzLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXCIpLHMuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMVwiKSx0LmFwcGVuZENoaWxkKHMpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIik7ci5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcInNSR0JcIiksdC5hcHBlbmRDaGlsZChyKSx0aGlzLm1hdHJpeEZpbHRlcj1yO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY1JcIik7aS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxyLmFwcGVuZENoaWxkKGkpLHRoaXMuZmVGdW5jUj1pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY0dcIik7YS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxyLmFwcGVuZENoaWxkKGEpLHRoaXMuZmVGdW5jRz1hO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY0JcIik7bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxyLmFwcGVuZENoaWxkKG4pLHRoaXMuZmVGdW5jQj1ufWZ1bmN0aW9uIFNWR1Byb0xldmVsc0ZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciBzPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50cyxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIik7KHNbOV0ucC5rfHwwIT09c1s5XS5wLnZ8fHNbMTBdLnAua3x8MSE9PXNbMTBdLnAudnx8c1sxMV0ucC5rfHwxIT09c1sxMV0ucC52fHxzWzEyXS5wLmt8fDAhPT1zWzEyXS5wLnZ8fHNbMTNdLnAua3x8MSE9PXNbMTNdLnAudikmJih0aGlzLmZlRnVuY1I9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNSXCIscikpLChzWzE2XS5wLmt8fDAhPT1zWzE2XS5wLnZ8fHNbMTddLnAua3x8MSE9PXNbMTddLnAudnx8c1sxOF0ucC5rfHwxIT09c1sxOF0ucC52fHxzWzE5XS5wLmt8fDAhPT1zWzE5XS5wLnZ8fHNbMjBdLnAua3x8MSE9PXNbMjBdLnAudikmJih0aGlzLmZlRnVuY0c9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNHXCIscikpLChzWzIzXS5wLmt8fDAhPT1zWzIzXS5wLnZ8fHNbMjRdLnAua3x8MSE9PXNbMjRdLnAudnx8c1syNV0ucC5rfHwxIT09c1syNV0ucC52fHxzWzI2XS5wLmt8fDAhPT1zWzI2XS5wLnZ8fHNbMjddLnAua3x8MSE9PXNbMjddLnAudikmJih0aGlzLmZlRnVuY0I9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNCXCIscikpLChzWzMwXS5wLmt8fDAhPT1zWzMwXS5wLnZ8fHNbMzFdLnAua3x8MSE9PXNbMzFdLnAudnx8c1szMl0ucC5rfHwxIT09c1szMl0ucC52fHxzWzMzXS5wLmt8fDAhPT1zWzMzXS5wLnZ8fHNbMzRdLnAua3x8MSE9PXNbMzRdLnAudikmJih0aGlzLmZlRnVuY0E9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNBXCIscikpLCh0aGlzLmZlRnVuY1J8fHRoaXMuZmVGdW5jR3x8dGhpcy5mZUZ1bmNCfHx0aGlzLmZlRnVuY0EpJiYoci5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcInNSR0JcIiksdC5hcHBlbmRDaGlsZChyKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIikpLChzWzJdLnAua3x8MCE9PXNbMl0ucC52fHxzWzNdLnAua3x8MSE9PXNbM10ucC52fHxzWzRdLnAua3x8MSE9PXNbNF0ucC52fHxzWzVdLnAua3x8MCE9PXNbNV0ucC52fHxzWzZdLnAua3x8MSE9PXNbNl0ucC52KSYmKHIuc2V0QXR0cmlidXRlKFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCIsXCJzUkdCXCIpLHQuYXBwZW5kQ2hpbGQociksdGhpcy5mZUZ1bmNSQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNSXCIsciksdGhpcy5mZUZ1bmNHQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNHXCIsciksdGhpcy5mZUZ1bmNCQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNCXCIscikpfWZ1bmN0aW9uIFNWR0Ryb3BTaGFkb3dFZmZlY3QodCxlKXt0LnNldEF0dHJpYnV0ZShcInhcIixcIi0xMDAlXCIpLHQuc2V0QXR0cmlidXRlKFwieVwiLFwiLTEwMCVcIiksdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiNDAwJVwiKSx0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiNDAwJVwiKSx0aGlzLmZpbHRlck1hbmFnZXI9ZTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZUdhdXNzaWFuQmx1clwiKTtzLnNldEF0dHJpYnV0ZShcImluXCIsXCJTb3VyY2VBbHBoYVwiKSxzLnNldEF0dHJpYnV0ZShcInJlc3VsdFwiLFwiZHJvcF9zaGFkb3dfMVwiKSxzLnNldEF0dHJpYnV0ZShcInN0ZERldmlhdGlvblwiLFwiMFwiKSx0aGlzLmZlR2F1c3NpYW5CbHVyPXMsdC5hcHBlbmRDaGlsZChzKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU9mZnNldFwiKTtyLnNldEF0dHJpYnV0ZShcImR4XCIsXCIyNVwiKSxyLnNldEF0dHJpYnV0ZShcImR5XCIsXCIwXCIpLHIuc2V0QXR0cmlidXRlKFwiaW5cIixcImRyb3Bfc2hhZG93XzFcIiksci5zZXRBdHRyaWJ1dGUoXCJyZXN1bHRcIixcImRyb3Bfc2hhZG93XzJcIiksdGhpcy5mZU9mZnNldD1yLHQuYXBwZW5kQ2hpbGQocik7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVGbG9vZFwiKTtpLnNldEF0dHJpYnV0ZShcImZsb29kLWNvbG9yXCIsXCIjMDBmZjAwXCIpLGkuc2V0QXR0cmlidXRlKFwiZmxvb2Qtb3BhY2l0eVwiLFwiMVwiKSxpLnNldEF0dHJpYnV0ZShcInJlc3VsdFwiLFwiZHJvcF9zaGFkb3dfM1wiKSx0aGlzLmZlRmxvb2Q9aSx0LmFwcGVuZENoaWxkKGkpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9zaXRlXCIpO2Euc2V0QXR0cmlidXRlKFwiaW5cIixcImRyb3Bfc2hhZG93XzNcIiksYS5zZXRBdHRyaWJ1dGUoXCJpbjJcIixcImRyb3Bfc2hhZG93XzJcIiksYS5zZXRBdHRyaWJ1dGUoXCJvcGVyYXRvclwiLFwiaW5cIiksYS5zZXRBdHRyaWJ1dGUoXCJyZXN1bHRcIixcImRyb3Bfc2hhZG93XzRcIiksdC5hcHBlbmRDaGlsZChhKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlXCIpO3QuYXBwZW5kQ2hpbGQobik7dmFyIG87bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxuLmFwcGVuZENoaWxkKG8pLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVNZXJnZU5vZGVcIiksby5zZXRBdHRyaWJ1dGUoXCJpblwiLFwiU291cmNlR3JhcGhpY1wiKSx0aGlzLmZlTWVyZ2VOb2RlPW8sdGhpcy5mZU1lcmdlPW4sdGhpcy5vcmlnaW5hbE5vZGVBZGRlZD0hMSxuLmFwcGVuZENoaWxkKG8pfWZ1bmN0aW9uIFNWR01hdHRlM0VmZmVjdCh0LGUscyl7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmZpbHRlck1hbmFnZXI9ZSx0aGlzLmZpbHRlckVsZW09dCx0aGlzLmVsZW09cyxzLm1hdHRlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpLHMubWF0dGVFbGVtZW50LmFwcGVuZENoaWxkKHMubGF5ZXJFbGVtZW50KSxzLm1hdHRlRWxlbWVudC5hcHBlbmRDaGlsZChzLnRyYW5zZm9ybWVkRWxlbWVudCkscy5iYXNlRWxlbWVudD1zLm1hdHRlRWxlbWVudH1mdW5jdGlvbiBTVkdFZmZlY3RzKHQpe3ZhciBlLHM9dC5kYXRhLmVmLmxlbmd0aCxyPXJhbmRvbVN0cmluZygxMCksaT1maWx0ZXJzRmFjdG9yeS5jcmVhdGVGaWx0ZXIociksYT0wO3RoaXMuZmlsdGVycz1bXTt2YXIgbjtmb3IoZT0wO3M+ZTtlKz0xKTIwPT09dC5kYXRhLmVmW2VdLnR5PyhhKz0xLG49bmV3IFNWR1RpbnRGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyMT09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdGaWxsRmlsdGVyKGksdC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzW2VdKSx0aGlzLmZpbHRlcnMucHVzaChuKSk6MjI9PT10LmRhdGEuZWZbZV0udHk/KG49bmV3IFNWR1N0cm9rZUVmZmVjdCh0LHQuZWZmZWN0cy5lZmZlY3RFbGVtZW50c1tlXSksdGhpcy5maWx0ZXJzLnB1c2gobikpOjIzPT09dC5kYXRhLmVmW2VdLnR5PyhhKz0xLG49bmV3IFNWR1RyaXRvbmVGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyND09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdQcm9MZXZlbHNGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyNT09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdEcm9wU2hhZG93RWZmZWN0KGksdC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzW2VdKSx0aGlzLmZpbHRlcnMucHVzaChuKSk6Mjg9PT10LmRhdGEuZWZbZV0udHkmJihuPW5ldyBTVkdNYXR0ZTNFZmZlY3QoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0sdCksdGhpcy5maWx0ZXJzLnB1c2gobikpO2EmJih0Lmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChpKSx0LmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybCgjXCIrcitcIilcIikpfWZ1bmN0aW9uIElDb21wRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMscixpKSx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLnN1cHBvcnRzM2Q9ITAsdGhpcy5jb21wbGV0ZUxheWVycz0hMSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPXRoaXMubGF5ZXJzP0FycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLmxheWVycy5sZW5ndGh9KTpbXSx0aGlzLmRhdGEudG0mJih0aGlzLnRtPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdGhpcy5kYXRhLnRtLDAscy5mcmFtZVJhdGUsdGhpcy5keW5hbWljUHJvcGVydGllcykpLHRoaXMuZGF0YS54dD8odGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmJ1aWxkQWxsSXRlbXMoKSk6cy5wcm9ncmVzc2l2ZUxvYWR8fHRoaXMuYnVpbGRBbGxJdGVtcygpfWZ1bmN0aW9uIElJbWFnZUVsZW1lbnQodCxlLHMscixpKXt0aGlzLmFzc2V0RGF0YT1zLmdldEFzc2V0RGF0YSh0LnJlZklkKSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxzLHIsaSl9ZnVuY3Rpb24gSVNvbGlkRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMscixpKX1mdW5jdGlvbiBDYW52YXNSZW5kZXJlcih0LGUpe3RoaXMuYW5pbWF0aW9uSXRlbT10LHRoaXMucmVuZGVyQ29uZmlnPXtjbGVhckNhbnZhczplJiZ2b2lkIDAhPT1lLmNsZWFyQ2FudmFzP2UuY2xlYXJDYW52YXM6ITAsY29udGV4dDplJiZlLmNvbnRleHR8fG51bGwscHJvZ3Jlc3NpdmVMb2FkOmUmJmUucHJvZ3Jlc3NpdmVMb2FkfHwhMSxwcmVzZXJ2ZUFzcGVjdFJhdGlvOmUmJmUucHJlc2VydmVBc3BlY3RSYXRpb3x8XCJ4TWlkWU1pZCBtZWV0XCJ9LHRoaXMucmVuZGVyQ29uZmlnLmRwcj1lJiZlLmRwcnx8MSx0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlciYmKHRoaXMucmVuZGVyQ29uZmlnLmRwcj1lJiZlLmRwcnx8d2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLmdsb2JhbERhdGE9e2ZyYW1lTnVtOi0xfSx0aGlzLmNvbnRleHREYXRhPXtzYXZlZDpBcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTV9KSxzYXZlZE9wOkFycmF5LmFwcGx5KG51bGwse2xlbmd0aDoxNX0pLGNBcnJQb3M6MCxjVHI6bmV3IE1hdHJpeCxjTzoxfTt2YXIgcyxyPTE1O2ZvcihzPTA7cj5zO3MrPTEpdGhpcy5jb250ZXh0RGF0YS5zYXZlZFtzXT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTZ9KTt0aGlzLmVsZW1lbnRzPVtdLHRoaXMucGVuZGluZ0VsZW1lbnRzPVtdLHRoaXMudHJhbnNmb3JtTWF0PW5ldyBNYXRyaXgsdGhpcy5jb21wbGV0ZUxheWVycz0hMX1mdW5jdGlvbiBIeWJyaWRSZW5kZXJlcih0KXt0aGlzLmFuaW1hdGlvbkl0ZW09dCx0aGlzLmxheWVycz1udWxsLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLmdsb2JhbERhdGE9e2ZyYW1lTnVtOi0xfSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPVtdLHRoaXMudGhyZWVERWxlbWVudHM9W10sdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLnN1cHBvcnRzM2Q9ITB9ZnVuY3Rpb24gQ1ZCYXNlRWxlbWVudCh0LGUscyl7dGhpcy5nbG9iYWxEYXRhPXMsdGhpcy5kYXRhPXQsdGhpcy5jb21wPWUsdGhpcy5jYW52YXNDb250ZXh0PXMuY2FudmFzQ29udGV4dCx0aGlzLmluaXQoKX1mdW5jdGlvbiBDVkNvbXBFbGVtZW50KHQsZSxzKXt0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxzKTt2YXIgcj17fTtmb3IodmFyIGkgaW4gcylzLmhhc093blByb3BlcnR5KGkpJiYocltpXT1zW2ldKTtyLnJlbmRlcmVyPXRoaXMsci5jb21wSGVpZ2h0PXRoaXMuZGF0YS5oLHIuY29tcFdpZHRoPXRoaXMuZGF0YS53LHRoaXMucmVuZGVyQ29uZmlnPXtjbGVhckNhbnZhczohMH0sdGhpcy5jb250ZXh0RGF0YT17c2F2ZWQ6QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOjE1fSksc2F2ZWRPcDpBcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTV9KSxjQXJyUG9zOjAsY1RyOm5ldyBNYXRyaXgsY086MX0sdGhpcy5jb21wbGV0ZUxheWVycz0hMTt2YXIgYSxuPTE1O2ZvcihhPTA7bj5hO2ErPTEpdGhpcy5jb250ZXh0RGF0YS5zYXZlZFthXT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTZ9KTt0aGlzLnRyYW5zZm9ybU1hdD1uZXcgTWF0cml4LHRoaXMucGFyZW50R2xvYmFsRGF0YT10aGlzLmdsb2JhbERhdGE7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyLmNhbnZhc0NvbnRleHQ9by5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jYW52YXNDb250ZXh0PXIuY2FudmFzQ29udGV4dCxvLndpZHRoPXRoaXMuZGF0YS53LG8uaGVpZ2h0PXRoaXMuZGF0YS5oLHRoaXMuY2FudmFzPW8sdGhpcy5nbG9iYWxEYXRhPXIsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5lbGVtZW50cz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5sYXllcnMubGVuZ3RofSksdGhpcy5kYXRhLnRtJiYodGhpcy50bT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHRoaXMuZGF0YS50bSwwLHMuZnJhbWVSYXRlLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSwodGhpcy5kYXRhLnh0fHwhcy5wcm9ncmVzc2l2ZUxvYWQpJiZ0aGlzLmJ1aWxkQWxsSXRlbXMoKX1mdW5jdGlvbiBDVkltYWdlRWxlbWVudCh0LGUscyl7dGhpcy5hc3NldERhdGE9cy5nZXRBc3NldERhdGEodC5yZWZJZCksdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscyksdGhpcy5nbG9iYWxEYXRhLmFkZFBlbmRpbmdFbGVtZW50KCl9ZnVuY3Rpb24gQ1ZNYXNrRWxlbWVudCh0LGUpe3RoaXMuZGF0YT10LHRoaXMuZWxlbWVudD1lLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5tYXNrc1Byb3BlcnRpZXM9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcyx0aGlzLnZpZXdEYXRhPW5ldyBBcnJheSh0aGlzLm1hc2tzUHJvcGVydGllcy5sZW5ndGgpO3ZhciBzLHI9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihzPTA7cj5zO3MrKyl0aGlzLnZpZXdEYXRhW3NdPVNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcCh0aGlzLmVsZW1lbnQsdGhpcy5tYXNrc1Byb3BlcnRpZXNbc10sMyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLG51bGwpfWZ1bmN0aW9uIENWU2hhcGVFbGVtZW50KHQsZSxzKXt0aGlzLnNoYXBlcz1bXSx0aGlzLnNoYXBlc0RhdGE9dC5zaGFwZXMsdGhpcy5zdHlsZXNMaXN0PVtdLHRoaXMuaXRlbXNEYXRhPVtdLHRoaXMucHJldlZpZXdEYXRhPVtdLHRoaXMuc2hhcGVNb2RpZmllcnM9W10sdGhpcy5wcm9jZXNzZWRFbGVtZW50cz1bXSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxzKX1mdW5jdGlvbiBDVlNvbGlkRWxlbWVudCh0LGUscyl7dGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscyl9ZnVuY3Rpb24gQ1ZUZXh0RWxlbWVudCh0LGUscyl7dGhpcy50ZXh0U3BhbnM9W10sdGhpcy55T2Zmc2V0PTAsdGhpcy5maWxsQ29sb3JBbmltPSExLHRoaXMuc3Ryb2tlQ29sb3JBbmltPSExLHRoaXMuc3Ryb2tlV2lkdGhBbmltPSExLHRoaXMuc3Ryb2tlPSExLHRoaXMuZmlsbD0hMSx0aGlzLmp1c3RpZnlPZmZzZXQ9MCx0aGlzLmN1cnJlbnRSZW5kZXI9bnVsbCx0aGlzLnJlbmRlclR5cGU9XCJjYW52YXNcIix0aGlzLnZhbHVlcz17ZmlsbDpcInJnYmEoMCwwLDAsMClcIixzdHJva2U6XCJyZ2JhKDAsMCwwLDApXCIsc1dpZHRoOjAsZlZhbHVlOlwiXCJ9LHRoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMpfWZ1bmN0aW9uIEhCYXNlRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuZ2xvYmFsRGF0YT1zLHRoaXMuY29tcD1yLHRoaXMuZGF0YT10LHRoaXMubWF0dGVFbGVtZW50PW51bGwsdGhpcy5wYXJlbnRDb250YWluZXI9ZSx0aGlzLmxheWVySWQ9aT9pLmxheWVySWQ6XCJseV9cIityYW5kb21TdHJpbmcoMTApLHRoaXMucGxhY2Vob2xkZXI9aSx0aGlzLmluaXQoKX1mdW5jdGlvbiBIU29saWRFbGVtZW50KHQsZSxzLHIsaSl7dGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscyxyLGkpfWZ1bmN0aW9uIEhDb21wRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMscixpKSx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLnN1cHBvcnRzM2Q9ITAsdGhpcy5jb21wbGV0ZUxheWVycz0hMSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLmxheWVycy5sZW5ndGh9KSx0aGlzLmRhdGEudG0mJih0aGlzLnRtPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdGhpcy5kYXRhLnRtLDAscy5mcmFtZVJhdGUsdGhpcy5keW5hbWljUHJvcGVydGllcykpLHRoaXMuZGF0YS5oYXNNYXNrJiYodGhpcy5zdXBwb3J0czNkPSExKSx0aGlzLmRhdGEueHQmJih0aGlzLmxheWVyRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmJ1aWxkQWxsSXRlbXMoKX1mdW5jdGlvbiBIU2hhcGVFbGVtZW50KHQsZSxzLHIsaSl7dGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZXNEYXRhPXQuc2hhcGVzLHRoaXMuc3R5bGVzTGlzdD1bXSx0aGlzLml0ZW1zRGF0YT1bXSx0aGlzLnByZXZWaWV3RGF0YT1bXSx0aGlzLnNoYXBlTW9kaWZpZXJzPVtdLHRoaXMucHJvY2Vzc2VkRWxlbWVudHM9W10sdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscyxyLGkpLHRoaXMuY3VycmVudEJCb3g9e3g6OTk5OTk5LHk6LTk5OTk5OSxoOjAsdzowfX1mdW5jdGlvbiBIVGV4dEVsZW1lbnQodCxlLHMscixpKXt0aGlzLnRleHRTcGFucz1bXSx0aGlzLnRleHRQYXRocz1bXSx0aGlzLmN1cnJlbnRCQm94PXt4Ojk5OTk5OSx5Oi05OTk5OTksaDowLHc6MH0sdGhpcy5yZW5kZXJUeXBlPVwic3ZnXCIsdGhpcy5pc01hc2tlZD0hMSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxzLHIsaSl9ZnVuY3Rpb24gSEltYWdlRWxlbWVudCh0LGUscyxyLGkpe3RoaXMuYXNzZXREYXRhPXMuZ2V0QXNzZXREYXRhKHQucmVmSWQpLHRoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMscixpKX1mdW5jdGlvbiBIQ2FtZXJhRWxlbWVudCh0LGUscyxyLGkpe2lmKHRoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHMscixpKSx0aGlzLnBlPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5wZSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdC5rcy5wLnM/KHRoaXMucHg9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmtzLnAueCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5weT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQua3MucC55LDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnB6PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5rcy5wLnosMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKTp0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmtzLnAsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHQua3MuYSYmKHRoaXMuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQua3MuYSwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcykpLHQua3Mub3Iuay5sZW5ndGgmJnQua3Mub3Iua1swXS50byl7dmFyIGEsbj10LmtzLm9yLmsubGVuZ3RoO2ZvcihhPTA7bj5hO2ErPTEpdC5rcy5vci5rW2FdLnRvPW51bGwsdC5rcy5vci5rW2FdLnRpPW51bGx9dGhpcy5vcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQua3Mub3IsMSxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vci5zaD0hMCx0aGlzLnJ4PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5rcy5yeCwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnJ5PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5rcy5yeSwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnJ6PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5rcy5yeiwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm1hdD1uZXcgTWF0cml4fWZ1bmN0aW9uIFNsaWRlckVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxzKX1mdW5jdGlvbiBBbmdsZUVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxzKX1mdW5jdGlvbiBDb2xvckVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDEsMCxzKX1mdW5jdGlvbiBQb2ludEVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDEsMCxzKX1mdW5jdGlvbiBMYXllckluZGV4RWZmZWN0KHQsZSxzKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHMpfWZ1bmN0aW9uIE1hc2tJbmRleEVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxzKX1mdW5jdGlvbiBDaGVja2JveEVmZmVjdCh0LGUscyl7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxzKX1mdW5jdGlvbiBOb1ZhbHVlRWZmZWN0KCl7dGhpcy5wPXt9fWZ1bmN0aW9uIEVmZmVjdHNNYW5hZ2VyKHQsZSxzKXt2YXIgcj10LmVmO3RoaXMuZWZmZWN0RWxlbWVudHM9W107dmFyIGksYSxuPXIubGVuZ3RoO2ZvcihpPTA7bj5pO2krKylhPW5ldyBHcm91cEVmZmVjdChyW2ldLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGEpfWZ1bmN0aW9uIEdyb3VwRWZmZWN0KHQsZSxzKXt0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuaW5pdCh0LGUsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGgmJnMucHVzaCh0aGlzKX1mdW5jdGlvbiBwbGF5KHQpe2FuaW1hdGlvbk1hbmFnZXIucGxheSh0KX1mdW5jdGlvbiBwYXVzZSh0KXthbmltYXRpb25NYW5hZ2VyLnBhdXNlKHQpfWZ1bmN0aW9uIHRvZ2dsZVBhdXNlKHQpe2FuaW1hdGlvbk1hbmFnZXIudG9nZ2xlUGF1c2UodCl9ZnVuY3Rpb24gc2V0U3BlZWQodCxlKXthbmltYXRpb25NYW5hZ2VyLnNldFNwZWVkKHQsZSl9ZnVuY3Rpb24gc2V0RGlyZWN0aW9uKHQsZSl7YW5pbWF0aW9uTWFuYWdlci5zZXREaXJlY3Rpb24odCxlKX1mdW5jdGlvbiBzdG9wKHQpe2FuaW1hdGlvbk1hbmFnZXIuc3RvcCh0KX1mdW5jdGlvbiBtb3ZlRnJhbWUodCl7YW5pbWF0aW9uTWFuYWdlci5tb3ZlRnJhbWUodCl9ZnVuY3Rpb24gc2VhcmNoQW5pbWF0aW9ucygpe3N0YW5kYWxvbmU9PT0hMD9hbmltYXRpb25NYW5hZ2VyLnNlYXJjaEFuaW1hdGlvbnMoYW5pbWF0aW9uRGF0YSxzdGFuZGFsb25lLHJlbmRlcmVyKTphbmltYXRpb25NYW5hZ2VyLnNlYXJjaEFuaW1hdGlvbnMoKX1mdW5jdGlvbiByZWdpc3RlckFuaW1hdGlvbih0KXtyZXR1cm4gYW5pbWF0aW9uTWFuYWdlci5yZWdpc3RlckFuaW1hdGlvbih0KX1mdW5jdGlvbiByZXNpemUoKXthbmltYXRpb25NYW5hZ2VyLnJlc2l6ZSgpfWZ1bmN0aW9uIHN0YXJ0KCl7YW5pbWF0aW9uTWFuYWdlci5zdGFydCgpfWZ1bmN0aW9uIGdvVG9BbmRTdG9wKHQsZSxzKXthbmltYXRpb25NYW5hZ2VyLmdvVG9BbmRTdG9wKHQsZSxzKX1mdW5jdGlvbiBzZXRTdWJmcmFtZVJlbmRlcmluZyh0KXtzdWJmcmFtZUVuYWJsZWQ9dH1mdW5jdGlvbiBsb2FkQW5pbWF0aW9uKHQpe3JldHVybiBzdGFuZGFsb25lPT09ITAmJih0LmFuaW1hdGlvbkRhdGE9SlNPTi5wYXJzZShhbmltYXRpb25EYXRhKSksYW5pbWF0aW9uTWFuYWdlci5sb2FkQW5pbWF0aW9uKHQpfWZ1bmN0aW9uIGRlc3Ryb3kodCl7cmV0dXJuIGFuaW1hdGlvbk1hbmFnZXIuZGVzdHJveSh0KX1mdW5jdGlvbiBzZXRRdWFsaXR5KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXN3aXRjaCh0KXtjYXNlXCJoaWdoXCI6ZGVmYXVsdEN1cnZlU2VnbWVudHM9MjAwO2JyZWFrO2Nhc2VcIm1lZGl1bVwiOmRlZmF1bHRDdXJ2ZVNlZ21lbnRzPTUwO2JyZWFrO2Nhc2VcImxvd1wiOmRlZmF1bHRDdXJ2ZVNlZ21lbnRzPTEwfWVsc2UhaXNOYU4odCkmJnQ+MSYmKGRlZmF1bHRDdXJ2ZVNlZ21lbnRzPXQpO3JvdW5kVmFsdWVzKGRlZmF1bHRDdXJ2ZVNlZ21lbnRzPj01MD8hMTohMCl9ZnVuY3Rpb24gaW5Ccm93c2VyKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcn1mdW5jdGlvbiBpbnN0YWxsUGx1Z2luKHQsZSl7XCJleHByZXNzaW9uc1wiPT09dCYmKGV4cHJlc3Npb25zUGx1Z2luPWUpfWZ1bmN0aW9uIGdldEZhY3RvcnkodCl7c3dpdGNoKHQpe2Nhc2VcInByb3BlcnR5RmFjdG9yeVwiOnJldHVybiBQcm9wZXJ0eUZhY3Rvcnk7Y2FzZVwic2hhcGVQcm9wZXJ0eUZhY3RvcnlcIjpyZXR1cm4gU2hhcGVQcm9wZXJ0eUZhY3Rvcnk7Y2FzZVwibWF0cml4XCI6cmV0dXJuIE1hdHJpeH19ZnVuY3Rpb24gY2hlY2tSZWFkeSgpe1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJihjbGVhckludGVydmFsKHJlYWR5U3RhdGVDaGVja0ludGVydmFsKSxzZWFyY2hBbmltYXRpb25zKCkpfWZ1bmN0aW9uIGdldFF1ZXJ5VmFyaWFibGUodCl7Zm9yKHZhciBlPXF1ZXJ5U3RyaW5nLnNwbGl0KFwiJlwiKSxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciByPWVbc10uc3BsaXQoXCI9XCIpO2lmKGRlY29kZVVSSUNvbXBvbmVudChyWzBdKT09dClyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJbMV0pO1xuXG59fXZhciBzdmdOUz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsc3ViZnJhbWVFbmFibGVkPSEwLGV4cHJlc3Npb25zUGx1Z2luLGlzU2FmYXJpPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksY2FjaGVkQ29sb3JzPXt9LGJtX3JvdW5kZXI9TWF0aC5yb3VuZCxibV9ybmQsYm1fcG93PU1hdGgucG93LGJtX3NxcnQ9TWF0aC5zcXJ0LGJtX2Ficz1NYXRoLmFicyxibV9mbG9vcj1NYXRoLmZsb29yLGJtX21heD1NYXRoLm1heCxibV9taW49TWF0aC5taW4sYmxpdHRlcj0xMCxCTU1hdGg9e307IWZ1bmN0aW9uKCl7dmFyIHQsZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXRoKSxzPWUubGVuZ3RoO2Zvcih0PTA7cz50O3QrPTEpQk1NYXRoW2VbdF1dPU1hdGhbZVt0XV19KCksQk1NYXRoLnJhbmRvbT1NYXRoLnJhbmRvbSxCTU1hdGguYWJzPWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O2lmKFwib2JqZWN0XCI9PT1lJiZ0Lmxlbmd0aCl7dmFyIHMscj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dC5sZW5ndGh9KSxpPXQubGVuZ3RoO2ZvcihzPTA7aT5zO3MrPTEpcltzXT1NYXRoLmFicyh0W3NdKTtyZXR1cm4gcn1yZXR1cm4gTWF0aC5hYnModCl9O3ZhciBkZWZhdWx0Q3VydmVTZWdtZW50cz0xNTAsZGVnVG9SYWRzPU1hdGguUEkvMTgwLHJvdW5kQ29ybmVyPS41NTE5O3JvdW5kVmFsdWVzKCExKTt2YXIgcmdiVG9IZXg9ZnVuY3Rpb24oKXt2YXIgdCxlLHM9W107Zm9yKHQ9MDsyNTY+dDt0Kz0xKWU9dC50b1N0cmluZygxNiksc1t0XT0xPT1lLmxlbmd0aD9cIjBcIitlOmU7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMD50JiYodD0wKSwwPmUmJihlPTApLDA+ciYmKHI9MCksXCIjXCIrc1t0XStzW2VdK3Nbcl19fSgpLGZpbGxDb2xvclRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUscyl7cmV0dXJuIHZvaWQgMCE9PXMmJihlWzNdPXMpLHRbZVswXV18fCh0W2VbMF1dPXt9KSx0W2VbMF1dW2VbMV1dfHwodFtlWzBdXVtlWzFdXT17fSksdFtlWzBdXVtlWzFdXVtlWzJdXXx8KHRbZVswXV1bZVsxXV1bZVsyXV09e30pLHRbZVswXV1bZVsxXV1bZVsyXV1bZVszXV18fCh0W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dPVwicmdiYShcIitlLmpvaW4oXCIsXCIpK1wiKVwiKSx0W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dfX0oKSxNYXRyaXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMucHJvcHNbMF09MSx0aGlzLnByb3BzWzFdPTAsdGhpcy5wcm9wc1syXT0wLHRoaXMucHJvcHNbM109MCx0aGlzLnByb3BzWzRdPTAsdGhpcy5wcm9wc1s1XT0xLHRoaXMucHJvcHNbNl09MCx0aGlzLnByb3BzWzddPTAsdGhpcy5wcm9wc1s4XT0wLHRoaXMucHJvcHNbOV09MCx0aGlzLnByb3BzWzEwXT0xLHRoaXMucHJvcHNbMTFdPTAsdGhpcy5wcm9wc1sxMl09MCx0aGlzLnByb3BzWzEzXT0wLHRoaXMucHJvcHNbMTRdPTAsdGhpcy5wcm9wc1sxNV09MSx0aGlzfWZ1bmN0aW9uIGUodCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9TWF0aC5jb3ModCkscz1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5fdChlLC1zLDAsMCxzLGUsMCwwLDAsMCwxLDAsMCwwLDAsMSl9ZnVuY3Rpb24gcyh0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZT1NYXRoLmNvcyh0KSxzPU1hdGguc2luKHQpO3JldHVybiB0aGlzLl90KDEsMCwwLDAsMCxlLC1zLDAsMCxzLGUsMCwwLDAsMCwxKX1mdW5jdGlvbiByKHQpe2lmKDA9PT10KXJldHVybiB0aGlzO3ZhciBlPU1hdGguY29zKHQpLHM9TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuX3QoZSwwLHMsMCwwLDEsMCwwLC1zLDAsZSwwLDAsMCwwLDEpfWZ1bmN0aW9uIGkodCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9TWF0aC5jb3ModCkscz1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5fdChlLC1zLDAsMCxzLGUsMCwwLDAsMCwxLDAsMCwwLDAsMSl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0aGlzLl90KDEsZSx0LDEsMCwwKX1mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHRoaXMuc2hlYXIoTWF0aC50YW4odCksTWF0aC50YW4oZSkpfWZ1bmN0aW9uIG8odCxlKXt2YXIgcz1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpO3JldHVybiB0aGlzLl90KHMsciwwLDAsLXIscywwLDAsMCwwLDEsMCwwLDAsMCwxKS5fdCgxLDAsMCwwLE1hdGgudGFuKHQpLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSkuX3QocywtciwwLDAscixzLDAsMCwwLDAsMSwwLDAsMCwwLDEpfWZ1bmN0aW9uIGgodCxlLHMpe3JldHVybiBzPWlzTmFOKHMpPzE6cywxPT10JiYxPT1lJiYxPT1zP3RoaXM6dGhpcy5fdCh0LDAsMCwwLDAsZSwwLDAsMCwwLHMsMCwwLDAsMCwxKX1mdW5jdGlvbiBsKHQsZSxzLHIsaSxhLG4sbyxoLGwscCxtLGYsYyxkLHUpe3JldHVybiB0aGlzLnByb3BzWzBdPXQsdGhpcy5wcm9wc1sxXT1lLHRoaXMucHJvcHNbMl09cyx0aGlzLnByb3BzWzNdPXIsdGhpcy5wcm9wc1s0XT1pLHRoaXMucHJvcHNbNV09YSx0aGlzLnByb3BzWzZdPW4sdGhpcy5wcm9wc1s3XT1vLHRoaXMucHJvcHNbOF09aCx0aGlzLnByb3BzWzldPWwsdGhpcy5wcm9wc1sxMF09cCx0aGlzLnByb3BzWzExXT1tLHRoaXMucHJvcHNbMTJdPWYsdGhpcy5wcm9wc1sxM109Yyx0aGlzLnByb3BzWzE0XT1kLHRoaXMucHJvcHNbMTVdPXUsdGhpc31mdW5jdGlvbiBwKHQsZSxzKXtyZXR1cm4gcz1zfHwwLDAhPT10fHwwIT09ZXx8MCE9PXM/dGhpcy5fdCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCx0LGUscywxKTp0aGlzfWZ1bmN0aW9uIG0odCxlLHMscixpLGEsbixvLGgsbCxwLG0sZixjLGQsdSl7aWYoMT09PXQmJjA9PT1lJiYwPT09cyYmMD09PXImJjA9PT1pJiYxPT09YSYmMD09PW4mJjA9PT1vJiYwPT09aCYmMD09PWwmJjE9PT1wJiYwPT09bSlyZXR1cm4oMCE9PWZ8fDAhPT1jfHwwIT09ZCkmJih0aGlzLnByb3BzWzEyXT10aGlzLnByb3BzWzEyXSp0K3RoaXMucHJvcHNbMTNdKmkrdGhpcy5wcm9wc1sxNF0qaCt0aGlzLnByb3BzWzE1XSpmLHRoaXMucHJvcHNbMTNdPXRoaXMucHJvcHNbMTJdKmUrdGhpcy5wcm9wc1sxM10qYSt0aGlzLnByb3BzWzE0XSpsK3RoaXMucHJvcHNbMTVdKmMsdGhpcy5wcm9wc1sxNF09dGhpcy5wcm9wc1sxMl0qcyt0aGlzLnByb3BzWzEzXSpuK3RoaXMucHJvcHNbMTRdKnArdGhpcy5wcm9wc1sxNV0qZCx0aGlzLnByb3BzWzE1XT10aGlzLnByb3BzWzEyXSpyK3RoaXMucHJvcHNbMTNdKm8rdGhpcy5wcm9wc1sxNF0qbSt0aGlzLnByb3BzWzE1XSp1KSx0aGlzLl9pZGVudGl0eUNhbGN1bGF0ZWQ9ITEsdGhpczt2YXIgeT10aGlzLnByb3BzWzBdLGc9dGhpcy5wcm9wc1sxXSx2PXRoaXMucHJvcHNbMl0sYj10aGlzLnByb3BzWzNdLEU9dGhpcy5wcm9wc1s0XSxQPXRoaXMucHJvcHNbNV0sUz10aGlzLnByb3BzWzZdLHg9dGhpcy5wcm9wc1s3XSxDPXRoaXMucHJvcHNbOF0saz10aGlzLnByb3BzWzldLE09dGhpcy5wcm9wc1sxMF0sQT10aGlzLnByb3BzWzExXSxEPXRoaXMucHJvcHNbMTJdLHc9dGhpcy5wcm9wc1sxM10sVD10aGlzLnByb3BzWzE0XSxGPXRoaXMucHJvcHNbMTVdO3JldHVybiB0aGlzLnByb3BzWzBdPXkqdCtnKmkrdipoK2IqZix0aGlzLnByb3BzWzFdPXkqZStnKmErdipsK2IqYyx0aGlzLnByb3BzWzJdPXkqcytnKm4rdipwK2IqZCx0aGlzLnByb3BzWzNdPXkqcitnKm8rdiptK2IqdSx0aGlzLnByb3BzWzRdPUUqdCtQKmkrUypoK3gqZix0aGlzLnByb3BzWzVdPUUqZStQKmErUypsK3gqYyx0aGlzLnByb3BzWzZdPUUqcytQKm4rUypwK3gqZCx0aGlzLnByb3BzWzddPUUqcitQKm8rUyptK3gqdSx0aGlzLnByb3BzWzhdPUMqdCtrKmkrTSpoK0EqZix0aGlzLnByb3BzWzldPUMqZStrKmErTSpsK0EqYyx0aGlzLnByb3BzWzEwXT1DKnMraypuK00qcCtBKmQsdGhpcy5wcm9wc1sxMV09QypyK2sqbytNKm0rQSp1LHRoaXMucHJvcHNbMTJdPUQqdCt3KmkrVCpoK0YqZix0aGlzLnByb3BzWzEzXT1EKmUrdyphK1QqbCtGKmMsdGhpcy5wcm9wc1sxNF09RCpzK3cqbitUKnArRipkLHRoaXMucHJvcHNbMTVdPUQqcit3Km8rVCptK0YqdSx0aGlzLl9pZGVudGl0eUNhbGN1bGF0ZWQ9ITEsdGhpc31mdW5jdGlvbiBmKCl7cmV0dXJuIHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZHx8KHRoaXMuX2lkZW50aXR5PSEoMSE9PXRoaXMucHJvcHNbMF18fDAhPT10aGlzLnByb3BzWzFdfHwwIT09dGhpcy5wcm9wc1syXXx8MCE9PXRoaXMucHJvcHNbM118fDAhPT10aGlzLnByb3BzWzRdfHwxIT09dGhpcy5wcm9wc1s1XXx8MCE9PXRoaXMucHJvcHNbNl18fDAhPT10aGlzLnByb3BzWzddfHwwIT09dGhpcy5wcm9wc1s4XXx8MCE9PXRoaXMucHJvcHNbOV18fDEhPT10aGlzLnByb3BzWzEwXXx8MCE9PXRoaXMucHJvcHNbMTFdfHwwIT09dGhpcy5wcm9wc1sxMl18fDAhPT10aGlzLnByb3BzWzEzXXx8MCE9PXRoaXMucHJvcHNbMTRdfHwxIT09dGhpcy5wcm9wc1sxNV0pLHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZD0hMCksdGhpcy5faWRlbnRpdHl9ZnVuY3Rpb24gYyh0KXt2YXIgZTtmb3IoZT0wOzE2PmU7ZSs9MSl0LnByb3BzW2VdPXRoaXMucHJvcHNbZV19ZnVuY3Rpb24gZCh0KXt2YXIgZTtmb3IoZT0wOzE2PmU7ZSs9MSl0aGlzLnByb3BzW2VdPXRbZV19ZnVuY3Rpb24gdSh0LGUscyl7cmV0dXJue3g6dCp0aGlzLnByb3BzWzBdK2UqdGhpcy5wcm9wc1s0XStzKnRoaXMucHJvcHNbOF0rdGhpcy5wcm9wc1sxMl0seTp0KnRoaXMucHJvcHNbMV0rZSp0aGlzLnByb3BzWzVdK3MqdGhpcy5wcm9wc1s5XSt0aGlzLnByb3BzWzEzXSx6OnQqdGhpcy5wcm9wc1syXStlKnRoaXMucHJvcHNbNl0rcyp0aGlzLnByb3BzWzEwXSt0aGlzLnByb3BzWzE0XX19ZnVuY3Rpb24geSh0LGUscyl7cmV0dXJuIHQqdGhpcy5wcm9wc1swXStlKnRoaXMucHJvcHNbNF0rcyp0aGlzLnByb3BzWzhdK3RoaXMucHJvcHNbMTJdfWZ1bmN0aW9uIGcodCxlLHMpe3JldHVybiB0KnRoaXMucHJvcHNbMV0rZSp0aGlzLnByb3BzWzVdK3MqdGhpcy5wcm9wc1s5XSt0aGlzLnByb3BzWzEzXX1mdW5jdGlvbiB2KHQsZSxzKXtyZXR1cm4gdCp0aGlzLnByb3BzWzJdK2UqdGhpcy5wcm9wc1s2XStzKnRoaXMucHJvcHNbMTBdK3RoaXMucHJvcHNbMTRdfWZ1bmN0aW9uIGIodCl7dmFyIGU9dGhpcy5wcm9wc1swXSp0aGlzLnByb3BzWzVdLXRoaXMucHJvcHNbMV0qdGhpcy5wcm9wc1s0XSxzPXRoaXMucHJvcHNbNV0vZSxyPS10aGlzLnByb3BzWzFdL2UsaT0tdGhpcy5wcm9wc1s0XS9lLGE9dGhpcy5wcm9wc1swXS9lLG49KHRoaXMucHJvcHNbNF0qdGhpcy5wcm9wc1sxM10tdGhpcy5wcm9wc1s1XSp0aGlzLnByb3BzWzEyXSkvZSxvPS0odGhpcy5wcm9wc1swXSp0aGlzLnByb3BzWzEzXS10aGlzLnByb3BzWzFdKnRoaXMucHJvcHNbMTJdKS9lO3JldHVyblt0WzBdKnMrdFsxXSppK24sdFswXSpyK3RbMV0qYStvLDBdfWZ1bmN0aW9uIEUodCl7dmFyIGUscz10Lmxlbmd0aCxyPVtdO2ZvcihlPTA7cz5lO2UrPTEpcltlXT1iKHRbZV0pO3JldHVybiByfWZ1bmN0aW9uIFAodCxlLHMscil7aWYociYmMj09PXIpe3ZhciBpPXBvaW50X3Bvb2wubmV3UG9pbnQoKTtyZXR1cm4gaVswXT10KnRoaXMucHJvcHNbMF0rZSp0aGlzLnByb3BzWzRdK3MqdGhpcy5wcm9wc1s4XSt0aGlzLnByb3BzWzEyXSxpWzFdPXQqdGhpcy5wcm9wc1sxXStlKnRoaXMucHJvcHNbNV0rcyp0aGlzLnByb3BzWzldK3RoaXMucHJvcHNbMTNdLGl9cmV0dXJuW3QqdGhpcy5wcm9wc1swXStlKnRoaXMucHJvcHNbNF0rcyp0aGlzLnByb3BzWzhdK3RoaXMucHJvcHNbMTJdLHQqdGhpcy5wcm9wc1sxXStlKnRoaXMucHJvcHNbNV0rcyp0aGlzLnByb3BzWzldK3RoaXMucHJvcHNbMTNdLHQqdGhpcy5wcm9wc1syXStlKnRoaXMucHJvcHNbNl0rcyp0aGlzLnByb3BzWzEwXSt0aGlzLnByb3BzWzE0XV19ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB0aGlzLmlzSWRlbnRpdHkoKT90K1wiLFwiK2U6Ym1fcm5kKHQqdGhpcy5wcm9wc1swXStlKnRoaXMucHJvcHNbNF0rdGhpcy5wcm9wc1sxMl0pK1wiLFwiK2JtX3JuZCh0KnRoaXMucHJvcHNbMV0rZSp0aGlzLnByb3BzWzVdK3RoaXMucHJvcHNbMTNdKX1mdW5jdGlvbiB4KCl7cmV0dXJuW3RoaXMucHJvcHNbMF0sdGhpcy5wcm9wc1sxXSx0aGlzLnByb3BzWzJdLHRoaXMucHJvcHNbM10sdGhpcy5wcm9wc1s0XSx0aGlzLnByb3BzWzVdLHRoaXMucHJvcHNbNl0sdGhpcy5wcm9wc1s3XSx0aGlzLnByb3BzWzhdLHRoaXMucHJvcHNbOV0sdGhpcy5wcm9wc1sxMF0sdGhpcy5wcm9wc1sxMV0sdGhpcy5wcm9wc1sxMl0sdGhpcy5wcm9wc1sxM10sdGhpcy5wcm9wc1sxNF0sdGhpcy5wcm9wc1sxNV1dfWZ1bmN0aW9uIEMoKXtyZXR1cm4gaXNTYWZhcmk/XCJtYXRyaXgzZChcIityb3VuZFRvMkRlY2ltYWxzKHRoaXMucHJvcHNbMF0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxXSkrXCIsXCIrcm91bmRUbzJEZWNpbWFscyh0aGlzLnByb3BzWzJdKStcIixcIityb3VuZFRvMkRlY2ltYWxzKHRoaXMucHJvcHNbM10pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1s0XSkrXCIsXCIrcm91bmRUbzJEZWNpbWFscyh0aGlzLnByb3BzWzVdKStcIixcIityb3VuZFRvMkRlY2ltYWxzKHRoaXMucHJvcHNbNl0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1s3XSkrXCIsXCIrcm91bmRUbzJEZWNpbWFscyh0aGlzLnByb3BzWzhdKStcIixcIityb3VuZFRvMkRlY2ltYWxzKHRoaXMucHJvcHNbOV0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxMF0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxMV0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxMl0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxM10pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxNF0pK1wiLFwiK3JvdW5kVG8yRGVjaW1hbHModGhpcy5wcm9wc1sxNV0pK1wiKVwiOih0aGlzLmNzc1BhcnRzWzFdPXRoaXMucHJvcHMuam9pbihcIixcIiksdGhpcy5jc3NQYXJ0cy5qb2luKFwiXCIpKX1mdW5jdGlvbiBrKCl7cmV0dXJuXCJtYXRyaXgoXCIrdGhpcy5wcm9wc1swXStcIixcIit0aGlzLnByb3BzWzFdK1wiLFwiK3RoaXMucHJvcHNbNF0rXCIsXCIrdGhpcy5wcm9wc1s1XStcIixcIit0aGlzLnByb3BzWzEyXStcIixcIit0aGlzLnByb3BzWzEzXStcIilcIn1mdW5jdGlvbiBNKCl7cmV0dXJuXCJcIit0aGlzLnRvQXJyYXkoKX1yZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnJlc2V0PXQsdGhpcy5yb3RhdGU9ZSx0aGlzLnJvdGF0ZVg9cyx0aGlzLnJvdGF0ZVk9cix0aGlzLnJvdGF0ZVo9aSx0aGlzLnNrZXc9bix0aGlzLnNrZXdGcm9tQXhpcz1vLHRoaXMuc2hlYXI9YSx0aGlzLnNjYWxlPWgsdGhpcy5zZXRUcmFuc2Zvcm09bCx0aGlzLnRyYW5zbGF0ZT1wLHRoaXMudHJhbnNmb3JtPW0sdGhpcy5hcHBseVRvUG9pbnQ9dSx0aGlzLmFwcGx5VG9YPXksdGhpcy5hcHBseVRvWT1nLHRoaXMuYXBwbHlUb1o9dix0aGlzLmFwcGx5VG9Qb2ludEFycmF5PVAsdGhpcy5hcHBseVRvUG9pbnRTdHJpbmdpZmllZD1TLHRoaXMudG9BcnJheT14LHRoaXMudG9DU1M9Qyx0aGlzLnRvMmRDU1M9ayx0aGlzLnRvU3RyaW5nPU0sdGhpcy5jbG9uZT1jLHRoaXMuY2xvbmVGcm9tUHJvcHM9ZCx0aGlzLmludmVyc2VQb2ludHM9RSx0aGlzLmludmVyc2VQb2ludD1iLHRoaXMuX3Q9dGhpcy50cmFuc2Zvcm0sdGhpcy5pc0lkZW50aXR5PWYsdGhpcy5faWRlbnRpdHk9ITAsdGhpcy5faWRlbnRpdHlDYWxjdWxhdGVkPSExLHRoaXMucHJvcHM9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLHRoaXMuY3NzUGFydHM9W1wibWF0cml4M2QoXCIsXCJcIixcIilcIl19fSgpOyFmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHMocyxsLHApe3ZhciBjPVtdO2w9MT09bD97ZW50cm9weTohMH06bHx8e307dmFyIHY9bihhKGwuZW50cm9weT9bcyxoKHQpXTpudWxsPT1zP28oKTpzLDMpLGMpLGI9bmV3IHIoYyksRT1mdW5jdGlvbigpe2Zvcih2YXIgdD1iLmcoZiksZT11LHM9MDt5PnQ7KXQ9KHQrcykqbSxlKj1tLHM9Yi5nKDEpO2Zvcig7dD49ZzspdC89MixlLz0yLHM+Pj49MTtyZXR1cm4odCtzKS9lfTtyZXR1cm4gRS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfGIuZyg0KX0sRS5xdWljaz1mdW5jdGlvbigpe3JldHVybiBiLmcoNCkvNDI5NDk2NzI5Nn0sRVtcImRvdWJsZVwiXT1FLG4oaChiLlMpLHQpLChsLnBhc3N8fHB8fGZ1bmN0aW9uKHQscyxyLGEpe3JldHVybiBhJiYoYS5TJiZpKGEsYiksdC5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBpKGIse30pfSkscj8oZVtkXT10LHMpOnR9KShFLHYsXCJnbG9iYWxcImluIGw/bC5nbG9iYWw6dGhpcz09ZSxsLnN0YXRlKX1mdW5jdGlvbiByKHQpe3ZhciBlLHM9dC5sZW5ndGgscj10aGlzLGk9MCxhPXIuaT1yLmo9MCxuPXIuUz1bXTtmb3Ioc3x8KHQ9W3MrK10pO20+aTspbltpXT1pKys7Zm9yKGk9MDttPmk7aSsrKW5baV09blthPXYmYSt0W2klc10rKGU9bltpXSldLG5bYV09ZTsoci5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxzPTAsaT1yLmksYT1yLmosbj1yLlM7dC0tOyllPW5baT12JmkrMV0scz1zKm0rblt2JihuW2ldPW5bYT12JmErZV0pKyhuW2FdPWUpXTtyZXR1cm4gci5pPWksci5qPWEsc30pKG0pfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZS5pPXQuaSxlLmo9dC5qLGUuUz10LlMuc2xpY2UoKSxlfWZ1bmN0aW9uIGEodCxlKXt2YXIgcyxyPVtdLGk9dHlwZW9mIHQ7aWYoZSYmXCJvYmplY3RcIj09aSlmb3IocyBpbiB0KXRyeXtyLnB1c2goYSh0W3NdLGUtMSkpfWNhdGNoKG4pe31yZXR1cm4gci5sZW5ndGg/cjpcInN0cmluZ1wiPT1pP3Q6dCtcIlxceDAwXCJ9ZnVuY3Rpb24gbih0LGUpe2Zvcih2YXIgcyxyPXQrXCJcIixpPTA7aTxyLmxlbmd0aDspZVt2JmldPXYmKHNePTE5KmVbdiZpXSkrci5jaGFyQ29kZUF0KGkrKyk7cmV0dXJuIGgoZSl9ZnVuY3Rpb24gbygpe3RyeXtpZihsKXJldHVybiBoKGwucmFuZG9tQnl0ZXMobSkpO3ZhciBlPW5ldyBVaW50OEFycmF5KG0pO3JldHVybihwLmNyeXB0b3x8cC5tc0NyeXB0bykuZ2V0UmFuZG9tVmFsdWVzKGUpLGgoZSl9Y2F0Y2gocyl7dmFyIHI9cC5uYXZpZ2F0b3IsaT1yJiZyLnBsdWdpbnM7cmV0dXJuWytuZXcgRGF0ZSxwLGkscC5zY3JlZW4saCh0KV19fWZ1bmN0aW9uIGgodCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCx0KX12YXIgbCxwPXRoaXMsbT0yNTYsZj02LGM9NTIsZD1cInJhbmRvbVwiLHU9ZS5wb3cobSxmKSx5PWUucG93KDIsYyksZz0yKnksdj1tLTE7ZVtcInNlZWRcIitkXT1zLG4oZS5yYW5kb20oKSx0KX0oW10sQk1NYXRoKTt2YXIgQmV6aWVyRmFjdG9yeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHMscixpKXt2YXIgYT1pfHwoXCJiZXpfXCIrdCtcIl9cIitlK1wiX1wiK3MrXCJfXCIrcikucmVwbGFjZSgvXFwuL2csXCJwXCIpO2lmKHBbYV0pcmV0dXJuIHBbYV07dmFyIG49bmV3IGgoW3QsZSxzLHJdKTtyZXR1cm4gcFthXT1uLG59ZnVuY3Rpb24gZSh0LGUpe3JldHVybiAxLTMqZSszKnR9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiAzKmUtNip0fWZ1bmN0aW9uIHIodCl7cmV0dXJuIDMqdH1mdW5jdGlvbiBpKHQsaSxhKXtyZXR1cm4oKGUoaSxhKSp0K3MoaSxhKSkqdCtyKGkpKSp0fWZ1bmN0aW9uIGEodCxpLGEpe3JldHVybiAzKmUoaSxhKSp0KnQrMipzKGksYSkqdCtyKGkpfWZ1bmN0aW9uIG4odCxlLHMscixhKXt2YXIgbixvLGg9MDtkbyBvPWUrKHMtZSkvMixuPWkobyxyLGEpLXQsbj4wP3M9bzplPW87d2hpbGUoTWF0aC5hYnMobik+YyYmKytoPGQpO3JldHVybiBvfWZ1bmN0aW9uIG8odCxlLHMscil7Zm9yKHZhciBuPTA7bT5uOysrbil7dmFyIG89YShlLHMscik7aWYoMD09PW8pcmV0dXJuIGU7dmFyIGg9aShlLHMsciktdDtlLT1oL299cmV0dXJuIGV9ZnVuY3Rpb24gaCh0KXt0aGlzLl9wPXQsdGhpcy5fbVNhbXBsZVZhbHVlcz1nP25ldyBGbG9hdDMyQXJyYXkodSk6bmV3IEFycmF5KHUpLHRoaXMuX3ByZWNvbXB1dGVkPSExLHRoaXMuZ2V0PXRoaXMuZ2V0LmJpbmQodGhpcyl9dmFyIGw9e307bC5nZXRCZXppZXJFYXNpbmc9dDt2YXIgcD17fSxtPTQsZj0uMDAxLGM9MWUtNyxkPTEwLHU9MTEseT0xLyh1LTEpLGc9XCJmdW5jdGlvblwiPT10eXBlb2YgRmxvYXQzMkFycmF5O3JldHVybiBoLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BbMF0scz10aGlzLl9wWzFdLHI9dGhpcy5fcFsyXSxhPXRoaXMuX3BbM107cmV0dXJuIHRoaXMuX3ByZWNvbXB1dGVkfHx0aGlzLl9wcmVjb21wdXRlKCksZT09PXMmJnI9PT1hP3Q6MD09PXQ/MDoxPT09dD8xOmkodGhpcy5fZ2V0VEZvclgodCkscyxhKX0sX3ByZWNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wWzBdLGU9dGhpcy5fcFsxXSxzPXRoaXMuX3BbMl0scj10aGlzLl9wWzNdO3RoaXMuX3ByZWNvbXB1dGVkPSEwLCh0IT09ZXx8cyE9PXIpJiZ0aGlzLl9jYWxjU2FtcGxlVmFsdWVzKCl9LF9jYWxjU2FtcGxlVmFsdWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3BbMF0sZT10aGlzLl9wWzJdLHM9MDt1PnM7KytzKXRoaXMuX21TYW1wbGVWYWx1ZXNbc109aShzKnksdCxlKX0sX2dldFRGb3JYOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9wWzBdLHM9dGhpcy5fcFsyXSxyPXRoaXMuX21TYW1wbGVWYWx1ZXMsaT0wLGg9MSxsPXUtMTtoIT09bCYmcltoXTw9dDsrK2gpaSs9eTstLWg7dmFyIHA9KHQtcltoXSkvKHJbaCsxXS1yW2hdKSxtPWkrcCp5LGM9YShtLGUscyk7cmV0dXJuIGM+PWY/byh0LG0sZSxzKTowPT09Yz9tOm4odCxpLGkreSxlLHMpfX0sbH0oKSxNYXRyaXhNYW5hZ2VyPW1hdHJpeE1hbmFnZXJGdW5jdGlvbjshZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPVtcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiLFwib1wiXSxzPTA7czxlLmxlbmd0aCYmIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytzKXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93W2Vbc10rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tlW3NdK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fHdpbmRvd1tlW3NdK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGUscyl7dmFyIHI9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1NYXRoLm1heCgwLDE2LShyLXQpKSxhPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShyK2kpfSxpKTtyZXR1cm4gdD1yK2ksYX0pLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodCl9KX0oKTt2YXIgYmV6PWJlekZ1bmN0aW9uKCksZGF0YU1hbmFnZXI9ZGF0YUZ1bmN0aW9uTWFuYWdlcigpLEZvbnRNYW5hZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3Muc3R5bGUuZm9udEZhbWlseT1lO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3IuaW5uZXJIVE1MPVwiZ2lJdFQxV1F5QCEtLyNcIixzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLnN0eWxlLmxlZnQ9XCItMTAwMDBweFwiLHMuc3R5bGUudG9wPVwiLTEwMDAwcHhcIixzLnN0eWxlLmZvbnRTaXplPVwiMzAwcHhcIixzLnN0eWxlLmZvbnRWYXJpYW50PVwibm9ybWFsXCIscy5zdHlsZS5mb250U3R5bGU9XCJub3JtYWxcIixzLnN0eWxlLmZvbnRXZWlnaHQ9XCJub3JtYWxcIixzLnN0eWxlLmxldHRlclNwYWNpbmc9XCIwXCIscy5hcHBlbmRDaGlsZChyKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpO3ZhciBpPXIub2Zmc2V0V2lkdGg7cmV0dXJuIHIuc3R5bGUuZm9udEZhbWlseT10K1wiLCBcIitlLHtub2RlOnIsdzppLHBhcmVudDpzfX1mdW5jdGlvbiBlKCl7dmFyIHQscyxyLGk9dGhpcy5mb250cy5sZW5ndGgsYT1pO2Zvcih0PTA7aT50O3QrPTEpaWYodGhpcy5mb250c1t0XS5sb2FkZWQpYS09MTtlbHNlIGlmKFwidFwiPT09dGhpcy5mb250c1t0XS5mT3JpZ2lufHwyPT09dGhpcy5mb250c1t0XS5vcmlnaW4pe2lmKHdpbmRvdy5UeXBla2l0JiZ3aW5kb3cuVHlwZWtpdC5sb2FkJiYwPT09dGhpcy50eXBla2l0TG9hZGVkKXt0aGlzLnR5cGVraXRMb2FkZWQ9MTt0cnl7d2luZG93LlR5cGVraXQubG9hZCh7YXN5bmM6ITAsYWN0aXZlOmZ1bmN0aW9uKCl7dGhpcy50eXBla2l0TG9hZGVkPTJ9LmJpbmQodGhpcyl9KX1jYXRjaChuKXt9fTI9PT10aGlzLnR5cGVraXRMb2FkZWQmJih0aGlzLmZvbnRzW3RdLmxvYWRlZD0hMCl9ZWxzZVwiblwiPT09dGhpcy5mb250c1t0XS5mT3JpZ2lufHwwPT09dGhpcy5mb250c1t0XS5vcmlnaW4/dGhpcy5mb250c1t0XS5sb2FkZWQ9ITA6KHM9dGhpcy5mb250c1t0XS5tb25vQ2FzZS5ub2RlLHI9dGhpcy5mb250c1t0XS5tb25vQ2FzZS53LHMub2Zmc2V0V2lkdGghPT1yPyhhLT0xLHRoaXMuZm9udHNbdF0ubG9hZGVkPSEwKToocz10aGlzLmZvbnRzW3RdLnNhbnNDYXNlLm5vZGUscj10aGlzLmZvbnRzW3RdLnNhbnNDYXNlLncscy5vZmZzZXRXaWR0aCE9PXImJihhLT0xLHRoaXMuZm9udHNbdF0ubG9hZGVkPSEwKSksdGhpcy5mb250c1t0XS5sb2FkZWQmJih0aGlzLmZvbnRzW3RdLnNhbnNDYXNlLnBhcmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9udHNbdF0uc2Fuc0Nhc2UucGFyZW50KSx0aGlzLmZvbnRzW3RdLm1vbm9DYXNlLnBhcmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9udHNbdF0ubW9ub0Nhc2UucGFyZW50KSkpOzAhPT1hJiZEYXRlLm5vdygpLXRoaXMuaW5pdFRpbWU8aD9zZXRUaW1lb3V0KGUuYmluZCh0aGlzKSwyMCk6c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubG9hZGVkPSEwfS5iaW5kKHRoaXMpLDApfWZ1bmN0aW9uIHModCxlKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJ0ZXh0XCIpO3Muc3R5bGUuZm9udFNpemU9XCIxMDBweFwiLHMuc3R5bGUuZm9udEZhbWlseT1lLmZGYW1pbHkscy50ZXh0Q29udGVudD1cIjFcIixlLmZDbGFzcz8ocy5zdHlsZS5mb250RmFtaWx5PVwiaW5oZXJpdFwiLHMuY2xhc3NOYW1lPWUuZkNsYXNzKTpzLnN0eWxlLmZvbnRGYW1pbHk9ZS5mRmFtaWx5LHQuYXBwZW5kQ2hpbGQocyk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHIuZm9udD1cIjEwMHB4IFwiK2UuZkZhbWlseSxyfWZ1bmN0aW9uIHIocixpKXtpZighcilyZXR1cm4gdm9pZCh0aGlzLmxvYWRlZD0hMCk7aWYodGhpcy5jaGFycylyZXR1cm4gdGhpcy5sb2FkZWQ9ITAsdm9pZCh0aGlzLmZvbnRzPXIubGlzdCk7dmFyIGEsbj1yLmxpc3Qsbz1uLmxlbmd0aDtmb3IoYT0wO28+YTthKz0xKXtpZihuW2FdLmxvYWRlZD0hMSxuW2FdLm1vbm9DYXNlPXQoblthXS5mRmFtaWx5LFwibW9ub3NwYWNlXCIpLG5bYV0uc2Fuc0Nhc2U9dChuW2FdLmZGYW1pbHksXCJzYW5zLXNlcmlmXCIpLG5bYV0uZlBhdGgpe2lmKFwicFwiPT09blthXS5mT3JpZ2lufHwzPT09blthXS5vcmlnaW4pe3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtoLnR5cGU9XCJ0ZXh0L2Nzc1wiLGguaW5uZXJIVE1MPVwiQGZvbnQtZmFjZSB7Zm9udC1mYW1pbHk6IFwiK25bYV0uZkZhbWlseStcIjsgZm9udC1zdHlsZTogbm9ybWFsOyBzcmM6IHVybCgnXCIrblthXS5mUGF0aCtcIicpO31cIixpLmFwcGVuZENoaWxkKGgpfWVsc2UgaWYoXCJnXCI9PT1uW2FdLmZPcmlnaW58fDE9PT1uW2FdLm9yaWdpbil7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7bC50eXBlPVwidGV4dC9jc3NcIixsLnJlbD1cInN0eWxlc2hlZXRcIixsLmhyZWY9blthXS5mUGF0aCxpLmFwcGVuZENoaWxkKGwpfWVsc2UgaWYoXCJ0XCI9PT1uW2FdLmZPcmlnaW58fDI9PT1uW2FdLm9yaWdpbil7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtwLnNldEF0dHJpYnV0ZShcInNyY1wiLG5bYV0uZlBhdGgpLGkuYXBwZW5kQ2hpbGQocCl9fWVsc2UgblthXS5sb2FkZWQ9ITA7blthXS5oZWxwZXI9cyhpLG5bYV0pLHRoaXMuZm9udHMucHVzaChuW2FdKX1lLmJpbmQodGhpcykoKX1mdW5jdGlvbiBpKHQpe2lmKHQpe3RoaXMuY2hhcnN8fCh0aGlzLmNoYXJzPVtdKTt2YXIgZSxzLHIsaT10Lmxlbmd0aCxhPXRoaXMuY2hhcnMubGVuZ3RoO2ZvcihlPTA7aT5lO2UrPTEpe2ZvcihzPTAscj0hMTthPnM7KXRoaXMuY2hhcnNbc10uc3R5bGU9PT10W2VdLnN0eWxlJiZ0aGlzLmNoYXJzW3NdLmZGYW1pbHk9PT10W2VdLmZGYW1pbHkmJnRoaXMuY2hhcnNbc10uY2g9PT10W2VdLmNoJiYocj0hMCkscys9MTtyfHwodGhpcy5jaGFycy5wdXNoKHRbZV0pLGErPTEpfX19ZnVuY3Rpb24gYSh0LGUscyl7Zm9yKHZhciByPTAsaT10aGlzLmNoYXJzLmxlbmd0aDtpPnI7KXtpZih0aGlzLmNoYXJzW3JdLmNoPT09dCYmdGhpcy5jaGFyc1tyXS5zdHlsZT09PWUmJnRoaXMuY2hhcnNbcl0uZkZhbWlseT09PXMpcmV0dXJuIHRoaXMuY2hhcnNbcl07cis9MX19ZnVuY3Rpb24gbih0LGUscyl7dmFyIHI9dGhpcy5nZXRGb250QnlOYW1lKGUpLGk9ci5oZWxwZXI7cmV0dXJuIGkubWVhc3VyZVRleHQodCkud2lkdGgqcy8xMDB9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9MCxzPXRoaXMuZm9udHMubGVuZ3RoO3M+ZTspe2lmKHRoaXMuZm9udHNbZV0uZk5hbWU9PT10KXJldHVybiB0aGlzLmZvbnRzW2VdO2UrPTF9cmV0dXJuXCJzYW5zLXNlcmlmXCJ9dmFyIGg9NWUzLGw9ZnVuY3Rpb24oKXt0aGlzLmZvbnRzPVtdLHRoaXMuY2hhcnM9bnVsbCx0aGlzLnR5cGVraXRMb2FkZWQ9MCx0aGlzLmxvYWRlZD0hMSx0aGlzLmluaXRUaW1lPURhdGUubm93KCl9O3JldHVybiBsLnByb3RvdHlwZS5hZGRDaGFycz1pLGwucHJvdG90eXBlLmFkZEZvbnRzPXIsbC5wcm90b3R5cGUuZ2V0Q2hhckRhdGE9YSxsLnByb3RvdHlwZS5nZXRGb250QnlOYW1lPW8sbC5wcm90b3R5cGUubWVhc3VyZVRleHQ9bixsfSgpLFByb3BlcnR5RmFjdG9yeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkKXt0aGlzLm1kZj0hMTt2YXIgdD10aGlzLmNvbXAucmVuZGVyZWRGcmFtZS10aGlzLm9mZnNldFRpbWU7aWYoISh0PT09dGhpcy5sYXN0RnJhbWV8fHRoaXMubGFzdEZyYW1lIT09bCYmKHRoaXMubGFzdEZyYW1lPj10aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMV0udC10aGlzLm9mZnNldFRpbWUmJnQ+PXRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS50LXRoaXMub2Zmc2V0VGltZXx8dGhpcy5sYXN0RnJhbWU8dGhpcy5rZXlmcmFtZXNbMF0udC10aGlzLm9mZnNldFRpbWUmJnQ8dGhpcy5rZXlmcmFtZXNbMF0udC10aGlzLm9mZnNldFRpbWUpKSl7Zm9yKHZhciBlLHMscj10aGlzLmxhc3RGcmFtZTx0P3RoaXMuX2xhc3RJbmRleDowLGk9dGhpcy5rZXlmcmFtZXMubGVuZ3RoLTEsYT0hMDthOyl7aWYoZT10aGlzLmtleWZyYW1lc1tyXSxzPXRoaXMua2V5ZnJhbWVzW3IrMV0scj09aS0xJiZ0Pj1zLnQtdGhpcy5vZmZzZXRUaW1lKXtlLmgmJihlPXMpO2JyZWFrfWlmKHMudC10aGlzLm9mZnNldFRpbWU+dClicmVhaztpLTE+cj9yKz0xOmE9ITF9dGhpcy5fbGFzdEluZGV4PXI7dmFyIG4sbyxoLHAsbSxmO2lmKGUudG8pe2UuYmV6aWVyRGF0YXx8YmV6LmJ1aWxkQmV6aWVyRGF0YShlKTt2YXIgYz1lLmJlemllckRhdGE7aWYodD49cy50LXRoaXMub2Zmc2V0VGltZXx8dDxlLnQtdGhpcy5vZmZzZXRUaW1lKXt2YXIgZD10Pj1zLnQtdGhpcy5vZmZzZXRUaW1lP2MucG9pbnRzLmxlbmd0aC0xOjA7Zm9yKG89Yy5wb2ludHNbZF0ucG9pbnQubGVuZ3RoLG49MDtvPm47bis9MSl0aGlzLnB2W25dPWMucG9pbnRzW2RdLnBvaW50W25dLHRoaXMudltuXT10aGlzLm11bHQ/dGhpcy5wdltuXSp0aGlzLm11bHQ6dGhpcy5wdltuXSx0aGlzLmxhc3RQVmFsdWVbbl0hPT10aGlzLnB2W25dJiYodGhpcy5tZGY9ITAsdGhpcy5sYXN0UFZhbHVlW25dPXRoaXMucHZbbl0pO3RoaXMuX2xhc3RCZXppZXJEYXRhPW51bGx9ZWxzZXtlLl9fZm5jdD9mPWUuX19mbmN0OihmPUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKGUuby54LGUuby55LGUuaS54LGUuaS55LGUubikuZ2V0LGUuX19mbmN0PWYpLGg9ZigodC0oZS50LXRoaXMub2Zmc2V0VGltZSkpLyhzLnQtdGhpcy5vZmZzZXRUaW1lLShlLnQtdGhpcy5vZmZzZXRUaW1lKSkpO3ZhciB1LHk9Yy5zZWdtZW50TGVuZ3RoKmgsZz10aGlzLmxhc3RGcmFtZTx0JiZ0aGlzLl9sYXN0QmV6aWVyRGF0YT09PWM/dGhpcy5fbGFzdEFkZGVkTGVuZ3RoOjA7Zm9yKG09dGhpcy5sYXN0RnJhbWU8dCYmdGhpcy5fbGFzdEJlemllckRhdGE9PT1jP3RoaXMuX2xhc3RQb2ludDowLGE9ITAscD1jLnBvaW50cy5sZW5ndGg7YTspe2lmKGcrPWMucG9pbnRzW21dLnBhcnRpYWxMZW5ndGgsMD09PXl8fDA9PT1ofHxtPT1jLnBvaW50cy5sZW5ndGgtMSl7Zm9yKG89Yy5wb2ludHNbbV0ucG9pbnQubGVuZ3RoLG49MDtvPm47bis9MSl0aGlzLnB2W25dPWMucG9pbnRzW21dLnBvaW50W25dLHRoaXMudltuXT10aGlzLm11bHQ/dGhpcy5wdltuXSp0aGlzLm11bHQ6dGhpcy5wdltuXSx0aGlzLmxhc3RQVmFsdWVbbl0hPT10aGlzLnB2W25dJiYodGhpcy5tZGY9ITAsdGhpcy5sYXN0UFZhbHVlW25dPXRoaXMucHZbbl0pO2JyZWFrfWlmKHk+PWcmJnk8ZytjLnBvaW50c1ttKzFdLnBhcnRpYWxMZW5ndGgpe2Zvcih1PSh5LWcpL2MucG9pbnRzW20rMV0ucGFydGlhbExlbmd0aCxvPWMucG9pbnRzW21dLnBvaW50Lmxlbmd0aCxuPTA7bz5uO24rPTEpdGhpcy5wdltuXT1jLnBvaW50c1ttXS5wb2ludFtuXSsoYy5wb2ludHNbbSsxXS5wb2ludFtuXS1jLnBvaW50c1ttXS5wb2ludFtuXSkqdSx0aGlzLnZbbl09dGhpcy5tdWx0P3RoaXMucHZbbl0qdGhpcy5tdWx0OnRoaXMucHZbbl0sdGhpcy5sYXN0UFZhbHVlW25dIT09dGhpcy5wdltuXSYmKHRoaXMubWRmPSEwLHRoaXMubGFzdFBWYWx1ZVtuXT10aGlzLnB2W25dKTticmVha31wLTE+bT9tKz0xOmE9ITF9dGhpcy5fbGFzdFBvaW50PW0sdGhpcy5fbGFzdEFkZGVkTGVuZ3RoPWctYy5wb2ludHNbbV0ucGFydGlhbExlbmd0aCx0aGlzLl9sYXN0QmV6aWVyRGF0YT1jfX1lbHNle3ZhciB2LGIsRSxQLFM7Zm9yKGk9ZS5zLmxlbmd0aCxyPTA7aT5yO3IrPTEpe2lmKDEhPT1lLmgmJih0Pj1zLnQtdGhpcy5vZmZzZXRUaW1lP2g9MTp0PGUudC10aGlzLm9mZnNldFRpbWU/aD0wOihlLm8ueCBpbnN0YW5jZW9mIEFycmF5PyhlLl9fZm5jdHx8KGUuX19mbmN0PVtdKSxlLl9fZm5jdFtyXT9mPWUuX19mbmN0W3JdOih2PWUuby54W3JdfHxlLm8ueFswXSxiPWUuby55W3JdfHxlLm8ueVswXSxFPWUuaS54W3JdfHxlLmkueFswXSxQPWUuaS55W3JdfHxlLmkueVswXSxmPUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKHYsYixFLFApLmdldCxlLl9fZm5jdFtyXT1mKSk6ZS5fX2ZuY3Q/Zj1lLl9fZm5jdDoodj1lLm8ueCxiPWUuby55LEU9ZS5pLngsUD1lLmkueSxmPUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKHYsYixFLFApLmdldCxlLl9fZm5jdD1mKSxoPWYoKHQtKGUudC10aGlzLm9mZnNldFRpbWUpKS8ocy50LXRoaXMub2Zmc2V0VGltZS0oZS50LXRoaXMub2Zmc2V0VGltZSkpKSkpLHRoaXMuc2gmJjEhPT1lLmgpe3ZhciB4PWUuc1tyXSxDPWUuZVtyXTstMTgwPngtQz94Kz0zNjA6eC1DPjE4MCYmKHgtPTM2MCksUz14KyhDLXgpKmh9ZWxzZSBTPTE9PT1lLmg/ZS5zW3JdOmUuc1tyXSsoZS5lW3JdLWUuc1tyXSkqaDsxPT09aT8odGhpcy52PXRoaXMubXVsdD9TKnRoaXMubXVsdDpTLHRoaXMucHY9Uyx0aGlzLmxhc3RQVmFsdWUhPXRoaXMucHYmJih0aGlzLm1kZj0hMCx0aGlzLmxhc3RQVmFsdWU9dGhpcy5wdikpOih0aGlzLnZbcl09dGhpcy5tdWx0P1MqdGhpcy5tdWx0OlMsdGhpcy5wdltyXT1TLHRoaXMubGFzdFBWYWx1ZVtyXSE9PXRoaXMucHZbcl0mJih0aGlzLm1kZj0hMCx0aGlzLmxhc3RQVmFsdWVbcl09dGhpcy5wdltyXSkpfX19dGhpcy5sYXN0RnJhbWU9dCx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZH19ZnVuY3Rpb24gZSgpe31mdW5jdGlvbiBzKHQscyxyKXt0aGlzLm11bHQ9cix0aGlzLnY9cj9zLmsqcjpzLmssdGhpcy5wdj1zLmssdGhpcy5tZGY9ITEsdGhpcy5jb21wPXQuY29tcCx0aGlzLms9ITEsdGhpcy5rZj0hMSx0aGlzLnZlbD0wLHRoaXMuZ2V0VmFsdWU9ZX1mdW5jdGlvbiByKHQscyxyKXt0aGlzLm11bHQ9cix0aGlzLmRhdGE9cyx0aGlzLm1kZj0hMSx0aGlzLmNvbXA9dC5jb21wLHRoaXMuaz0hMSx0aGlzLmtmPSExLHRoaXMuZnJhbWVJZD0tMSx0aGlzLnY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnMuay5sZW5ndGh9KSx0aGlzLnB2PUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmsubGVuZ3RofSksdGhpcy5sYXN0VmFsdWU9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnMuay5sZW5ndGh9KTt2YXIgaT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6cy5rLmxlbmd0aH0pO3RoaXMudmVsPWkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIDB9KTt2YXIgYSxuPXMuay5sZW5ndGg7Zm9yKGE9MDtuPmE7YSs9MSl0aGlzLnZbYV09cj9zLmtbYV0qcjpzLmtbYV0sdGhpcy5wdlthXT1zLmtbYV07dGhpcy5nZXRWYWx1ZT1lfWZ1bmN0aW9uIGkoZSxzLHIpe3RoaXMua2V5ZnJhbWVzPXMuayx0aGlzLm9mZnNldFRpbWU9ZS5kYXRhLnN0LHRoaXMubGFzdFZhbHVlPS05OTk5OSx0aGlzLmxhc3RQVmFsdWU9LTk5OTk5LHRoaXMuZnJhbWVJZD0tMSx0aGlzLl9sYXN0SW5kZXg9MCx0aGlzLms9ITAsdGhpcy5rZj0hMCx0aGlzLmRhdGE9cyx0aGlzLm11bHQ9cix0aGlzLmVsZW09ZSx0aGlzLmNvbXA9ZS5jb21wLHRoaXMubGFzdEZyYW1lPWwsdGhpcy52PXI/cy5rWzBdLnNbMF0qcjpzLmtbMF0uc1swXSx0aGlzLnB2PXMua1swXS5zWzBdLHRoaXMuZ2V0VmFsdWU9dH1mdW5jdGlvbiBhKGUscyxyKXt2YXIgaSxhLG4sbyxoLHA9cy5rLmxlbmd0aDtmb3IoaT0wO3AtMT5pO2krPTEpcy5rW2ldLnRvJiZzLmtbaV0ucyYmcy5rW2ldLmUmJihhPXMua1tpXS5zLG49cy5rW2ldLmUsbz1zLmtbaV0udG8saD1zLmtbaV0udGksKDI9PT1hLmxlbmd0aCYmKGFbMF0hPT1uWzBdfHxhWzFdIT09blsxXSkmJmJlei5wb2ludE9uTGluZTJEKGFbMF0sYVsxXSxuWzBdLG5bMV0sYVswXStvWzBdLGFbMV0rb1sxXSkmJmJlei5wb2ludE9uTGluZTJEKGFbMF0sYVsxXSxuWzBdLG5bMV0sblswXStoWzBdLG5bMV0raFsxXSl8fDM9PT1hLmxlbmd0aCYmKGFbMF0hPT1uWzBdfHxhWzFdIT09blsxXXx8YVsyXSE9PW5bMl0pJiZiZXoucG9pbnRPbkxpbmUzRChhWzBdLGFbMV0sYVsyXSxuWzBdLG5bMV0sblsyXSxhWzBdK29bMF0sYVsxXStvWzFdLGFbMl0rb1syXSkmJmJlei5wb2ludE9uTGluZTNEKGFbMF0sYVsxXSxhWzJdLG5bMF0sblsxXSxuWzJdLG5bMF0raFswXSxuWzFdK2hbMV0sblsyXStoWzJdKSkmJihzLmtbaV0udG89bnVsbCxzLmtbaV0udGk9bnVsbCkpO3RoaXMua2V5ZnJhbWVzPXMuayx0aGlzLm9mZnNldFRpbWU9ZS5kYXRhLnN0LHRoaXMuaz0hMCx0aGlzLmtmPSEwLHRoaXMubXVsdD1yLHRoaXMuZWxlbT1lLHRoaXMuY29tcD1lLmNvbXAsdGhpcy5nZXRWYWx1ZT10LHRoaXMuZnJhbWVJZD0tMSx0aGlzLl9sYXN0SW5kZXg9MCx0aGlzLnY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnMua1swXS5zLmxlbmd0aH0pLHRoaXMucHY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnMua1swXS5zLmxlbmd0aH0pLHRoaXMubGFzdFZhbHVlPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmtbMF0ucy5sZW5ndGh9KSx0aGlzLmxhc3RQVmFsdWU9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnMua1swXS5zLmxlbmd0aH0pLHRoaXMubGFzdEZyYW1lPWx9ZnVuY3Rpb24gbih0LGUsbixvLGgpe3ZhciBsO2lmKDI9PT1uKWw9bmV3IHAodCxlLGgpO2Vsc2UgaWYoMD09PWUuYSlsPTA9PT1uP25ldyBzKHQsZSxvKTpuZXcgcih0LGUsbyk7ZWxzZSBpZigxPT09ZS5hKWw9MD09PW4/bmV3IGkodCxlLG8pOm5ldyBhKHQsZSxvKTtlbHNlIGlmKGUuay5sZW5ndGgpaWYoXCJudW1iZXJcIj09dHlwZW9mIGUua1swXSlsPW5ldyByKHQsZSxvKTtlbHNlIHN3aXRjaChuKXtjYXNlIDA6bD1uZXcgaSh0LGUsbyk7YnJlYWs7Y2FzZSAxOmw9bmV3IGEodCxlLG8pfWVsc2UgbD1uZXcgcyh0LGUsbyk7cmV0dXJuIGwuayYmaC5wdXNoKGwpLGx9ZnVuY3Rpb24gbyh0LGUscyxyKXtyZXR1cm4gbmV3IGYodCxlLHMscil9ZnVuY3Rpb24gaCh0LGUscyl7cmV0dXJuIG5ldyBjKHQsZSxzKX12YXIgbD0tOTk5OTk5LHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMucD9FeHByZXNzaW9uVmFsdWUodGhpcy5wKTpbdGhpcy5weC52LHRoaXMucHkudix0aGlzLnB6P3RoaXMucHoudjowXX1mdW5jdGlvbiBlKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLnB4KX1mdW5jdGlvbiBzKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLnB5KX1mdW5jdGlvbiByKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLmEpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMub3IpfWZ1bmN0aW9uIGEoKXtyZXR1cm4gdGhpcy5yP0V4cHJlc3Npb25WYWx1ZSh0aGlzLnIsMS9kZWdUb1JhZHMpOkV4cHJlc3Npb25WYWx1ZSh0aGlzLnJ6LDEvZGVnVG9SYWRzKX1mdW5jdGlvbiBuKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLnMsMTAwKX1mdW5jdGlvbiBvKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLm8sMTAwKX1mdW5jdGlvbiBoKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLnNrKX1mdW5jdGlvbiBsKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZSh0aGlzLnNhKX1mdW5jdGlvbiBwKHQpe3ZhciBlLHM9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtzPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLm1kZj0hMCk7dGhpcy5hJiZ0LnRyYW5zbGF0ZSgtdGhpcy5hLnZbMF0sLXRoaXMuYS52WzFdLHRoaXMuYS52WzJdKSx0aGlzLnMmJnQuc2NhbGUodGhpcy5zLnZbMF0sdGhpcy5zLnZbMV0sdGhpcy5zLnZbMl0pLHRoaXMucj90LnJvdGF0ZSgtdGhpcy5yLnYpOnQucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmRhdGEucC5zP3RoaXMuZGF0YS5wLno/dC50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0LnRyYW5zbGF0ZSh0aGlzLnB4LnYsdGhpcy5weS52LDApOnQudHJhbnNsYXRlKHRoaXMucC52WzBdLHRoaXMucC52WzFdLC10aGlzLnAudlsyXSl9ZnVuY3Rpb24gbSgpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe3RoaXMubWRmPSExO3ZhciB0LGU9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKHQ9MDtlPnQ7dCs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5tZGYmJih0aGlzLm1kZj0hMCk7aWYodGhpcy5tZGYpe2lmKHRoaXMudi5yZXNldCgpLHRoaXMuYSYmdGhpcy52LnRyYW5zbGF0ZSgtdGhpcy5hLnZbMF0sLXRoaXMuYS52WzFdLHRoaXMuYS52WzJdKSx0aGlzLnMmJnRoaXMudi5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSx0aGlzLnMudlsyXSksdGhpcy5zayYmdGhpcy52LnNrZXdGcm9tQXhpcygtdGhpcy5zay52LHRoaXMuc2EudiksdGhpcy5yP3RoaXMudi5yb3RhdGUoLXRoaXMuci52KTp0aGlzLnYucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmF1dG9PcmllbnRlZCYmdGhpcy5wLmtleWZyYW1lcyYmdGhpcy5wLmdldFZhbHVlQXRUaW1lKXt2YXIgcyxyO3RoaXMucC5sYXN0RnJhbWUrdGhpcy5wLm9mZnNldFRpbWU8PXRoaXMucC5rZXlmcmFtZXNbMF0udD8ocz10aGlzLnAuZ2V0VmFsdWVBdFRpbWUoKHRoaXMucC5rZXlmcmFtZXNbMF0udCsuMDEpL3RoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxyPXRoaXMucC5nZXRWYWx1ZUF0VGltZSh0aGlzLnAua2V5ZnJhbWVzWzBdLnQvdGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApKTp0aGlzLnAubGFzdEZyYW1lK3RoaXMucC5vZmZzZXRUaW1lPj10aGlzLnAua2V5ZnJhbWVzW3RoaXMucC5rZXlmcmFtZXMubGVuZ3RoLTFdLnQ/KHM9dGhpcy5wLmdldFZhbHVlQXRUaW1lKHRoaXMucC5rZXlmcmFtZXNbdGhpcy5wLmtleWZyYW1lcy5sZW5ndGgtMV0udC90aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCkscj10aGlzLnAuZ2V0VmFsdWVBdFRpbWUoKHRoaXMucC5rZXlmcmFtZXNbdGhpcy5wLmtleWZyYW1lcy5sZW5ndGgtMV0udC0uMDEpL3RoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSk6KHM9dGhpcy5wLnB2LHI9dGhpcy5wLmdldFZhbHVlQXRUaW1lKCh0aGlzLnAubGFzdEZyYW1lK3RoaXMucC5vZmZzZXRUaW1lLS4wMSkvdGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlLHRoaXMucC5vZmZzZXRUaW1lKSksdGhpcy52LnJvdGF0ZSgtTWF0aC5hdGFuMihzWzFdLXJbMV0sc1swXS1yWzBdKSl9dGhpcy5kYXRhLnAucz90aGlzLmRhdGEucC56P3RoaXMudi50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0aGlzLnYudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsMCk6dGhpcy52LnRyYW5zbGF0ZSh0aGlzLnAudlswXSx0aGlzLnAudlsxXSwtdGhpcy5wLnZbMl0pfXRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkfX1mdW5jdGlvbiBmKCl7dGhpcy5pbnZlcnRlZD0hMCx0aGlzLml2PW5ldyBNYXRyaXgsdGhpcy5rfHwodGhpcy5kYXRhLnAucz90aGlzLml2LnRyYW5zbGF0ZSh0aGlzLnB4LnYsdGhpcy5weS52LC10aGlzLnB6LnYpOnRoaXMuaXYudHJhbnNsYXRlKHRoaXMucC52WzBdLHRoaXMucC52WzFdLC10aGlzLnAudlsyXSksdGhpcy5yP3RoaXMuaXYucm90YXRlKC10aGlzLnIudik6dGhpcy5pdi5yb3RhdGVYKC10aGlzLnJ4LnYpLnJvdGF0ZVkoLXRoaXMucnkudikucm90YXRlWih0aGlzLnJ6LnYpLHRoaXMucyYmdGhpcy5pdi5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSwxKSx0aGlzLmEmJnRoaXMuaXYudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pKX1mdW5jdGlvbiBjKCl7fXJldHVybiBmdW5jdGlvbihkLHUseSl7dGhpcy5lbGVtPWQsdGhpcy5mcmFtZUlkPS0xLHRoaXMudHlwZT1cInRyYW5zZm9ybVwiLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5tZGY9ITEsdGhpcy5kYXRhPXUsdGhpcy5nZXRWYWx1ZT1tLHRoaXMuYXBwbHlUb01hdHJpeD1wLHRoaXMuc2V0SW52ZXJ0ZWQ9Zix0aGlzLmF1dG9PcmllbnQ9Yyx0aGlzLnY9bmV3IE1hdHJpeCx1LnAucz8odGhpcy5weD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucC54LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnB5PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5wLnksMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHUucC56JiYodGhpcy5wej1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucC56LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSkpOnRoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdS5yP3RoaXMucj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUuciwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKTp1LnJ4JiYodGhpcy5yeD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucngsMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5yeT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucnksMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5yej1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUucnosMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChkLHUub3IsMSxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcykpLHUuc2smJih0aGlzLnNrPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5zaywwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnNhPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5zYSwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksdS5hJiYodGhpcy5hPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5hLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksdS5zJiYodGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5zLDEsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSx0aGlzLm89dS5vP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGQsdS5vLDAsLjAxLHkpOnttZGY6ITEsdjoxfSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD95LnB1c2godGhpcyk6KHRoaXMuYSYmdGhpcy52LnRyYW5zbGF0ZSgtdGhpcy5hLnZbMF0sLXRoaXMuYS52WzFdLHRoaXMuYS52WzJdKSx0aGlzLnMmJnRoaXMudi5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSx0aGlzLnMudlsyXSksdGhpcy5zayYmdGhpcy52LnNrZXdGcm9tQXhpcygtdGhpcy5zay52LHRoaXMuc2EudiksdGhpcy5yP3RoaXMudi5yb3RhdGUoLXRoaXMuci52KTp0aGlzLnYucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmRhdGEucC5zP3UucC56P3RoaXMudi50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0aGlzLnYudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsMCk6dGhpcy52LnRyYW5zbGF0ZSh0aGlzLnAudlswXSx0aGlzLnAudlsxXSwtdGhpcy5wLnZbMl0pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBvc2l0aW9uXCIse2dldDp0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ4UG9zaXRpb25cIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInlQb3NpdGlvblwiLHtnZXQ6c30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwib3JpZW50YXRpb25cIix7Z2V0Oml9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImFuY2hvclBvaW50XCIse2dldDpyfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyb3RhdGlvblwiLHtnZXQ6YX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2NhbGVcIix7Z2V0Om59KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm9wYWNpdHlcIix7Z2V0Om99KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNrZXdcIix7Z2V0Omh9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNrZXdBeGlzXCIse2dldDpsfSl9fSgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKHRoaXMucHJvcC5nZXRWYWx1ZSgpLHRoaXMuY21kZj0hMSx0aGlzLm9tZGY9ITEsdGhpcy5wcm9wLm1kZnx8dCl7dmFyIGUscyxyLGk9NCp0aGlzLmRhdGEucDtmb3IoZT0wO2k+ZTtlKz0xKXM9ZSU0PT09MD8xMDA6MjU1LHI9TWF0aC5yb3VuZCh0aGlzLnByb3AudltlXSpzKSx0aGlzLmNbZV0hPT1yJiYodGhpcy5jW2VdPXIsdGhpcy5jbWRmPSEwKTtpZih0aGlzLm8ubGVuZ3RoKWZvcihpPXRoaXMucHJvcC52Lmxlbmd0aCxlPTQqdGhpcy5kYXRhLnA7aT5lO2UrPTEpcz1lJTI9PT0wPzEwMDoxLHI9ZSUyPT09MD9NYXRoLnJvdW5kKDEwMCp0aGlzLnByb3AudltlXSk6dGhpcy5wcm9wLnZbZV0sdGhpcy5vW2UtNCp0aGlzLmRhdGEucF0hPT1yJiYodGhpcy5vW2UtNCp0aGlzLmRhdGEucF09cix0aGlzLm9tZGY9ITApfX1mdW5jdGlvbiBlKGUscyxyKXt0aGlzLnByb3A9bihlLHMuaywxLG51bGwsW10pLHRoaXMuZGF0YT1zLHRoaXMuaz10aGlzLnByb3Auayx0aGlzLmM9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOjQqcy5wfSk7dmFyIGk9cy5rLmtbMF0ucz9zLmsua1swXS5zLmxlbmd0aC00KnMucDpzLmsuay5sZW5ndGgtNCpzLnA7dGhpcy5vPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDppfSksdGhpcy5jbWRmPSExLHRoaXMub21kZj0hMSx0aGlzLmdldFZhbHVlPXQsdGhpcy5wcm9wLmsmJnIucHVzaCh0aGlzKSx0aGlzLmdldFZhbHVlKCEwKX1yZXR1cm4gZnVuY3Rpb24odCxzLHIpe3JldHVybiBuZXcgZSh0LHMscil9fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPTAscz10aGlzLmRhdGFQcm9wcy5sZW5ndGg7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZHx8dCl7Zm9yKHRoaXMubWRmPSExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3M+ZTspe2lmKHRoaXMuZGF0YVByb3BzW2VdLnAubWRmKXt0aGlzLm1kZj0hMDticmVha31lKz0xfWlmKHRoaXMubWRmfHx0KWZvcihcInN2Z1wiPT09dGhpcy5yZW5kZXJlciYmKHRoaXMuZGFzaGFycmF5PVwiXCIpLGU9MDtzPmU7ZSs9MSlcIm9cIiE9dGhpcy5kYXRhUHJvcHNbZV0ubj9cInN2Z1wiPT09dGhpcy5yZW5kZXJlcj90aGlzLmRhc2hhcnJheSs9XCIgXCIrdGhpcy5kYXRhUHJvcHNbZV0ucC52OnRoaXMuZGFzaGFycmF5W2VdPXRoaXMuZGF0YVByb3BzW2VdLnAudjp0aGlzLmRhc2hvZmZzZXQ9dGhpcy5kYXRhUHJvcHNbZV0ucC52fX1yZXR1cm4gZnVuY3Rpb24oZSxzLHIsaSl7dGhpcy5lbGVtPWUsdGhpcy5mcmFtZUlkPS0xLHRoaXMuZGF0YVByb3BzPW5ldyBBcnJheShzLmxlbmd0aCksdGhpcy5yZW5kZXJlcj1yLHRoaXMubWRmPSExLHRoaXMuaz0hMSx0aGlzLmRhc2hhcnJheT1cInN2Z1wiPT09dGhpcy5yZW5kZXJlcj9cIlwiOm5ldyBBcnJheShzLmxlbmd0aC0xKSx0aGlzLmRhc2hvZmZzZXQ9MDt2YXIgYSxuLG89cy5sZW5ndGg7Zm9yKGE9MDtvPmE7YSs9MSluPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsc1thXS52LDAsMCxpKSx0aGlzLms9bi5rPyEwOnRoaXMuayx0aGlzLmRhdGFQcm9wc1thXT17bjpzW2FdLm4scDpufTt0aGlzLmdldFZhbHVlPXQsdGhpcy5rP2kucHVzaCh0aGlzKTp0aGlzLmdldFZhbHVlKCEwKX19KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpZih0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aCl7dmFyIHQsZT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLm1kZiYmKHRoaXMubWRmPSEwKX12YXIgcz10aGlzLmRhdGEudG90YWxDaGFycyxyPTI9PT10aGlzLmRhdGEucj8xOjEwMC9zLGk9dGhpcy5vLnYvcixhPXRoaXMucy52L3IraSxuPXRoaXMuZS52L3IraTtpZihhPm4pe3ZhciBvPWE7YT1uLG49b310aGlzLmZpbmFsUz1hLHRoaXMuZmluYWxFPW59ZnVuY3Rpb24gZSh0KXt2YXIgZT1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyh0aGlzLm5lLnYvMTAwLDAsMS10aGlzLnhlLnYvMTAwLDEpLmdldCxhPTAsbj10aGlzLmZpbmFsUyxvPXRoaXMuZmluYWxFLGg9dGhpcy5kYXRhLnNoO2lmKDI9PWgpYT1vPT09bj90Pj1vPzE6MDpzKDAsciguNS8oby1uKSsodC1uKS8oby1uKSwxKSksYT1lKGEpO2Vsc2UgaWYoMz09aClhPW89PT1uP3Q+PW8/MDoxOjEtcygwLHIoLjUvKG8tbikrKHQtbikvKG8tbiksMSkpLGE9ZShhKTtlbHNlIGlmKDQ9PWgpbz09PW4/YT0wOihhPXMoMCxyKC41LyhvLW4pKyh0LW4pLyhvLW4pLDEpKSwuNT5hP2EqPTI6YT0xLTIqKGEtLjUpKSxhPWUoYSk7ZWxzZSBpZig1PT1oKXtpZihvPT09bilhPTA7ZWxzZXt2YXIgbD1vLW47dD1yKHMoMCx0Ky41LW4pLG8tbik7dmFyIHA9LWwvMit0LG09bC8yO2E9TWF0aC5zcXJ0KDEtcCpwLyhtKm0pKX1hPWUoYSl9ZWxzZSA2PT1oPyhvPT09bj9hPTA6KHQ9cihzKDAsdCsuNS1uKSxvLW4pLGE9KDErTWF0aC5jb3MoTWF0aC5QSSsyKk1hdGguUEkqdC8oby1uKSkpLzIpLGE9ZShhKSk6KHQ+PWkobikmJihhPTA+dC1uPzEtKG4tdCk6cygwLHIoby10LDEpKSksYT1lKGEpKTtyZXR1cm4gYSp0aGlzLmEudn12YXIgcz1NYXRoLm1heCxyPU1hdGgubWluLGk9TWF0aC5mbG9vcjtyZXR1cm4gZnVuY3Rpb24ocyxyLGkpe3RoaXMubWRmPSExLHRoaXMuaz0hMSx0aGlzLmRhdGE9cix0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuZ2V0VmFsdWU9dCx0aGlzLmdldE11bHQ9ZSx0aGlzLmNvbXA9cy5jb21wLHRoaXMuZmluYWxTPTAsdGhpcy5maW5hbEU9MCx0aGlzLnM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocyxyLnN8fHtrOjB9LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmU9XCJlXCJpbiByP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHMsci5lLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKTp7djoyPT09ci5yP3IudG90YWxDaGFyczoxMDB9LHRoaXMubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChzLHIub3x8e2s6MH0sMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMueGU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocyxyLnhlfHx7azowfSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5uZT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChzLHIubmV8fHtrOjB9LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmE9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocyxyLmEsMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/aS5wdXNoKHRoaXMpOnRoaXMuZ2V0VmFsdWUoKX19KCksZD17fTtyZXR1cm4gZC5nZXRQcm9wPW4sZC5nZXREYXNoUHJvcD1vLGQuZ2V0VGV4dFNlbGVjdG9yUHJvcD1oLGQuZ2V0R3JhZGllbnRQcm9wPW0sZH0oKTtTaGFwZVBhdGgucHJvdG90eXBlLnNldFBhdGhEYXRhPWZ1bmN0aW9uKHQsZSl7Zm9yKHRoaXMuYz10O2U+dGhpcy5fbWF4TGVuZ3RoOyl0aGlzLmRvdWJsZUFycmF5TGVuZ3RoKCk7Zm9yKHZhciBzPTA7ZT5zOyl0aGlzLnZbc109cG9pbnRfcG9vbC5uZXdQb2ludCgpLHRoaXMub1tzXT1wb2ludF9wb29sLm5ld1BvaW50KCksdGhpcy5pW3NdPXBvaW50X3Bvb2wubmV3UG9pbnQoKSxzKz0xO3RoaXMuX2xlbmd0aD1lfSxTaGFwZVBhdGgucHJvdG90eXBlLmRvdWJsZUFycmF5TGVuZ3RoPWZ1bmN0aW9uKCl7dGhpcy52PXRoaXMudi5jb25jYXQoQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMuX21heExlbmd0aH0pKSx0aGlzLmk9dGhpcy5pLmNvbmNhdChBcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5fbWF4TGVuZ3RofSkpLHRoaXMubz10aGlzLm8uY29uY2F0KEFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KSksdGhpcy5fbWF4TGVuZ3RoKj0yfSxTaGFwZVBhdGgucHJvdG90eXBlLnNldFhZQXQ9ZnVuY3Rpb24odCxlLHMscixpKXt2YXIgYTtzd2l0Y2godGhpcy5fbGVuZ3RoPU1hdGgubWF4KHRoaXMuX2xlbmd0aCxyKzEpLHRoaXMuX2xlbmd0aD49dGhpcy5fbWF4TGVuZ3RoJiZ0aGlzLmRvdWJsZUFycmF5TGVuZ3RoKCkscyl7Y2FzZVwidlwiOmE9dGhpcy52O2JyZWFrO2Nhc2VcImlcIjphPXRoaXMuaTticmVhaztjYXNlXCJvXCI6YT10aGlzLm99KCFhW3JdfHxhW3JdJiYhaSkmJihhW3JdPXBvaW50X3Bvb2wubmV3UG9pbnQoKSksYVtyXVswXT10LGFbcl1bMV09ZX0sU2hhcGVQYXRoLnByb3RvdHlwZS5zZXRUcmlwbGVBdD1mdW5jdGlvbih0LGUscyxyLGksYSxuLG8pe3RoaXMuc2V0WFlBdCh0LGUsXCJ2XCIsbixvKSx0aGlzLnNldFhZQXQocyxyLFwib1wiLG4sbyksdGhpcy5zZXRYWUF0KGksYSxcImlcIixuLG8pfTt2YXIgU2hhcGVQcm9wZXJ0eUZhY3Rvcnk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZCl7dGhpcy5tZGY9ITE7dmFyIHQ9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUtdGhpcy5vZmZzZXRUaW1lO2lmKHRoaXMubGFzdEZyYW1lPT09bnx8ISh0aGlzLmxhc3RGcmFtZTx0aGlzLmtleWZyYW1lc1swXS50LXRoaXMub2Zmc2V0VGltZSYmdDx0aGlzLmtleWZyYW1lc1swXS50LXRoaXMub2Zmc2V0VGltZXx8dGhpcy5sYXN0RnJhbWU+dGhpcy5rZXlmcmFtZXNbdGhpcy5rZXlmcmFtZXMubGVuZ3RoLTFdLnQtdGhpcy5vZmZzZXRUaW1lJiZ0PnRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS50LXRoaXMub2Zmc2V0VGltZSkpe3ZhciBlLHMscjtpZih0PHRoaXMua2V5ZnJhbWVzWzBdLnQtdGhpcy5vZmZzZXRUaW1lKWU9dGhpcy5rZXlmcmFtZXNbMF0uc1swXSxyPSEwLHRoaXMuX2xhc3RJbmRleD0wO2Vsc2UgaWYodD49dGhpcy5rZXlmcmFtZXNbdGhpcy5rZXlmcmFtZXMubGVuZ3RoLTFdLnQtdGhpcy5vZmZzZXRUaW1lKWU9MT09PXRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0yXS5oP3RoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS5zWzBdOnRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0yXS5lWzBdLHI9ITA7ZWxzZXtmb3IodmFyIGksYSxvLGgsbCxwLG09dGhpcy5sYXN0RnJhbWU8bj90aGlzLl9sYXN0SW5kZXg6MCxmPXRoaXMua2V5ZnJhbWVzLmxlbmd0aC0xLGM9ITA7YyYmKGk9dGhpcy5rZXlmcmFtZXNbbV0sYT10aGlzLmtleWZyYW1lc1ttKzFdLCEoYS50LXRoaXMub2Zmc2V0VGltZT50KSk7KWYtMT5tP20rPTE6Yz0hMTtyPTE9PT1pLmgsdGhpcy5fbGFzdEluZGV4PW07dmFyIGQ7aWYoIXIpe2lmKHQ+PWEudC10aGlzLm9mZnNldFRpbWUpZD0xO2Vsc2UgaWYodDxpLnQtdGhpcy5vZmZzZXRUaW1lKWQ9MDtlbHNle3ZhciB1O2kuX19mbmN0P3U9aS5fX2ZuY3Q6KHU9QmV6aWVyRmFjdG9yeS5nZXRCZXppZXJFYXNpbmcoaS5vLngsaS5vLnksaS5pLngsaS5pLnkpLmdldCxpLl9fZm5jdD11KSxkPXUoKHQtKGkudC10aGlzLm9mZnNldFRpbWUpKS8oYS50LXRoaXMub2Zmc2V0VGltZS0oaS50LXRoaXMub2Zmc2V0VGltZSkpKX1zPWkuZVswXX1lPWkuc1swXX1oPXRoaXMudi5fbGVuZ3RoLHA9ZS5pWzBdLmxlbmd0aDt2YXIgeSxnPSExO2ZvcihvPTA7aD5vO28rPTEpZm9yKGw9MDtwPmw7bCs9MSlyPyh5PWUuaVtvXVtsXSx0aGlzLnYuaVtvXVtsXSE9PXkmJih0aGlzLnYuaVtvXVtsXT15LHRoaXMucHYuaVtvXVtsXT15LGc9ITApLHk9ZS5vW29dW2xdLHRoaXMudi5vW29dW2xdIT09eSYmKHRoaXMudi5vW29dW2xdPXksdGhpcy5wdi5vW29dW2xdPXksZz0hMCkseT1lLnZbb11bbF0sdGhpcy52LnZbb11bbF0hPT15JiYodGhpcy52LnZbb11bbF09eSx0aGlzLnB2LnZbb11bbF09eSxnPSEwKSk6KHk9ZS5pW29dW2xdKyhzLmlbb11bbF0tZS5pW29dW2xdKSpkLHRoaXMudi5pW29dW2xdIT09eSYmKHRoaXMudi5pW29dW2xdPXksdGhpcy5wdi5pW29dW2xdPXksZz0hMCkseT1lLm9bb11bbF0rKHMub1tvXVtsXS1lLm9bb11bbF0pKmQsdGhpcy52Lm9bb11bbF0hPT15JiYodGhpcy52Lm9bb11bbF09eSx0aGlzLnB2Lm9bb11bbF09eSxnPSEwKSx5PWUudltvXVtsXSsocy52W29dW2xdLWUudltvXVtsXSkqZCx0aGlzLnYudltvXVtsXSE9PXkmJih0aGlzLnYudltvXVtsXT15LHRoaXMucHYudltvXVtsXT15LGc9ITApKTt0aGlzLm1kZj1nLHRoaXMudi5jPWUuYyx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb259dGhpcy5sYXN0RnJhbWU9dCx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZDtcblxufX1mdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMudn1mdW5jdGlvbiBzKCl7dGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMua3x8KHRoaXMubWRmPSExKX1mdW5jdGlvbiByKHQscixpKXt0aGlzLmNvbXA9dC5jb21wLHRoaXMuaz0hMSx0aGlzLm1kZj0hMSx0aGlzLnY9c2hhcGVfcG9vbC5uZXdTaGFwZSgpO3ZhciBhPTM9PT1pP3IucHQuazpyLmtzLms7dGhpcy52LnY9YS52LHRoaXMudi5pPWEuaSx0aGlzLnYubz1hLm8sdGhpcy52LmM9YS5jLHRoaXMudi5fbGVuZ3RoPXRoaXMudi52Lmxlbmd0aCx0aGlzLmdldFZhbHVlPWUsdGhpcy5wdj1zaGFwZV9wb29sLmNsb25lKHRoaXMudiksdGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbj1zaGFwZUNvbGxlY3Rpb25fcG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKSx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5wYXRocy5hZGRTaGFwZSh0aGlzLnYpLHRoaXMucmVzZXQ9c31mdW5jdGlvbiBpKGUscixpKXt0aGlzLmNvbXA9ZS5jb21wLHRoaXMuZWxlbT1lLHRoaXMub2Zmc2V0VGltZT1lLmRhdGEuc3QsdGhpcy5fbGFzdEluZGV4PTAsdGhpcy5nZXRWYWx1ZT10LHRoaXMua2V5ZnJhbWVzPTM9PT1pP3IucHQuazpyLmtzLmssdGhpcy5rPSEwLHRoaXMua2Y9ITA7e3ZhciBhPXRoaXMua2V5ZnJhbWVzWzBdLnNbMF0uaS5sZW5ndGg7dGhpcy5rZXlmcmFtZXNbMF0uc1swXS5pWzBdLmxlbmd0aH10aGlzLnY9c2hhcGVfcG9vbC5uZXdTaGFwZSgpLHRoaXMudi5zZXRQYXRoRGF0YSh0aGlzLmtleWZyYW1lc1swXS5zWzBdLmMsYSksdGhpcy5wdj1zaGFwZV9wb29sLmNsb25lKHRoaXMudiksdGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbj1zaGFwZUNvbGxlY3Rpb25fcG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKSx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5wYXRocy5hZGRTaGFwZSh0aGlzLnYpLHRoaXMubGFzdEZyYW1lPW4sdGhpcy5yZXNldD1zfWZ1bmN0aW9uIGEodCxlLHMsYSl7dmFyIG47aWYoMz09PXN8fDQ9PT1zKXt2YXIgcD0zPT09cz9lLnB0OmUua3MsbT1wLms7bj0xPT09cC5hfHxtLmxlbmd0aD9uZXcgaSh0LGUscyk6bmV3IHIodCxlLHMpfWVsc2UgNT09PXM/bj1uZXcgbCh0LGUpOjY9PT1zP249bmV3IG8odCxlKTo3PT09cyYmKG49bmV3IGgodCxlKSk7cmV0dXJuIG4uayYmYS5wdXNoKG4pLG59dmFyIG49LTk5OTk5OSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXMucC52WzBdLGU9dGhpcy5wLnZbMV0scz10aGlzLnMudlswXS8yLGk9dGhpcy5zLnZbMV0vMjszIT09dGhpcy5kPyh0aGlzLnYudlswXVswXT10LHRoaXMudi52WzBdWzFdPWUtaSx0aGlzLnYudlsxXVswXT10K3MsdGhpcy52LnZbMV1bMV09ZSx0aGlzLnYudlsyXVswXT10LHRoaXMudi52WzJdWzFdPWUraSx0aGlzLnYudlszXVswXT10LXMsdGhpcy52LnZbM11bMV09ZSx0aGlzLnYuaVswXVswXT10LXMqcix0aGlzLnYuaVswXVsxXT1lLWksdGhpcy52LmlbMV1bMF09dCtzLHRoaXMudi5pWzFdWzFdPWUtaSpyLHRoaXMudi5pWzJdWzBdPXQrcypyLHRoaXMudi5pWzJdWzFdPWUraSx0aGlzLnYuaVszXVswXT10LXMsdGhpcy52LmlbM11bMV09ZStpKnIsdGhpcy52Lm9bMF1bMF09dCtzKnIsdGhpcy52Lm9bMF1bMV09ZS1pLHRoaXMudi5vWzFdWzBdPXQrcyx0aGlzLnYub1sxXVsxXT1lK2kqcix0aGlzLnYub1syXVswXT10LXMqcix0aGlzLnYub1syXVsxXT1lK2ksdGhpcy52Lm9bM11bMF09dC1zLHRoaXMudi5vWzNdWzFdPWUtaSpyKToodGhpcy52LnZbMF1bMF09dCx0aGlzLnYudlswXVsxXT1lLWksdGhpcy52LnZbMV1bMF09dC1zLHRoaXMudi52WzFdWzFdPWUsdGhpcy52LnZbMl1bMF09dCx0aGlzLnYudlsyXVsxXT1lK2ksdGhpcy52LnZbM11bMF09dCtzLHRoaXMudi52WzNdWzFdPWUsdGhpcy52LmlbMF1bMF09dCtzKnIsdGhpcy52LmlbMF1bMV09ZS1pLHRoaXMudi5pWzFdWzBdPXQtcyx0aGlzLnYuaVsxXVsxXT1lLWkqcix0aGlzLnYuaVsyXVswXT10LXMqcix0aGlzLnYuaVsyXVsxXT1lK2ksdGhpcy52LmlbM11bMF09dCtzLHRoaXMudi5pWzNdWzFdPWUraSpyLHRoaXMudi5vWzBdWzBdPXQtcypyLHRoaXMudi5vWzBdWzFdPWUtaSx0aGlzLnYub1sxXVswXT10LXMsdGhpcy52Lm9bMV1bMV09ZStpKnIsdGhpcy52Lm9bMl1bMF09dCtzKnIsdGhpcy52Lm9bMl1bMV09ZStpLHRoaXMudi5vWzNdWzBdPXQrcyx0aGlzLnYub1szXVsxXT1lLWkqcil9ZnVuY3Rpb24gZSh0KXt2YXIgZSxzPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe2Zvcih0aGlzLm1kZj0hMSx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCxlPTA7cz5lO2UrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5nZXRWYWx1ZSh0KSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMubWRmPSEwKTt0aGlzLm1kZiYmdGhpcy5jb252ZXJ0RWxsVG9QYXRoKCl9fXZhciByPXJvdW5kQ29ybmVyO3JldHVybiBmdW5jdGlvbihyLGkpe3RoaXMudj1zaGFwZV9wb29sLm5ld1NoYXBlKCksdGhpcy52LnNldFBhdGhEYXRhKCEwLDQpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uX3Bvb2wubmV3U2hhcGVDb2xsZWN0aW9uKCksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUodGhpcy52KSx0aGlzLmQ9aS5kLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5lbGVtPXIsdGhpcy5jb21wPXIuY29tcCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5tZGY9ITEsdGhpcy5nZXRWYWx1ZT1lLHRoaXMuY29udmVydEVsbFRvUGF0aD10LHRoaXMucmVzZXQ9cyx0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixpLnAsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChyLGkucywxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/dGhpcy5rPSEwOnRoaXMuY29udmVydEVsbFRvUGF0aCgpfX0oKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0LGU9TWF0aC5mbG9vcih0aGlzLnB0LnYpLHM9MipNYXRoLlBJL2Uscj10aGlzLm9yLnYsaT10aGlzLm9zLnYsYT0yKk1hdGguUEkqci8oNCplKSxuPS1NYXRoLlBJLzIsbz0zPT09dGhpcy5kYXRhLmQ/LTE6MTtmb3Iobis9dGhpcy5yLnYsdGhpcy52Ll9sZW5ndGg9MCx0PTA7ZT50O3QrPTEpe3ZhciBoPXIqTWF0aC5jb3MobiksbD1yKk1hdGguc2luKG4pLHA9MD09PWgmJjA9PT1sPzA6bC9NYXRoLnNxcnQoaCpoK2wqbCksbT0wPT09aCYmMD09PWw/MDotaC9NYXRoLnNxcnQoaCpoK2wqbCk7aCs9K3RoaXMucC52WzBdLGwrPSt0aGlzLnAudlsxXSx0aGlzLnYuc2V0VHJpcGxlQXQoaCxsLGgtcCphKmkqbyxsLW0qYSppKm8saCtwKmEqaSpvLGwrbSphKmkqbyx0LCEwKSxuKz1zKm99dGhpcy5wYXRocy5sZW5ndGg9MCx0aGlzLnBhdGhzWzBdPXRoaXMudn1mdW5jdGlvbiBlKCl7dmFyIHQsZSxzLHIsaT0yKk1hdGguZmxvb3IodGhpcy5wdC52KSxhPTIqTWF0aC5QSS9pLG49ITAsbz10aGlzLm9yLnYsaD10aGlzLmlyLnYsbD10aGlzLm9zLnYscD10aGlzLmlzLnYsbT0yKk1hdGguUEkqby8oMippKSxmPTIqTWF0aC5QSSpoLygyKmkpLGM9LU1hdGguUEkvMjtjKz10aGlzLnIudjt2YXIgZD0zPT09dGhpcy5kYXRhLmQ/LTE6MTtmb3IodGhpcy52Ll9sZW5ndGg9MCx0PTA7aT50O3QrPTEpe2U9bj9vOmgscz1uP2w6cCxyPW4/bTpmO3ZhciB1PWUqTWF0aC5jb3MoYykseT1lKk1hdGguc2luKGMpLGc9MD09PXUmJjA9PT15PzA6eS9NYXRoLnNxcnQodSp1K3kqeSksdj0wPT09dSYmMD09PXk/MDotdS9NYXRoLnNxcnQodSp1K3kqeSk7dSs9K3RoaXMucC52WzBdLHkrPSt0aGlzLnAudlsxXSx0aGlzLnYuc2V0VHJpcGxlQXQodSx5LHUtZypyKnMqZCx5LXYqcipzKmQsdStnKnIqcypkLHkrdipyKnMqZCx0LCEwKSxuPSFuLGMrPWEqZH19ZnVuY3Rpb24gcigpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe3RoaXMubWRmPSExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciB0LGU9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKHQ9MDtlPnQ7dCs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5tZGYmJih0aGlzLm1kZj0hMCk7dGhpcy5tZGYmJnRoaXMuY29udmVydFRvUGF0aCgpfX1yZXR1cm4gZnVuY3Rpb24oaSxhKXt0aGlzLnY9c2hhcGVfcG9vbC5uZXdTaGFwZSgpLHRoaXMudi5zZXRQYXRoRGF0YSghMCwwKSx0aGlzLmVsZW09aSx0aGlzLmNvbXA9aS5jb21wLHRoaXMuZGF0YT1hLHRoaXMuZnJhbWVJZD0tMSx0aGlzLmQ9YS5kLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5tZGY9ITEsdGhpcy5nZXRWYWx1ZT1yLHRoaXMucmVzZXQ9cywxPT09YS5zeT8odGhpcy5pcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChpLGEuaXIsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuaXM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoaSxhLmlzLDAsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuY29udmVydFRvUGF0aD1lKTp0aGlzLmNvbnZlcnRUb1BhdGg9dCx0aGlzLnB0PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGksYS5wdCwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGksYS5wLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoaSxhLnIsMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChpLGEub3IsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMub3M9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoaSxhLm9zLDAsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uX3Bvb2wubmV3U2hhcGVDb2xsZWN0aW9uKCksdGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbi5hZGRTaGFwZSh0aGlzLnYpLHRoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbix0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD90aGlzLms9ITA6dGhpcy5jb252ZXJ0VG9QYXRoKCl9fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe3RoaXMubWRmPSExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciBlLHM9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtzPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKHQpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0ubWRmJiYodGhpcy5tZGY9ITApO3RoaXMubWRmJiZ0aGlzLmNvbnZlcnRSZWN0VG9QYXRoKCl9fWZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLnAudlswXSxlPXRoaXMucC52WzFdLHM9dGhpcy5zLnZbMF0vMixyPXRoaXMucy52WzFdLzIsaT1ibV9taW4ocyxyLHRoaXMuci52KSxhPWkqKDEtcm91bmRDb3JuZXIpO3RoaXMudi5fbGVuZ3RoPTAsMj09PXRoaXMuZHx8MT09PXRoaXMuZD8odGhpcy52LnNldFRyaXBsZUF0KHQrcyxlLXIraSx0K3MsZS1yK2ksdCtzLGUtcithLDAsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3MsZStyLWksdCtzLGUrci1hLHQrcyxlK3ItaSwxLCEwKSwwIT09aT8odGhpcy52LnNldFRyaXBsZUF0KHQrcy1pLGUrcix0K3MtaSxlK3IsdCtzLWEsZStyLDIsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXMraSxlK3IsdC1zK2EsZStyLHQtcytpLGUrciwzLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1zLGUrci1pLHQtcyxlK3ItaSx0LXMsZStyLWEsNCwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcyxlLXIraSx0LXMsZS1yK2EsdC1zLGUtcitpLDUsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXMraSxlLXIsdC1zK2ksZS1yLHQtcythLGUtciw2LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodCtzLWksZS1yLHQrcy1hLGUtcix0K3MtaSxlLXIsNywhMCkpOih0aGlzLnYuc2V0VHJpcGxlQXQodC1zLGUrcix0LXMrYSxlK3IsdC1zLGUrciwyKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1zLGUtcix0LXMsZS1yK2EsdC1zLGUtciwzKSkpOih0aGlzLnYuc2V0VHJpcGxlQXQodCtzLGUtcitpLHQrcyxlLXIrYSx0K3MsZS1yK2ksMCwhMCksMCE9PWk/KHRoaXMudi5zZXRUcmlwbGVBdCh0K3MtaSxlLXIsdCtzLWksZS1yLHQrcy1hLGUtciwxLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1zK2ksZS1yLHQtcythLGUtcix0LXMraSxlLXIsMiwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcyxlLXIraSx0LXMsZS1yK2ksdC1zLGUtcithLDMsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXMsZStyLWksdC1zLGUrci1hLHQtcyxlK3ItaSw0LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1zK2ksZStyLHQtcytpLGUrcix0LXMrYSxlK3IsNSwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQrcy1pLGUrcix0K3MtYSxlK3IsdCtzLWksZStyLDYsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3MsZStyLWksdCtzLGUrci1pLHQrcyxlK3ItYSw3LCEwKSk6KHRoaXMudi5zZXRUcmlwbGVBdCh0LXMsZS1yLHQtcythLGUtcix0LXMsZS1yLDEsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXMsZStyLHQtcyxlK3ItYSx0LXMsZStyLDIsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3MsZStyLHQrcy1hLGUrcix0K3MsZStyLDMsITApKSl9cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dGhpcy52PXNoYXBlX3Bvb2wubmV3U2hhcGUoKSx0aGlzLnYuYz0hMCx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUodGhpcy52KSx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5lbGVtPXIsdGhpcy5jb21wPXIuY29tcCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5kPWkuZCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMubWRmPSExLHRoaXMuZ2V0VmFsdWU9dCx0aGlzLmNvbnZlcnRSZWN0VG9QYXRoPWUsdGhpcy5yZXNldD1zLHRoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChyLGkucCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIsaS5zLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixpLnIsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDp0aGlzLmNvbnZlcnRSZWN0VG9QYXRoKCl9fSgpLHA9e307cmV0dXJuIHAuZ2V0U2hhcGVQcm9wPWEscH0oKSxTaGFwZU1vZGlmaWVycz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtyW3RdfHwoclt0XT1lKX1mdW5jdGlvbiBlKHQsZSxzLGkpe3JldHVybiBuZXcgclt0XShlLHMsaSl9dmFyIHM9e30scj17fTtyZXR1cm4gcy5yZWdpc3Rlck1vZGlmaWVyPXQscy5nZXRNb2RpZmllcj1lLHN9KCk7U2hhcGVNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbigpe30sU2hhcGVNb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVyPWZ1bmN0aW9uKCl7fSxTaGFwZU1vZGlmaWVyLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbih0KXt0aGlzLmNsb3NlZHx8KHRoaXMuc2hhcGVzLnB1c2goe3NoYXBlOnQuc2gsZGF0YTp0LGxvY2FsU2hhcGVDb2xsZWN0aW9uOnNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpfSksdGhpcy5hZGRTaGFwZVRvTW9kaWZpZXIodC5zaCkpfSxTaGFwZU1vZGlmaWVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmVsZW09dCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5zaGFwZXM9W10sdGhpcy5keW5hbWljUHJvcGVydGllcz1bXSx0aGlzLm1kZj0hMSx0aGlzLmNsb3NlZD0hMSx0aGlzLms9ITEsdGhpcy5jb21wPXQuY29tcCx0aGlzLmluaXRNb2RpZmllclByb3BlcnRpZXModCxlKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD8odGhpcy5rPSEwLHMucHVzaCh0aGlzKSk6dGhpcy5nZXRWYWx1ZSghMCl9LGV4dGVuZFByb3RvdHlwZShTaGFwZU1vZGlmaWVyLFRyaW1Nb2RpZmllciksVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzS2V5cz1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkfHx0KXt0aGlzLm1kZj10PyEwOiExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciBlLHM9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtzPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLm1kZj0hMCk7aWYodGhpcy5tZGZ8fHQpe3ZhciByPXRoaXMuby52JTM2MC8zNjA7MD5yJiYocis9MSk7dmFyIGk9dGhpcy5zLnYrcixhPXRoaXMuZS52K3I7aWYoaT5hKXt2YXIgbj1pO2k9YSxhPW59dGhpcy5zVmFsdWU9aSx0aGlzLmVWYWx1ZT1hLHRoaXMub1ZhbHVlPXJ9fX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQsZSl7dGhpcy5zVmFsdWU9MCx0aGlzLmVWYWx1ZT0wLHRoaXMub1ZhbHVlPTAsdGhpcy5nZXRWYWx1ZT10aGlzLnByb2Nlc3NLZXlzLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLmUsMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm09ZS5tLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCEwKX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5nZXRTZWdtZW50c0xlbmd0aD1mdW5jdGlvbih0KXt2YXIgZSxzPXQuYyxyPXQudixpPXQubyxhPXQuaSxuPXQuX2xlbmd0aCxvPVtdLGg9MDtmb3IoZT0wO24tMT5lO2UrPTEpb1tlXT1iZXouZ2V0QmV6aWVyTGVuZ3RoKHJbZV0scltlKzFdLGlbZV0sYVtlKzFdKSxoKz1vW2VdLmFkZGVkTGVuZ3RoO3JldHVybiBzJiYob1tlXT1iZXouZ2V0QmV6aWVyTGVuZ3RoKHJbZV0sclswXSxpW2VdLGFbMF0pLGgrPW9bZV0uYWRkZWRMZW5ndGgpLHtsZW5ndGhzOm8sdG90YWxMZW5ndGg6aH19LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuY2FsY3VsYXRlU2hhcGVFZGdlcz1mdW5jdGlvbih0LGUscyxyLGkpe3ZhciBhPVtdOzE+PWU/YS5wdXNoKHtzOnQsZTplfSk6dD49MT9hLnB1c2goe3M6dC0xLGU6ZS0xfSk6KGEucHVzaCh7czp0LGU6MX0pLGEucHVzaCh7czowLGU6ZS0xfSkpO3ZhciBuLG8saD1bXSxsPWEubGVuZ3RoO2ZvcihuPTA7bD5uO24rPTEpaWYobz1hW25dLG8uZSppPHJ8fG8ucyppPnIrcyk7ZWxzZXt2YXIgcCxtO3A9by5zKmk8PXI/MDooby5zKmktcikvcyxtPW8uZSppPj1yK3M/MTooby5lKmktcikvcyxoLnB1c2goW3AsbV0pfXJldHVybiBoLmxlbmd0aHx8aC5wdXNoKFswLDBdKSxofSxUcmltTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NTaGFwZXM9ZnVuY3Rpb24odCl7dmFyIGUscyxyLGksYSxuLG8saD10aGlzLnNoYXBlcy5sZW5ndGgsbD10aGlzLnNWYWx1ZSxwPXRoaXMuZVZhbHVlLG09MDtpZihwPT09bClmb3Iocz0wO2g+cztzKz0xKXRoaXMuc2hhcGVzW3NdLmxvY2FsU2hhcGVDb2xsZWN0aW9uLnJlbGVhc2VTaGFwZXMoKSx0aGlzLnNoYXBlc1tzXS5zaGFwZS5tZGY9ITAsdGhpcy5zaGFwZXNbc10uc2hhcGUucGF0aHM9dGhpcy5zaGFwZXNbc10ubG9jYWxTaGFwZUNvbGxlY3Rpb247ZWxzZSBpZigxPT09cCYmMD09PWx8fDA9PT1wJiYxPT09bCl7aWYodGhpcy5tZGYpZm9yKHM9MDtoPnM7cys9MSl0aGlzLnNoYXBlc1tzXS5zaGFwZS5tZGY9ITB9ZWxzZXt2YXIgZixjLGQ9W107Zm9yKHM9MDtoPnM7cys9MSlpZihmPXRoaXMuc2hhcGVzW3NdLGYuc2hhcGUubWRmfHx0aGlzLm1kZnx8dHx8Mj09PXRoaXMubSl7aWYoZT1mLnNoYXBlLnBhdGhzLGk9ZS5fbGVuZ3RoLG89MCwhZi5zaGFwZS5tZGYmJmYucGF0aHNEYXRhKW89Zi50b3RhbFNoYXBlTGVuZ3RoO2Vsc2V7Zm9yKGE9W10scj0wO2k+cjtyKz0xKW49dGhpcy5nZXRTZWdtZW50c0xlbmd0aChlLnNoYXBlc1tyXSksYS5wdXNoKG4pLG8rPW4udG90YWxMZW5ndGg7Zi50b3RhbFNoYXBlTGVuZ3RoPW8sZi5wYXRoc0RhdGE9YX1tKz1vLGYuc2hhcGUubWRmPSEwfWVsc2UgZi5zaGFwZS5wYXRocz1mLmxvY2FsU2hhcGVDb2xsZWN0aW9uO3ZhciByLGksdT1sLHk9cCxnPTA7Zm9yKHM9aC0xO3M+PTA7cy09MSlpZihmPXRoaXMuc2hhcGVzW3NdLGYuc2hhcGUubWRmKXtpZihjPWYubG9jYWxTaGFwZUNvbGxlY3Rpb24sYy5yZWxlYXNlU2hhcGVzKCksMj09PXRoaXMubSYmaD4xKXt2YXIgdj10aGlzLmNhbGN1bGF0ZVNoYXBlRWRnZXMobCxwLGYudG90YWxTaGFwZUxlbmd0aCxnLG0pO2crPWYudG90YWxTaGFwZUxlbmd0aH1lbHNlIHY9W1t1LHldXTtmb3IoaT12Lmxlbmd0aCxyPTA7aT5yO3IrPTEpe3U9dltyXVswXSx5PXZbcl1bMV0sZC5sZW5ndGg9MCwxPj15P2QucHVzaCh7czpmLnRvdGFsU2hhcGVMZW5ndGgqdSxlOmYudG90YWxTaGFwZUxlbmd0aCp5fSk6dT49MT9kLnB1c2goe3M6Zi50b3RhbFNoYXBlTGVuZ3RoKih1LTEpLGU6Zi50b3RhbFNoYXBlTGVuZ3RoKih5LTEpfSk6KGQucHVzaCh7czpmLnRvdGFsU2hhcGVMZW5ndGgqdSxlOmYudG90YWxTaGFwZUxlbmd0aH0pLGQucHVzaCh7czowLGU6Zi50b3RhbFNoYXBlTGVuZ3RoKih5LTEpfSkpO3ZhciBiPXRoaXMuYWRkU2hhcGVzKGYsZFswXSk7aWYoZFswXS5zIT09ZFswXS5lKXtpZihkLmxlbmd0aD4xKWlmKGYuc2hhcGUudi5jKXt2YXIgRT1iLnBvcCgpO3RoaXMuYWRkUGF0aHMoYixjKSxiPXRoaXMuYWRkU2hhcGVzKGYsZFsxXSxFKX1lbHNlIHRoaXMuYWRkUGF0aHMoYixjKSxiPXRoaXMuYWRkU2hhcGVzKGYsZFsxXSk7dGhpcy5hZGRQYXRocyhiLGMpfX1mLnNoYXBlLnBhdGhzPWN9fXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHwodGhpcy5tZGY9ITEpfSxUcmltTW9kaWZpZXIucHJvdG90eXBlLmFkZFBhdGhzPWZ1bmN0aW9uKHQsZSl7dmFyIHMscj10Lmxlbmd0aDtmb3Iocz0wO3I+cztzKz0xKWUuYWRkU2hhcGUodFtzXSl9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2VnbWVudD1mdW5jdGlvbih0LGUscyxyLGksYSxuKXtpLnNldFhZQXQoZVswXSxlWzFdLFwib1wiLGEpLGkuc2V0WFlBdChzWzBdLHNbMV0sXCJpXCIsYSsxKSxuJiZpLnNldFhZQXQodFswXSx0WzFdLFwidlwiLGEpLGkuc2V0WFlBdChyWzBdLHJbMV0sXCJ2XCIsYSsxKX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5hZGRTaGFwZXM9ZnVuY3Rpb24odCxlLHMpe3ZhciByLGksYSxuLG8saCxsLHAsbT10LnBhdGhzRGF0YSxmPXQuc2hhcGUucGF0aHMuc2hhcGVzLGM9dC5zaGFwZS5wYXRocy5fbGVuZ3RoLGQ9MCx1PVtdLHk9ITA7Zm9yKHM/KG89cy5fbGVuZ3RoLHA9cy5fbGVuZ3RoKToocz1zaGFwZV9wb29sLm5ld1NoYXBlKCksbz0wLHA9MCksdS5wdXNoKHMpLHI9MDtjPnI7cis9MSl7Zm9yKGg9bVtyXS5sZW5ndGhzLHMuYz1mW3JdLmMsYT1mW3JdLmM/aC5sZW5ndGg6aC5sZW5ndGgrMSxpPTE7YT5pO2krPTEpaWYobj1oW2ktMV0sZCtuLmFkZGVkTGVuZ3RoPGUucylkKz1uLmFkZGVkTGVuZ3RoLHMuYz0hMTtlbHNle2lmKGQ+ZS5lKXtzLmM9ITE7YnJlYWt9ZS5zPD1kJiZlLmU+PWQrbi5hZGRlZExlbmd0aD8odGhpcy5hZGRTZWdtZW50KGZbcl0udltpLTFdLGZbcl0ub1tpLTFdLGZbcl0uaVtpXSxmW3JdLnZbaV0scyxvLHkpLHk9ITEpOihsPWJlei5nZXROZXdTZWdtZW50KGZbcl0udltpLTFdLGZbcl0udltpXSxmW3JdLm9baS0xXSxmW3JdLmlbaV0sKGUucy1kKS9uLmFkZGVkTGVuZ3RoLChlLmUtZCkvbi5hZGRlZExlbmd0aCxoW2ktMV0pLHRoaXMuYWRkU2VnbWVudChsLnB0MSxsLnB0MyxsLnB0NCxsLnB0MixzLG8seSkseT0hMSxzLmM9ITEpLGQrPW4uYWRkZWRMZW5ndGgsbys9MX1pZihmW3JdLmMpe2lmKG49aFtpLTFdLGQ8PWUuZSl7dmFyIGc9aFtpLTFdLmFkZGVkTGVuZ3RoO2Uuczw9ZCYmZS5lPj1kK2c/KHRoaXMuYWRkU2VnbWVudChmW3JdLnZbaS0xXSxmW3JdLm9baS0xXSxmW3JdLmlbMF0sZltyXS52WzBdLHMsbyx5KSx5PSExKToobD1iZXouZ2V0TmV3U2VnbWVudChmW3JdLnZbaS0xXSxmW3JdLnZbMF0sZltyXS5vW2ktMV0sZltyXS5pWzBdLChlLnMtZCkvZywoZS5lLWQpL2csaFtpLTFdKSx0aGlzLmFkZFNlZ21lbnQobC5wdDEsbC5wdDMsbC5wdDQsbC5wdDIscyxvLHkpLHk9ITEscy5jPSExKX1lbHNlIHMuYz0hMTtkKz1uLmFkZGVkTGVuZ3RoLG8rPTF9aWYocy5fbGVuZ3RoJiYocy5zZXRYWUF0KHMudltwXVswXSxzLnZbcF1bMV0sXCJpXCIscCkscy5zZXRYWUF0KHMudltzLl9sZW5ndGgtMV1bMF0scy52W3MuX2xlbmd0aC0xXVsxXSxcIm9cIixzLl9sZW5ndGgtMSkpLGQ+ZS5lKWJyZWFrO2MtMT5yJiYocz1zaGFwZV9wb29sLm5ld1NoYXBlKCkseT0hMCx1LnB1c2gocyksbz0wKX1yZXR1cm4gdX0sU2hhcGVNb2RpZmllcnMucmVnaXN0ZXJNb2RpZmllcihcInRtXCIsVHJpbU1vZGlmaWVyKSxleHRlbmRQcm90b3R5cGUoU2hhcGVNb2RpZmllcixSb3VuZENvcm5lcnNNb2RpZmllciksUm91bmRDb3JuZXJzTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NLZXlzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWR8fHQpe3RoaXMubWRmPXQ/ITA6ITEsdGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQ7dmFyIGUscz10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IoZT0wO3M+ZTtlKz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMubWRmPSEwKX19LFJvdW5kQ29ybmVyc01vZGlmaWVyLnByb3RvdHlwZS5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQsZSl7dGhpcy5nZXRWYWx1ZT10aGlzLnByb2Nlc3NLZXlzLHRoaXMucmQ9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnIsMCxudWxsLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCEwKX0sUm91bmRDb3JuZXJzTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHM9c2hhcGVfcG9vbC5uZXdTaGFwZSgpO3MuYz10LmM7dmFyIHIsaSxhLG4sbyxoLGwscCxtLGYsYyxkLHUseT10Ll9sZW5ndGgsZz0wO2ZvcihyPTA7eT5yO3IrPTEpaT10LnZbcl0sbj10Lm9bcl0sYT10Lmlbcl0saVswXT09PW5bMF0mJmlbMV09PT1uWzFdJiZpWzBdPT09YVswXSYmaVsxXT09PWFbMV0/MCE9PXImJnIhPT15LTF8fHQuYz8obz0wPT09cj90LnZbeS0xXTp0LnZbci0xXSxoPU1hdGguc3FydChNYXRoLnBvdyhpWzBdLW9bMF0sMikrTWF0aC5wb3coaVsxXS1vWzFdLDIpKSxsPWg/TWF0aC5taW4oaC8yLGUpL2g6MCxwPWQ9aVswXSsob1swXS1pWzBdKSpsLG09dT1pWzFdLShpWzFdLW9bMV0pKmwsZj1wLShwLWlbMF0pKnJvdW5kQ29ybmVyLGM9bS0obS1pWzFdKSpyb3VuZENvcm5lcixzLnNldFRyaXBsZUF0KHAsbSxmLGMsZCx1LGcpLGcrPTEsbz1yPT09eS0xP3QudlswXTp0LnZbcisxXSxoPU1hdGguc3FydChNYXRoLnBvdyhpWzBdLW9bMF0sMikrTWF0aC5wb3coaVsxXS1vWzFdLDIpKSxsPWg/TWF0aC5taW4oaC8yLGUpL2g6MCxwPWY9aVswXSsob1swXS1pWzBdKSpsLG09Yz1pWzFdKyhvWzFdLWlbMV0pKmwsZD1wLShwLWlbMF0pKnJvdW5kQ29ybmVyLHU9bS0obS1pWzFdKSpyb3VuZENvcm5lcixzLnNldFRyaXBsZUF0KHAsbSxmLGMsZCx1LGcpLGcrPTEpOihzLnNldFRyaXBsZUF0KGlbMF0saVsxXSxuWzBdLG5bMV0sYVswXSxhWzFdLGcpLGcrPTEpOihzLnNldFRyaXBsZUF0KHQudltyXVswXSx0LnZbcl1bMV0sdC5vW3JdWzBdLHQub1tyXVsxXSx0Lmlbcl1bMF0sdC5pW3JdWzFdLGcpLGcrPTEpO3JldHVybiBzfSxSb3VuZENvcm5lcnNNb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc1NoYXBlcz1mdW5jdGlvbih0KXt2YXIgZSxzLHIsaSxhPXRoaXMuc2hhcGVzLmxlbmd0aCxuPXRoaXMucmQudjtpZigwIT09bil7dmFyIG8saCxsO2ZvcihzPTA7YT5zO3MrPTEpe2lmKG89dGhpcy5zaGFwZXNbc10saD1vLnNoYXBlLnBhdGhzLGw9by5sb2NhbFNoYXBlQ29sbGVjdGlvbixvLnNoYXBlLm1kZnx8dGhpcy5tZGZ8fHQpZm9yKGwucmVsZWFzZVNoYXBlcygpLG8uc2hhcGUubWRmPSEwLGU9by5zaGFwZS5wYXRocy5zaGFwZXMsaT1vLnNoYXBlLnBhdGhzLl9sZW5ndGgscj0wO2k+cjtyKz0xKWwuYWRkU2hhcGUodGhpcy5wcm9jZXNzUGF0aChlW3JdLG4pKTtvLnNoYXBlLnBhdGhzPW8ubG9jYWxTaGFwZUNvbGxlY3Rpb259fXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHwodGhpcy5tZGY9ITEpfSxTaGFwZU1vZGlmaWVycy5yZWdpc3Rlck1vZGlmaWVyKFwicmRcIixSb3VuZENvcm5lcnNNb2RpZmllciksUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc0tleXM9ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZHx8dCl7dGhpcy5tZGY9dD8hMDohMTt2YXIgZSxzPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cz5lO2UrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5nZXRWYWx1ZSgpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0ubWRmJiYodGhpcy5tZGY9ITApfX0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbih0LGUpe3RoaXMuZ2V0VmFsdWU9dGhpcy5wcm9jZXNzS2V5cyx0aGlzLmM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLmMsMCxudWxsLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUubywwLG51bGwsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy50cj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUudHIsMixudWxsLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZGF0YT1lLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCEwKSx0aGlzLnBNYXRyaXg9bmV3IE1hdHJpeCx0aGlzLnJNYXRyaXg9bmV3IE1hdHJpeCx0aGlzLnNNYXRyaXg9bmV3IE1hdHJpeCx0aGlzLnRNYXRyaXg9bmV3IE1hdHJpeCx0aGlzLm1hdHJpeD1uZXcgTWF0cml4fSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybXM9ZnVuY3Rpb24odCxlLHMscixpLGEpe3ZhciBuPWE/LTE6MSxvPXIucy52WzBdKygxLXIucy52WzBdKSooMS1pKSxoPXIucy52WzFdKygxLXIucy52WzFdKSooMS1pKTt0LnRyYW5zbGF0ZShyLnAudlswXSpuKmksci5wLnZbMV0qbippLHIucC52WzJdKSxlLnRyYW5zbGF0ZSgtci5hLnZbMF0sLXIuYS52WzFdLHIuYS52WzJdKSxlLnJvdGF0ZSgtci5yLnYqbippKSxlLnRyYW5zbGF0ZShyLmEudlswXSxyLmEudlsxXSxyLmEudlsyXSkscy50cmFuc2xhdGUoLXIuYS52WzBdLC1yLmEudlsxXSxyLmEudlsyXSkscy5zY2FsZShhPzEvbzpvLGE/MS9oOmgpLHMudHJhbnNsYXRlKHIuYS52WzBdLHIuYS52WzFdLHIuYS52WzJdKX0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUscyxyLGkpe3RoaXMuZWxlbT10LHRoaXMuYXJyPWUsdGhpcy5wb3M9cyx0aGlzLmVsZW1zRGF0YT1yLHRoaXMuX2N1cnJlbnRDb3BpZXM9MCx0aGlzLl9lbGVtZW50cz1bXSx0aGlzLl9ncm91cHM9W10sdGhpcy5keW5hbWljUHJvcGVydGllcz1bXSx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzKHQsZVtzXSk7Zm9yKHZhciBhPTA7cz4wOylzLT0xLHRoaXMuX2VsZW1lbnRzLnVuc2hpZnQoZVtzXSksYSs9MTt0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD8odGhpcy5rPSEwLGkucHVzaCh0aGlzKSk6dGhpcy5nZXRWYWx1ZSghMCl9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLnJlc2V0RWxlbWVudHM9ZnVuY3Rpb24odCl7dmFyIGUscz10Lmxlbmd0aDtmb3IoZT0wO3M+ZTtlKz0xKXRbZV0uX3Byb2Nlc3NlZD0hMSxcImdyXCI9PT10W2VdLnR5JiZ0aGlzLnJlc2V0RWxlbWVudHModFtlXS5pdCl9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmNsb25lRWxlbWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9KHQubGVuZ3RoLEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpKTtyZXR1cm4gdGhpcy5yZXNldEVsZW1lbnRzKGUpLGV9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmNoYW5nZUdyb3VwUmVuZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHMscj10Lmxlbmd0aDtmb3Iocz0wO3I+cztzKz0xKXRbc10uX3JlbmRlcj1lLFwiZ3JcIj09PXRbc10udHkmJnRoaXMuY2hhbmdlR3JvdXBSZW5kZXIodFtzXS5pdCxlKX0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc1NoYXBlcz1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkJiYodGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQsdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGh8fHR8fCh0aGlzLm1kZj0hMSksdGhpcy5tZGYpKXt2YXIgZT1NYXRoLmNlaWwodGhpcy5jLnYpO2lmKHRoaXMuX2dyb3Vwcy5sZW5ndGg8ZSl7Zm9yKDt0aGlzLl9ncm91cHMubGVuZ3RoPGU7KXt2YXIgcz17aXQ6dGhpcy5jbG9uZUVsZW1lbnRzKHRoaXMuX2VsZW1lbnRzKSx0eTpcImdyXCJ9O3MuaXQucHVzaCh7YTp7YTowLGl4OjEsazpbMCwwXX0sbm06XCJUcmFuc2Zvcm1cIixvOnthOjAsaXg6NyxrOjEwMH0scDp7YTowLGl4OjIsazpbMCwwXX0scjp7YTowLGl4OjYsazowfSxzOnthOjAsaXg6MyxrOlsxMDAsMTAwXX0sc2E6e2E6MCxpeDo1LGs6MH0sc2s6e2E6MCxpeDo0LGs6MH0sdHk6XCJ0clwifSksdGhpcy5hcnIuc3BsaWNlKDAsMCxzKSx0aGlzLl9ncm91cHMuc3BsaWNlKDAsMCxzKSx0aGlzLl9jdXJyZW50Q29waWVzKz0xfXRoaXMuZWxlbS5yZWxvYWRTaGFwZXMoKX12YXIgcixpLGE9MDtmb3Iocj0wO3I8PXRoaXMuX2dyb3Vwcy5sZW5ndGgtMTtyKz0xKWk9ZT5hLHRoaXMuX2dyb3Vwc1tyXS5fcmVuZGVyPWksdGhpcy5jaGFuZ2VHcm91cFJlbmRlcih0aGlzLl9ncm91cHNbcl0uaXQsaSksYSs9MTt0aGlzLl9jdXJyZW50Q29waWVzPWUsdGhpcy5lbGVtLmZpcnN0RnJhbWU9ITA7dmFyIG49dGhpcy5vLnYsbz1uJTEsaD1uPjA/TWF0aC5mbG9vcihuKTpNYXRoLmNlaWwobiksbD0odGhpcy50ci52LnByb3BzLHRoaXMucE1hdHJpeC5wcm9wcykscD10aGlzLnJNYXRyaXgucHJvcHMsbT10aGlzLnNNYXRyaXgucHJvcHM7dGhpcy5wTWF0cml4LnJlc2V0KCksdGhpcy5yTWF0cml4LnJlc2V0KCksdGhpcy5zTWF0cml4LnJlc2V0KCksdGhpcy50TWF0cml4LnJlc2V0KCksdGhpcy5tYXRyaXgucmVzZXQoKTt2YXIgZj0wO2lmKG4+MCl7Zm9yKDtoPmY7KXRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsMSwhMSksZis9MTtvJiYodGhpcy5hcHBseVRyYW5zZm9ybXModGhpcy5wTWF0cml4LHRoaXMuck1hdHJpeCx0aGlzLnNNYXRyaXgsdGhpcy50cixvLCExKSxmKz1vKX1lbHNlIGlmKDA+bil7Zm9yKDtmPmg7KXRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsMSwhMCksZi09MTtvJiYodGhpcy5hcHBseVRyYW5zZm9ybXModGhpcy5wTWF0cml4LHRoaXMuck1hdHJpeCx0aGlzLnNNYXRyaXgsdGhpcy50ciwtbywhMCksZi09byl9cj0xPT09dGhpcy5kYXRhLm0/MDp0aGlzLl9jdXJyZW50Q29waWVzLTE7dmFyIGM9MT09PXRoaXMuZGF0YS5tPzE6LTE7Zm9yKGE9dGhpcy5fY3VycmVudENvcGllczthOyl7aWYoMCE9PWYpeygwIT09ciYmMT09PWN8fHIhPT10aGlzLl9jdXJyZW50Q29waWVzLTEmJi0xPT09YykmJnRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsMSwhMSksdGhpcy5tYXRyaXgudHJhbnNmb3JtKHBbMF0scFsxXSxwWzJdLHBbM10scFs0XSxwWzVdLHBbNl0scFs3XSxwWzhdLHBbOV0scFsxMF0scFsxMV0scFsxMl0scFsxM10scFsxNF0scFsxNV0pLHRoaXMubWF0cml4LnRyYW5zZm9ybShtWzBdLG1bMV0sbVsyXSxtWzNdLG1bNF0sbVs1XSxtWzZdLG1bN10sbVs4XSxtWzldLG1bMTBdLG1bMTFdLG1bMTJdLG1bMTNdLG1bMTRdLG1bMTVdKSx0aGlzLm1hdHJpeC50cmFuc2Zvcm0obFswXSxsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSxsWzddLGxbOF0sbFs5XSxsWzEwXSxsWzExXSxsWzEyXSxsWzEzXSxsWzE0XSxsWzE1XSk7dmFyIGQsdT10aGlzLmVsZW1zRGF0YVtyXS5pdCx5PXVbdS5sZW5ndGgtMV0udHJhbnNmb3JtLm1Qcm9wcy52LnByb3BzLGc9eS5sZW5ndGg7Zm9yKGQ9MDtnPmQ7ZCs9MSl5W2RdPXRoaXMubWF0cml4LnByb3BzW2RdO3RoaXMubWF0cml4LnJlc2V0KCl9ZWxzZXt0aGlzLm1hdHJpeC5yZXNldCgpO3ZhciBkLHU9dGhpcy5lbGVtc0RhdGFbcl0uaXQseT11W3UubGVuZ3RoLTFdLnRyYW5zZm9ybS5tUHJvcHMudi5wcm9wcyxnPXkubGVuZ3RoO2ZvcihkPTA7Zz5kO2QrPTEpeVtkXT10aGlzLm1hdHJpeC5wcm9wc1tkXX1mKz0xLGEtPTEscis9Y319fSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbigpe30sU2hhcGVNb2RpZmllcnMucmVnaXN0ZXJNb2RpZmllcihcInJwXCIsUmVwZWF0ZXJNb2RpZmllciksU2hhcGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbih0KXt0aGlzLl9sZW5ndGg9PT10aGlzLl9tYXhMZW5ndGgmJih0aGlzLnNoYXBlcz10aGlzLnNoYXBlcy5jb25jYXQoQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMuX21heExlbmd0aH0pKSx0aGlzLl9tYXhMZW5ndGgqPTIpLHRoaXMuc2hhcGVzW3RoaXMuX2xlbmd0aF09dCx0aGlzLl9sZW5ndGgrPTF9LFNoYXBlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVsZWFzZVNoYXBlcz1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLl9sZW5ndGg7dCs9MSlzaGFwZV9wb29sLnJlbGVhc2UodGhpcy5zaGFwZXNbdF0pO3RoaXMuX2xlbmd0aD0wfTt2YXIgSW1hZ2VQcmVsb2FkZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5sb2FkZWRBc3NldHMrPTEsdGhpcy5sb2FkZWRBc3NldHM9PT10aGlzLnRvdGFsSW1hZ2VzfWZ1bmN0aW9uIGUodCl7dmFyIGU9XCJcIjtpZih0aGlzLmFzc2V0c1BhdGgpe3ZhciBzPXQucDstMSE9PXMuaW5kZXhPZihcImltYWdlcy9cIikmJihzPXMuc3BsaXQoXCIvXCIpWzFdKSxlPXRoaXMuYXNzZXRzUGF0aCtzfWVsc2UgZT10aGlzLnBhdGgsZSs9dC51P3QudTpcIlwiLGUrPXQucDtyZXR1cm4gZX1mdW5jdGlvbiBzKGUpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7cy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHQuYmluZCh0aGlzKSwhMSkscy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0LmJpbmQodGhpcyksITEpLHMuc3JjPWV9ZnVuY3Rpb24gcih0KXt0aGlzLnRvdGFsQXNzZXRzPXQubGVuZ3RoO3ZhciByO2ZvcihyPTA7cjx0aGlzLnRvdGFsQXNzZXRzO3IrPTEpdFtyXS5sYXllcnN8fChzLmJpbmQodGhpcykoZS5iaW5kKHRoaXMpKHRbcl0pKSx0aGlzLnRvdGFsSW1hZ2VzKz0xKX1mdW5jdGlvbiBpKHQpe3RoaXMucGF0aD10fHxcIlwifWZ1bmN0aW9uIGEodCl7dGhpcy5hc3NldHNQYXRoPXR8fFwiXCJ9cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5sb2FkQXNzZXRzPXIsdGhpcy5zZXRBc3NldHNQYXRoPWEsdGhpcy5zZXRQYXRoPWksdGhpcy5hc3NldHNQYXRoPVwiXCIsdGhpcy5wYXRoPVwiXCIsdGhpcy50b3RhbEFzc2V0cz0wLHRoaXMudG90YWxJbWFnZXM9MCx0aGlzLmxvYWRlZEFzc2V0cz0wfX0oKSxmZWF0dXJlU3VwcG9ydD1mdW5jdGlvbigpe3ZhciB0PXttYXNrVHlwZTohMH07cmV0dXJuKC9NU0lFIDEwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L01TSUUgOS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9ydjoxMS4wL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L0VkZ2VcXC9cXGQuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkmJih0Lm1hc2tUeXBlPSExKSx0fSgpLGZpbHRlcnNGYWN0b3J5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmaWx0ZXJcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwiaWRcIix0KSxlLnNldEF0dHJpYnV0ZShcImZpbHRlclVuaXRzXCIsXCJvYmplY3RCb3VuZGluZ0JveFwiKSxlLnNldEF0dHJpYnV0ZShcInhcIixcIjAlXCIpLGUuc2V0QXR0cmlidXRlKFwieVwiLFwiMCVcIiksZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiMTAwJVwiKSxlLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMTAwJVwiKSxlfWZ1bmN0aW9uIGUoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZUNvbG9yTWF0cml4XCIpO3JldHVybiB0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSx0LnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSx0LnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMCAwIDAgMSAwICAwIDAgMCAxIDAgIDAgMCAwIDEgMCAgMCAwIDAgMSAxXCIpLHR9dmFyIHM9e307cmV0dXJuIHMuY3JlYXRlRmlsdGVyPXQscy5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyPWUsc30oKSxwb29saW5nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdC5jb25jYXQoQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnQubGVuZ3RofSkpfXJldHVybntcImRvdWJsZVwiOnR9fSgpLHBvaW50X3Bvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ7cmV0dXJuIHI/KHItPTEsdD1hW3JdKTp0PVsuMSwuMV0sdH1mdW5jdGlvbiBlKHQpe3I9PT1pJiYoYT1wb29saW5nW1wiZG91YmxlXCJdKGEpLGk9MippKSxhW3JdPXQscis9MX12YXIgcz17bmV3UG9pbnQ6dCxyZWxlYXNlOmV9LHI9MCxpPTgsYT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6aX0pO3JldHVybiBzfSgpLHNoYXBlX3Bvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ7cmV0dXJuIGE/KGEtPTEsdD1vW2FdKTp0PW5ldyBTaGFwZVBhdGgsdH1mdW5jdGlvbiBlKHQpe2E9PT1uJiYobz1wb29saW5nW1wiZG91YmxlXCJdKG8pLG49MipuKTt2YXIgZSxzPXQuX2xlbmd0aDtmb3IoZT0wO3M+ZTtlKz0xKXBvaW50X3Bvb2wucmVsZWFzZSh0LnZbZV0pLHBvaW50X3Bvb2wucmVsZWFzZSh0LmlbZV0pLHBvaW50X3Bvb2wucmVsZWFzZSh0Lm9bZV0pLHQudltlXT1udWxsLHQuaVtlXT1udWxsLHQub1tlXT1udWxsO3QuX2xlbmd0aD0wLHQuYz0hMSxvW2FdPXQsYSs9MX1mdW5jdGlvbiBzKHQscyl7Zm9yKDtzLS07KWUodFtzXSl9ZnVuY3Rpb24gcihlLHMpe3ZhciByLGk9ZS5fbGVuZ3RoLGE9dCgpO2EuX2xlbmd0aD1lLl9sZW5ndGgsYS5jPWUuYzt2YXIgbjtmb3Iocj0wO2k+cjtyKz0xKXM/KG49cy5hcHBseVRvUG9pbnRBcnJheShlLnZbcl1bMF0sZS52W3JdWzFdLDAsMiksYS5zZXRYWUF0KG5bMF0sblsxXSxcInZcIixyKSxwb2ludF9wb29sLnJlbGVhc2Uobiksbj1zLmFwcGx5VG9Qb2ludEFycmF5KGUub1tyXVswXSxlLm9bcl1bMV0sMCwyKSxhLnNldFhZQXQoblswXSxuWzFdLFwib1wiLHIpLHBvaW50X3Bvb2wucmVsZWFzZShuKSxuPXMuYXBwbHlUb1BvaW50QXJyYXkoZS5pW3JdWzBdLGUuaVtyXVsxXSwwLDIpLGEuc2V0WFlBdChuWzBdLG5bMV0sXCJpXCIscikscG9pbnRfcG9vbC5yZWxlYXNlKG4pKTphLnNldFRyaXBsZUF0KGUudltyXVswXSxlLnZbcl1bMV0sZS5vW3JdWzBdLGUub1tyXVsxXSxlLmlbcl1bMF0sZS5pW3JdWzFdLHIpO3JldHVybiBhfXZhciBpPXtjbG9uZTpyLG5ld1NoYXBlOnQscmVsZWFzZTplLHJlbGVhc2VBcnJheTpzfSxhPTAsbj00LG89QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOm59KTtyZXR1cm4gaX0oKSxzaGFwZUNvbGxlY3Rpb25fcG9vbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdDtyZXR1cm4gaT8oaS09MSx0PW5baV0pOnQ9bmV3IFNoYXBlQ29sbGVjdGlvbix0fWZ1bmN0aW9uIGUodCl7dmFyIGUscz10Ll9sZW5ndGg7Zm9yKGU9MDtzPmU7ZSs9MSlzaGFwZV9wb29sLnJlbGVhc2UodC5zaGFwZXNbZV0pO3QuX2xlbmd0aD0wLGk9PT1hJiYobj1wb29saW5nW1wiZG91YmxlXCJdKG4pLGE9MiphKSxuW2ldPXQsaSs9MX1mdW5jdGlvbiBzKHQscyl7ZSh0KSxpPT09YSYmKG49cG9vbGluZ1tcImRvdWJsZVwiXShuKSxhPTIqYSksbltpXT10LGkrPTF9dmFyIHI9e25ld1NoYXBlQ29sbGVjdGlvbjp0LHJlbGVhc2U6ZSxjbG9uZTpzfSxpPTAsYT00LG49QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOmF9KTtyZXR1cm4gcn0oKTtCYXNlUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrTGF5ZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLHMscj10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnM9ITAsZT1yLTE7ZT49MDtlLS0pdGhpcy5lbGVtZW50c1tlXXx8KHM9dGhpcy5sYXllcnNbZV0scy5pcC1zLnN0PD10LXRoaXMubGF5ZXJzW2VdLnN0JiZzLm9wLXMuc3Q+dC10aGlzLmxheWVyc1tlXS5zdCYmdGhpcy5idWlsZEl0ZW0oZSkpLHRoaXMuY29tcGxldGVMYXllcnM9dGhpcy5lbGVtZW50c1tlXT90aGlzLmNvbXBsZXRlTGF5ZXJzOiExO3RoaXMuY2hlY2tQZW5kaW5nRWxlbWVudHMoKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5KXtjYXNlIDI6cmV0dXJuIHRoaXMuY3JlYXRlSW1hZ2UodCk7Y2FzZSAwOnJldHVybiB0aGlzLmNyZWF0ZUNvbXAodCk7Y2FzZSAxOnJldHVybiB0aGlzLmNyZWF0ZVNvbGlkKHQpO2Nhc2UgNDpyZXR1cm4gdGhpcy5jcmVhdGVTaGFwZSh0KTtjYXNlIDU6cmV0dXJuIHRoaXMuY3JlYXRlVGV4dCh0KTtjYXNlIDEzOnJldHVybiB0aGlzLmNyZWF0ZUNhbWVyYSh0KTtjYXNlIDk5OnJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUJhc2UodCl9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiWW91J3JlIHVzaW5nIGEgM2QgY2FtZXJhLiBUcnkgdGhlIGh0bWwgcmVuZGVyZXIuXCIpfSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkQWxsSXRlbXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMubGF5ZXJzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuYnVpbGRJdGVtKHQpO3RoaXMuY2hlY2tQZW5kaW5nRWxlbWVudHMoKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5pbmNsdWRlTGF5ZXJzPWZ1bmN0aW9uKHQpe3RoaXMuY29tcGxldGVMYXllcnM9ITE7dmFyIGUscyxyPXQubGVuZ3RoLGk9dGhpcy5sYXllcnMubGVuZ3RoO2ZvcihlPTA7cj5lO2UrPTEpZm9yKHM9MDtpPnM7KXtpZih0aGlzLmxheWVyc1tzXS5pZD09dFtlXS5pZCl7dGhpcy5sYXllcnNbc109dFtlXTticmVha31zKz0xfX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRQcm9qZWN0SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3RoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlPXR9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuaW5pdEl0ZW1zPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxEYXRhLnByb2dyZXNzaXZlTG9hZHx8dGhpcy5idWlsZEFsbEl0ZW1zKCl9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPWZ1bmN0aW9uKHQsZSxzKXtzPXN8fFtdO2Zvcih2YXIgcj10aGlzLmVsZW1lbnRzLGk9dGhpcy5sYXllcnMsYT0wLG49aS5sZW5ndGg7bj5hOylpW2FdLmluZD09ZSYmKHJbYV0mJnJbYV0hPT0hMD92b2lkIDAhPT1pW2FdLnBhcmVudD8ocy5wdXNoKHJbYV0pLHJbYV0uX2lzUGFyZW50PSEwLHRoaXMuYnVpbGRFbGVtZW50UGFyZW50aW5nKHQsaVthXS5wYXJlbnQscykpOihzLnB1c2goclthXSksclthXS5faXNQYXJlbnQ9ITAsdC5zZXRIaWVyYXJjaHkocykpOih0aGlzLmJ1aWxkSXRlbShhKSx0aGlzLmFkZFBlbmRpbmdFbGVtZW50KHQpKSksYSs9MX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudD1mdW5jdGlvbih0KXt0aGlzLnBlbmRpbmdFbGVtZW50cy5wdXNoKHQpfSxleHRlbmRQcm90b3R5cGUoQmFzZVJlbmRlcmVyLFNWR1JlbmRlcmVyKSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNWR0Jhc2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJU2hhcGVFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNWR1RleHRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJSW1hZ2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29tcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IElDb21wRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSVNvbGlkRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmNvbmZpZ0FuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLmxheWVyRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIiksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwieG1sbnNcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdC53KSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0LmgpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixcIjAgMCBcIit0LncrXCIgXCIrdC5oKSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsdGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpbyksdGhpcy5sYXllckVsZW1lbnQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5sYXllckVsZW1lbnQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJkZWZzXCIpO3RoaXMuZ2xvYmFsRGF0YS5kZWZzPWUsdGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQoZSksdGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0RGF0YT10aGlzLmFuaW1hdGlvbkl0ZW0uZ2V0QXNzZXREYXRhLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXRzUGF0aD10aGlzLmFuaW1hdGlvbkl0ZW0uZ2V0QXNzZXRzUGF0aC5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLnByb2dyZXNzaXZlTG9hZD10aGlzLnJlbmRlckNvbmZpZy5wcm9ncmVzc2l2ZUxvYWQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQ9MCx0aGlzLmdsb2JhbERhdGEubm09dC5ubSx0aGlzLmdsb2JhbERhdGEuY29tcFNpemU9e3c6dC53LGg6dC5ofSx0aGlzLmRhdGE9dCx0aGlzLmdsb2JhbERhdGEuZnJhbWVSYXRlPXQuZnI7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiY2xpcFBhdGhcIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJyZWN0XCIpO3Iuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0LncpLHIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdC5oKSxyLnNldEF0dHJpYnV0ZShcInhcIiwwKSxyLnNldEF0dHJpYnV0ZShcInlcIiwwKTt2YXIgaT1cImFuaW1hdGlvbk1hc2tfXCIrcmFuZG9tU3RyaW5nKDEwKTtzLnNldEF0dHJpYnV0ZShcImlkXCIsaSkscy5hcHBlbmRDaGlsZChyKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2Euc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsXCJ1cmwoI1wiK2krXCIpXCIpLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKGEpLGUuYXBwZW5kQ2hpbGQocyksdGhpcy5sYXllckVsZW1lbnQ9YSx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxlKSx0aGlzLmVsZW1lbnRzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0LmxheWVycy5sZW5ndGh9KX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLmxheWVyRWxlbWVudD1udWxsLHRoaXMuZ2xvYmFsRGF0YS5kZWZzPW51bGw7dmFyIHQsZT10aGlzLmxheWVycz90aGlzLmxheWVycy5sZW5ndGg6MDtmb3IodD0wO2U+dDt0KyspdGhpcy5lbGVtZW50c1t0XSYmdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCk7dGhpcy5lbGVtZW50cy5sZW5ndGg9MCx0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLmFuaW1hdGlvbkl0ZW09bnVsbH0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXt9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cztpZighZVt0XSYmOTkhPXRoaXMubGF5ZXJzW3RdLnR5KXtlW3RdPSEwO3ZhciBzPXRoaXMuY3JlYXRlSXRlbSh0aGlzLmxheWVyc1t0XSk7ZVt0XT1zLGV4cHJlc3Npb25zUGx1Z2luJiYoMD09PXRoaXMubGF5ZXJzW3RdLnR5JiZ0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKHMpLHMuaW5pdEV4cHJlc3Npb25zKCkpLHRoaXMuYXBwZW5kRWxlbWVudEluUG9zKHMsdCksdGhpcy5sYXllcnNbdF0udHQmJih0aGlzLmVsZW1lbnRzW3QtMV0mJnRoaXMuZWxlbWVudHNbdC0xXSE9PSEwP3Muc2V0TWF0dGUoZVt0LTFdLmxheWVySWQpOih0aGlzLmJ1aWxkSXRlbSh0LTEpLHRoaXMuYWRkUGVuZGluZ0VsZW1lbnQocykpKX19LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BlbmRpbmdFbGVtZW50cz1mdW5jdGlvbigpe2Zvcig7dGhpcy5wZW5kaW5nRWxlbWVudHMubGVuZ3RoOyl7dmFyIHQ9dGhpcy5wZW5kaW5nRWxlbWVudHMucG9wKCk7aWYodC5jaGVja1BhcmVudGluZygpLHQuZGF0YS50dClmb3IodmFyIGU9MCxzPXRoaXMuZWxlbWVudHMubGVuZ3RoO3M+ZTspe2lmKHRoaXMuZWxlbWVudHNbZV09PT10KXt0LnNldE1hdHRlKHRoaXMuZWxlbWVudHNbZS0xXS5sYXllcklkKTticmVha31lKz0xfX19LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLnJlbmRlcmVkRnJhbWUhPXQmJiF0aGlzLmRlc3Ryb3llZCl7bnVsbD09PXQ/dD10aGlzLnJlbmRlcmVkRnJhbWU6dGhpcy5yZW5kZXJlZEZyYW1lPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lTnVtPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQrPTEsdGhpcy5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuY3VycmVudEZyYW1lPXQ7dmFyIGUscz10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuY2hlY2tMYXllcnModCksZT1zLTE7ZT49MDtlLS0pKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnByZXBhcmVGcmFtZSh0LXRoaXMubGF5ZXJzW2VdLnN0KTtmb3IoZT1zLTE7ZT49MDtlLS0pKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCl9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5nZXRCYXNlRWxlbWVudCgpO2lmKHMpe2Zvcih2YXIgcixpPTA7ZT5pOyl0aGlzLmVsZW1lbnRzW2ldJiZ0aGlzLmVsZW1lbnRzW2ldIT09ITAmJnRoaXMuZWxlbWVudHNbaV0uZ2V0QmFzZUVsZW1lbnQoKSYmKHI9dGhpcy5lbGVtZW50c1tpXS5nZXRCYXNlRWxlbWVudCgpKSxpKz0xO3I/dGhpcy5sYXllckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHMscik6dGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQocyl9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5sYXllckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5zZWFyY2hFeHRyYUNvbXBvc2l0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxzPXQubGVuZ3RoLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtmb3IoZT0wO3M+ZTtlKz0xKWlmKHRbZV0ueHQpe3ZhciBpPXRoaXMuY3JlYXRlQ29tcCh0W2VdLHIsdGhpcy5nbG9iYWxEYXRhLmNvbXAsbnVsbCk7aS5pbml0RXhwcmVzc2lvbnMoKSx0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKGkpfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3RGF0YVt0XS5wcm9wfSxNYXNrRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKX0sTWFza0VsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHM9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cz5lO2UrKylpZigodGhpcy52aWV3RGF0YVtlXS5wcm9wLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmdGhpcy5kcmF3UGF0aCh0aGlzLm1hc2tzUHJvcGVydGllc1tlXSx0aGlzLnZpZXdEYXRhW2VdLnByb3Audix0aGlzLnZpZXdEYXRhW2VdKSwodGhpcy52aWV3RGF0YVtlXS5vcC5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJnRoaXMudmlld0RhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWxsLW9wYWNpdHlcIix0aGlzLnZpZXdEYXRhW2VdLm9wLnYpLFwiblwiIT09dGhpcy5tYXNrc1Byb3BlcnRpZXNbZV0ubW9kZSYmKHRoaXMudmlld0RhdGFbZV0uaW52UmVjdCYmKHRoaXMuZWxlbWVudC5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJih0aGlzLnZpZXdEYXRhW2VdLmludlJlY3Quc2V0QXR0cmlidXRlKFwieFwiLC10LnByb3BzWzEyXSksdGhpcy52aWV3RGF0YVtlXS5pbnZSZWN0LnNldEF0dHJpYnV0ZShcInlcIiwtdC5wcm9wc1sxM10pKSx0aGlzLnN0b3JlZERhdGFbZV0ueCYmKHRoaXMuc3RvcmVkRGF0YVtlXS54Lm1kZnx8dGhpcy5maXJzdEZyYW1lKSkpe3ZhciByPXRoaXMuc3RvcmVkRGF0YVtlXS5leHBhbjt0aGlzLnN0b3JlZERhdGFbZV0ueC52PDA/KFwiZXJvZGVcIiE9PXRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3ImJih0aGlzLnN0b3JlZERhdGFbZV0ubGFzdE9wZXJhdG9yPVwiZXJvZGVcIix0aGlzLnN0b3JlZERhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybCgjXCIrdGhpcy5zdG9yZWREYXRhW2VdLmZpbHRlcklkK1wiKVwiKSksci5zZXRBdHRyaWJ1dGUoXCJyYWRpdXNcIiwtdGhpcy5zdG9yZWREYXRhW2VdLngudikpOihcImRpbGF0ZVwiIT09dGhpcy5zdG9yZWREYXRhW2VdLmxhc3RPcGVyYXRvciYmKHRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3I9XCJkaWxhdGVcIix0aGlzLnN0b3JlZERhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixudWxsKSksdGhpcy5zdG9yZWREYXRhW2VdLmVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsMip0aGlzLnN0b3JlZERhdGFbZV0ueC52KSl9dGhpcy5maXJzdEZyYW1lPSExfSxNYXNrRWxlbWVudC5wcm90b3R5cGUuZ2V0TWFza2VsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXNrRWxlbWVudH0sTWFza0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUxheWVyU29saWRQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9XCJNMCwwIFwiO3JldHVybiB0Kz1cIiBoXCIrdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncsdCs9XCIgdlwiK3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLHQrPVwiIGgtXCIrdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncsdCs9XCIgdi1cIit0aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCtcIiBcIn0sTWFza0VsZW1lbnQucHJvdG90eXBlLmRyYXdQYXRoPWZ1bmN0aW9uKHQsZSxzKXt2YXIgcixpLGE9XCIgTVwiK2UudlswXVswXStcIixcIitlLnZbMF1bMV07Zm9yKGk9ZS5fbGVuZ3RoLHI9MTtpPnI7cis9MSlhKz1cIiBDXCIrYm1fcm5kKGUub1tyLTFdWzBdKStcIixcIitibV9ybmQoZS5vW3ItMV1bMV0pK1wiIFwiK2JtX3JuZChlLmlbcl1bMF0pK1wiLFwiK2JtX3JuZChlLmlbcl1bMV0pK1wiIFwiK2JtX3JuZChlLnZbcl1bMF0pK1wiLFwiK2JtX3JuZChlLnZbcl1bMV0pO2UuYyYmaT4xJiYoYSs9XCIgQ1wiK2JtX3JuZChlLm9bci0xXVswXSkrXCIsXCIrYm1fcm5kKGUub1tyLTFdWzFdKStcIiBcIitibV9ybmQoZS5pWzBdWzBdKStcIixcIitibV9ybmQoZS5pWzBdWzFdKStcIiBcIitibV9ybmQoZS52WzBdWzBdKStcIixcIitibV9ybmQoZS52WzBdWzFdKSkscy5sYXN0UGF0aCE9PWEmJihzLmVsZW0mJihlLmM/dC5pbnY/cy5lbGVtLnNldEF0dHJpYnV0ZShcImRcIix0aGlzLnNvbGlkUGF0aCthKTpzLmVsZW0uc2V0QXR0cmlidXRlKFwiZFwiLGEpOnMuZWxlbS5zZXRBdHRyaWJ1dGUoXCJkXCIsXCJcIikpLHMubGFzdFBhdGg9YSl9LE1hc2tFbGVtZW50LnByb3RvdHlwZS5nZXRNYXNrPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHM9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO3M+ZTspe2lmKHRoaXMubWFza3NQcm9wZXJ0aWVzW2VdLm5tPT09dClyZXR1cm57bWFza1BhdGg6dGhpcy52aWV3RGF0YVtlXS5wcm9wLnB2fTtlKz0xfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmdsb2JhbERhdGE9bnVsbCx0aGlzLm1hc2tFbGVtZW50PW51bGwsdGhpcy5kYXRhPW51bGwsdGhpcy5wYXRocz1udWxsLHRoaXMubWFza3NQcm9wZXJ0aWVzPW51bGx9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5jaGVja01hc2tzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF0YS5oYXNNYXNrKXJldHVybiExO2Zvcih2YXIgdD0wLGU9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcy5sZW5ndGg7ZT50Oyl7aWYoXCJuXCIhPT10aGlzLmRhdGEubWFza3NQcm9wZXJ0aWVzW3RdLm1vZGUmJnRoaXMuZGF0YS5tYXNrc1Byb3BlcnRpZXNbdF0uY2whPT0hMSlyZXR1cm4hMDtcblxudCs9MX1yZXR1cm4hMX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmNoZWNrUGFyZW50aW5nPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5kYXRhLnBhcmVudCYmdGhpcy5jb21wLmJ1aWxkRWxlbWVudFBhcmVudGluZyh0aGlzLHRoaXMuZGF0YS5wYXJlbnQpfSxCYXNlRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5pcC10aGlzLmRhdGEuc3Q8PXQmJnRoaXMuZGF0YS5vcC10aGlzLmRhdGEuc3Q+dD90aGlzLmlzVmlzaWJsZSE9PSEwJiYodGhpcy5lbGVtTWRmPSEwLHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITAsdGhpcy5pc1Zpc2libGU9ITAsdGhpcy5maXJzdEZyYW1lPSEwLHRoaXMuZGF0YS5oYXNNYXNrJiYodGhpcy5tYXNrTWFuYWdlci5maXJzdEZyYW1lPSEwKSk6dGhpcy5pc1Zpc2libGUhPT0hMSYmKHRoaXMuZWxlbU1kZj0hMCx0aGlzLmdsb2JhbERhdGEubWRmPSEwLHRoaXMuaXNWaXNpYmxlPSExKTt2YXIgZSxzPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cz5lO2UrPTEpKHRoaXMuaXNWaXNpYmxlfHx0aGlzLl9pc1BhcmVudCYmXCJ0cmFuc2Zvcm1cIj09PXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0udHlwZSkmJih0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLmVsZW1NZGY9ITAsdGhpcy5nbG9iYWxEYXRhLm1kZj0hMCkpO3JldHVybiB0aGlzLmRhdGEuaGFzTWFzayYmdGhpcy5pc1Zpc2libGUmJnRoaXMubWFza01hbmFnZXIucHJlcGFyZUZyYW1lKHQqdGhpcy5kYXRhLnNyKSx0aGlzLmN1cnJlbnRGcmFtZU51bT10KnRoaXMuZGF0YS5zcix0aGlzLmlzVmlzaWJsZX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmdsb2JhbFRvTG9jYWw9ZnVuY3Rpb24odCl7dmFyIGU9W107ZS5wdXNoKHRoaXMuZmluYWxUcmFuc2Zvcm0pO2Zvcih2YXIgcz0hMCxyPXRoaXMuY29tcDtzOylyLmZpbmFsVHJhbnNmb3JtPyhyLmRhdGEuaGFzTWFzayYmZS5zcGxpY2UoMCwwLHIuZmluYWxUcmFuc2Zvcm0pLHI9ci5jb21wKTpzPSExO3ZhciBpLGEsbj1lLmxlbmd0aDtmb3IoaT0wO24+aTtpKz0xKWE9ZVtpXS5tYXQuYXBwbHlUb1BvaW50QXJyYXkoMCwwLDApLHQ9W3RbMF0tYVswXSx0WzFdLWFbMV0sMF07cmV0dXJuIHR9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5pbml0RXhwcmVzc2lvbnM9ZnVuY3Rpb24oKXt0aGlzLmxheWVySW50ZXJmYWNlPUxheWVyRXhwcmVzc2lvbkludGVyZmFjZSh0aGlzKSx0aGlzLmRhdGEuaGFzTWFzayYmdGhpcy5sYXllckludGVyZmFjZS5yZWdpc3Rlck1hc2tJbnRlcmZhY2UodGhpcy5tYXNrTWFuYWdlcik7dmFyIHQ9RWZmZWN0c0V4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlRWZmZWN0c0ludGVyZmFjZSh0aGlzLHRoaXMubGF5ZXJJbnRlcmZhY2UpO3RoaXMubGF5ZXJJbnRlcmZhY2UucmVnaXN0ZXJFZmZlY3RzSW50ZXJmYWNlKHQpLDA9PT10aGlzLmRhdGEudHl8fHRoaXMuZGF0YS54dD90aGlzLmNvbXBJbnRlcmZhY2U9Q29tcEV4cHJlc3Npb25JbnRlcmZhY2UodGhpcyk6ND09PXRoaXMuZGF0YS50eT90aGlzLmxheWVySW50ZXJmYWNlLnNoYXBlSW50ZXJmYWNlPVNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVTaGFwZUludGVyZmFjZSh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5sYXllckludGVyZmFjZSk6NT09PXRoaXMuZGF0YS50eSYmKHRoaXMubGF5ZXJJbnRlcmZhY2UudGV4dEludGVyZmFjZT1UZXh0RXhwcmVzc2lvbkludGVyZmFjZSh0aGlzKSl9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24oKXt2YXIgdD1cIlwiO3N3aXRjaCh0aGlzLmRhdGEuYm0pe2Nhc2UgMTp0PVwibXVsdGlwbHlcIjticmVhaztjYXNlIDI6dD1cInNjcmVlblwiO2JyZWFrO2Nhc2UgMzp0PVwib3ZlcmxheVwiO2JyZWFrO2Nhc2UgNDp0PVwiZGFya2VuXCI7YnJlYWs7Y2FzZSA1OnQ9XCJsaWdodGVuXCI7YnJlYWs7Y2FzZSA2OnQ9XCJjb2xvci1kb2RnZVwiO2JyZWFrO2Nhc2UgNzp0PVwiY29sb3ItYnVyblwiO2JyZWFrO2Nhc2UgODp0PVwiaGFyZC1saWdodFwiO2JyZWFrO2Nhc2UgOTp0PVwic29mdC1saWdodFwiO2JyZWFrO2Nhc2UgMTA6dD1cImRpZmZlcmVuY2VcIjticmVhaztjYXNlIDExOnQ9XCJleGNsdXNpb25cIjticmVhaztjYXNlIDEyOnQ9XCJodWVcIjticmVhaztjYXNlIDEzOnQ9XCJzYXR1cmF0aW9uXCI7YnJlYWs7Y2FzZSAxNDp0PVwiY29sb3JcIjticmVhaztjYXNlIDE1OnQ9XCJsdW1pbm9zaXR5XCJ9dmFyIGU9dGhpcy5iYXNlRWxlbWVudHx8dGhpcy5sYXllckVsZW1lbnQ7ZS5zdHlsZVtcIm1peC1ibGVuZC1tb2RlXCJdPXR9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5kYXRhLnNyfHwodGhpcy5kYXRhLnNyPTEpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5kYXRhLmVmJiYodGhpcy5lZmZlY3RzPW5ldyBFZmZlY3RzTWFuYWdlcih0aGlzLmRhdGEsdGhpcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksdGhpcy5oaWRkZW49ITEsdGhpcy5maXJzdEZyYW1lPSEwLHRoaXMuaXNWaXNpYmxlPSExLHRoaXMuX2lzUGFyZW50PSExLHRoaXMuY3VycmVudEZyYW1lTnVtPS05OTk5OSx0aGlzLmxhc3ROdW09LTk5OTk5LHRoaXMuZGF0YS5rcyYmKHRoaXMuZmluYWxUcmFuc2Zvcm09e21Qcm9wOlByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdGhpcy5kYXRhLmtzLDIsbnVsbCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSxtYXRNZGY6ITEsb3BNZGY6ITEsbWF0Om5ldyBNYXRyaXgsb3BhY2l0eToxfSx0aGlzLmRhdGEuYW8mJih0aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmF1dG9PcmllbnRlZD0hMCksdGhpcy5maW5hbFRyYW5zZm9ybS5vcD10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLm8sdGhpcy50cmFuc2Zvcm09dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcCwxMSE9PXRoaXMuZGF0YS50eSYmdGhpcy5jcmVhdGVFbGVtZW50cygpLHRoaXMuZGF0YS5oYXNNYXNrJiZ0aGlzLmFkZE1hc2tzKHRoaXMuZGF0YSkpLHRoaXMuZWxlbU1kZj0hMX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlfSxCYXNlRWxlbWVudC5wcm90b3R5cGUucmVzZXRIaWVyYXJjaHk9ZnVuY3Rpb24oKXt0aGlzLmhpZXJhcmNoeT90aGlzLmhpZXJhcmNoeS5sZW5ndGg9MDp0aGlzLmhpZXJhcmNoeT1bXX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmdldEhpZXJhcmNoeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZXJhcmNoeXx8KHRoaXMuaGllcmFyY2h5PVtdKSx0aGlzLmhpZXJhcmNoeX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLnNldEhpZXJhcmNoeT1mdW5jdGlvbih0KXt0aGlzLmhpZXJhcmNoeT10fSxCYXNlRWxlbWVudC5wcm90b3R5cGUuZ2V0TGF5ZXJTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDU9PT10aGlzLmRhdGEudHk/e3c6dGhpcy5kYXRhLnRleHREYXRhLndpZHRoLGg6dGhpcy5kYXRhLnRleHREYXRhLmhlaWdodH06e3c6dGhpcy5kYXRhLndpZHRoLGg6dGhpcy5kYXRhLmhlaWdodH19LEJhc2VFbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7fSxCYXNlRWxlbWVudC5wcm90b3R5cGUubUhlbHBlcj1uZXcgTWF0cml4LGNyZWF0ZUVsZW1lbnQoQmFzZUVsZW1lbnQsU1ZHQmFzZUVsZW1lbnQpLFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIiksdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQsdGhpcy5kYXRhLmhhc01hc2smJih0aGlzLm1hc2tlZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQpO3ZhciB0PW51bGw7aWYodGhpcy5kYXRhLnRkKXtpZigzPT10aGlzLmRhdGEudGR8fDE9PXRoaXMuZGF0YS50ZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwibWFza1wiKTtpZihlLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5sYXllcklkKSxlLnNldEF0dHJpYnV0ZShcIm1hc2stdHlwZVwiLDM9PXRoaXMuZGF0YS50ZD9cImx1bWluYW5jZVwiOlwiYWxwaGFcIiksZS5hcHBlbmRDaGlsZCh0aGlzLmxheWVyRWxlbWVudCksdD1lLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKGUpLCFmZWF0dXJlU3VwcG9ydC5tYXNrVHlwZSYmMT09dGhpcy5kYXRhLnRkKXtlLnNldEF0dHJpYnV0ZShcIm1hc2stdHlwZVwiLFwibHVtaW5hbmNlXCIpO3ZhciBzPXJhbmRvbVN0cmluZygxMCkscj1maWx0ZXJzRmFjdG9yeS5jcmVhdGVGaWx0ZXIocyk7dGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQociksci5hcHBlbmRDaGlsZChmaWx0ZXJzRmFjdG9yeS5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyKCkpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7aS5hcHBlbmRDaGlsZCh0aGlzLmxheWVyRWxlbWVudCksdD1pLGUuYXBwZW5kQ2hpbGQoaSksaS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybCgjXCIrcytcIilcIil9fWVsc2UgaWYoMj09dGhpcy5kYXRhLnRkKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpO2Euc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmxheWVySWQpLGEuc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJhbHBoYVwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2EuYXBwZW5kQ2hpbGQobik7dmFyIHM9cmFuZG9tU3RyaW5nKDEwKSxyPWZpbHRlcnNGYWN0b3J5LmNyZWF0ZUZpbHRlcihzKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29sb3JNYXRyaXhcIik7by5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJtYXRyaXhcIiksby5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcInNSR0JcIiksby5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZXNcIixcIjEgMCAwIDAgMCAwIDEgMCAwIDAgMCAwIDEgMCAwIDAgMCAwIC0xIDFcIiksci5hcHBlbmRDaGlsZChvKSx0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChyKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJyZWN0XCIpO2lmKGguc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLmNvbXAuZGF0YS53KSxoLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHRoaXMuY29tcC5kYXRhLmgpLGguc2V0QXR0cmlidXRlKFwieFwiLFwiMFwiKSxoLnNldEF0dHJpYnV0ZShcInlcIixcIjBcIiksaC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCIjZmZmZmZmXCIpLGguc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLFwiMFwiKSxuLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIitzK1wiKVwiKSxuLmFwcGVuZENoaWxkKGgpLG4uYXBwZW5kQ2hpbGQodGhpcy5sYXllckVsZW1lbnQpLHQ9biwhZmVhdHVyZVN1cHBvcnQubWFza1R5cGUpe2Euc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJsdW1pbmFuY2VcIiksci5hcHBlbmRDaGlsZChmaWx0ZXJzRmFjdG9yeS5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyKCkpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7bi5hcHBlbmRDaGlsZChoKSxpLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0PWksbi5hcHBlbmRDaGlsZChpKX10aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChhKX19ZWxzZSh0aGlzLmRhdGEuaGFzTWFza3x8dGhpcy5kYXRhLnR0KSYmdGhpcy5kYXRhLnR0Pyh0aGlzLm1hdHRlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpLHRoaXMubWF0dGVFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0PXRoaXMubWF0dGVFbGVtZW50LHRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5tYXR0ZUVsZW1lbnQpOnRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQ7aWYoIXRoaXMuZGF0YS5sbiYmIXRoaXMuZGF0YS5jbHx8NCE9PXRoaXMuZGF0YS50eSYmMCE9PXRoaXMuZGF0YS50eXx8KHRoaXMuZGF0YS5sbiYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuZGF0YS5jbCYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0aGlzLmRhdGEuY2wpKSwwPT09dGhpcy5kYXRhLnR5KXt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJjbGlwUGF0aFwiKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInBhdGhcIik7cC5zZXRBdHRyaWJ1dGUoXCJkXCIsXCJNMCwwIExcIit0aGlzLmRhdGEudytcIiwwIExcIit0aGlzLmRhdGEudytcIixcIit0aGlzLmRhdGEuaCtcIiBMMCxcIit0aGlzLmRhdGEuaCtcInpcIik7dmFyIG09XCJjcF9cIityYW5kb21TdHJpbmcoOCk7aWYobC5zZXRBdHRyaWJ1dGUoXCJpZFwiLG0pLGwuYXBwZW5kQ2hpbGQocCksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQobCksdGhpcy5jaGVja01hc2tzKCkpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7Zi5zZXRBdHRyaWJ1dGUoXCJjbGlwLXBhdGhcIixcInVybCgjXCIrbStcIilcIiksZi5hcHBlbmRDaGlsZCh0aGlzLmxheWVyRWxlbWVudCksdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9Zix0P3QuYXBwZW5kQ2hpbGQodGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQpOnRoaXMuYmFzZUVsZW1lbnQ9dGhpcy50cmFuc2Zvcm1lZEVsZW1lbnR9ZWxzZSB0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGlwLXBhdGhcIixcInVybCgjXCIrbStcIilcIil9MCE9PXRoaXMuZGF0YS5ibSYmdGhpcy5zZXRCbGVuZE1vZGUoKSx0aGlzLmxheWVyRWxlbWVudCE9PXRoaXMucGFyZW50Q29udGFpbmVyJiYodGhpcy5wbGFjZWhvbGRlcj1udWxsKSx0aGlzLmRhdGEuZWYmJih0aGlzLmVmZmVjdHNNYW5hZ2VyPW5ldyBTVkdFZmZlY3RzKHRoaXMpKSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9QmFzZUVsZW1lbnQucHJvdG90eXBlLnNldEJsZW5kTW9kZSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYoMz09PXRoaXMuZGF0YS50eXx8dGhpcy5kYXRhLmhkfHwhdGhpcy5pc1Zpc2libGUpcmV0dXJuITE7dGhpcy5sYXN0TnVtPXRoaXMuY3VycmVudEZyYW1lTnVtLHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGY9dGhpcy5maXJzdEZyYW1lfHx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wLm1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10aGlzLmZpcnN0RnJhbWV8fHRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AubWRmLHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BhY2l0eT10aGlzLmZpbmFsVHJhbnNmb3JtLm9wLnY7dmFyIGUscz10aGlzLmZpbmFsVHJhbnNmb3JtLm1hdDtpZih0aGlzLmhpZXJhcmNoeSl7dmFyIHI9MCxpPXRoaXMuaGllcmFyY2h5Lmxlbmd0aDtpZighdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYpZm9yKDtpPnI7KXtpZih0aGlzLmhpZXJhcmNoeVtyXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGYpe3RoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmPSEwO2JyZWFrfXIrPTF9aWYodGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYpZm9yKGU9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHMuY2xvbmVGcm9tUHJvcHMoZSkscj0wO2k+cjtyKz0xKWU9dGhpcy5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxzLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKX1lbHNlIHRoaXMuaXNWaXNpYmxlJiYocz10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYpO3JldHVybiB0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiYmdGhpcy5sYXllckVsZW1lbnQmJnRoaXMudHJhbnNmb3JtZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLHMudG8yZENTUygpKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmJiZ0aGlzLmxheWVyRWxlbWVudCYmKHRoaXMuZmluYWxUcmFuc2Zvcm0ub3Audjw9MD8hdGhpcy5pc1RyYW5zcGFyZW50JiZ0aGlzLmdsb2JhbERhdGEucmVuZGVyQ29uZmlnLmhpZGVPblRyYW5zcGFyZW50JiYodGhpcy5pc1RyYW5zcGFyZW50PSEwLHRoaXMuaGlkZSgpKTp0aGlzLmhpZGRlbiYmdGhpcy5pc1RyYW5zcGFyZW50JiYodGhpcy5pc1RyYW5zcGFyZW50PSExLHRoaXMuc2hvdygpKSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsdGhpcy5maW5hbFRyYW5zZm9ybS5vcC52KSksdGhpcy5kYXRhLmhhc01hc2smJnRoaXMubWFza01hbmFnZXIucmVuZGVyRnJhbWUocyksdGhpcy5lZmZlY3RzTWFuYWdlciYmdGhpcy5lZmZlY3RzTWFuYWdlci5yZW5kZXJGcmFtZSh0aGlzLmZpcnN0RnJhbWUpLHRoaXMuaXNWaXNpYmxlfSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50PW51bGwsdGhpcy5wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLm1hdHRlRWxlbWVudCYmKHRoaXMubWF0dGVFbGVtZW50PW51bGwpLHRoaXMubWFza01hbmFnZXImJnRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpfSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuZ2V0QmFzZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlRWxlbWVudH0sU1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLmFkZE1hc2tzPWZ1bmN0aW9uKHQpe3RoaXMubWFza01hbmFnZXI9bmV3IE1hc2tFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuc2V0TWF0dGU9ZnVuY3Rpb24odCl7dGhpcy5tYXR0ZUVsZW1lbnQmJnRoaXMubWF0dGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1hc2tcIixcInVybCgjXCIrdCtcIilcIil9LFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW58fCh0aGlzLmxheWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuaGlkZGVuPSEwKX0sU1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSYmIXRoaXMuaXNUcmFuc3BhcmVudCYmKHRoaXMuaGlkZGVuPSExLHRoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKX0sY3JlYXRlRWxlbWVudChTVkdCYXNlRWxlbWVudCxJU2hhcGVFbGVtZW50KSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5pZGVudGl0eU1hdHJpeD1uZXcgTWF0cml4LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmxjRW51bT17MTpcImJ1dHRcIiwyOlwicm91bmRcIiwzOlwiYnV0dFwifSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5sakVudW09ezE6XCJtaXRlclwiLDI6XCJyb3VuZFwiLDM6XCJidXR0XCJ9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFByb2Nlc3NlZEVsZW1lbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucHJvY2Vzc2VkRWxlbWVudHMubGVuZ3RoO2U7KWlmKGUtPTEsdGhpcy5wcm9jZXNzZWRFbGVtZW50c1tlXS5lbGVtPT09dClyZXR1cm4gdGhpcy5wcm9jZXNzZWRFbGVtZW50c1tlXS5wb3M7cmV0dXJuIDB9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFkZFByb2Nlc3NlZEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHM9dGhpcy5wcm9jZXNzZWRFbGVtZW50cy5sZW5ndGg7czspaWYocy09MSx0aGlzLnByb2Nlc3NlZEVsZW1lbnRzW3NdLmVsZW09PT10KXt0aGlzLnByb2Nlc3NlZEVsZW1lbnRzW3NdLnBvcz1lO2JyZWFrfTA9PT1zJiZ0aGlzLnByb2Nlc3NlZEVsZW1lbnRzLnB1c2goe2VsZW06dCxwb3M6ZX0pfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5idWlsZEV4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXt9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmNyZWF0ZUVsZW1lbnRzLmNhbGwodGhpcyksdGhpcy5zZWFyY2hTaGFwZXModGhpcy5zaGFwZXNEYXRhLHRoaXMuaXRlbXNEYXRhLHRoaXMucHJldlZpZXdEYXRhLHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZHluYW1pY1Byb3BlcnRpZXMsMCxbXSwhMCksKCF0aGlzLmRhdGEuaGR8fHRoaXMuZGF0YS50ZCkmJnN0eWxlVW5zZWxlY3RhYmxlRGl2KHRoaXMubGF5ZXJFbGVtZW50KX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUuc2V0R3JhZGllbnREYXRhPWZ1bmN0aW9uKHQsZSxzKXt2YXIgcixpPVwiZ3JfXCIrcmFuZG9tU3RyaW5nKDEwKTtyPTE9PT1lLnQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwibGluZWFyR3JhZGllbnRcIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicmFkaWFsR3JhZGllbnRcIiksci5zZXRBdHRyaWJ1dGUoXCJpZFwiLGkpLHIuc2V0QXR0cmlidXRlKFwic3ByZWFkTWV0aG9kXCIsXCJwYWRcIiksci5zZXRBdHRyaWJ1dGUoXCJncmFkaWVudFVuaXRzXCIsXCJ1c2VyU3BhY2VPblVzZVwiKTt2YXIgYSxuLG8saD1bXTtmb3Iobz00KmUuZy5wLG49MDtvPm47bis9NClhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN0b3BcIiksci5hcHBlbmRDaGlsZChhKSxoLnB1c2goYSk7dC5zZXRBdHRyaWJ1dGUoXCJnZlwiPT09ZS50eT9cImZpbGxcIjpcInN0cm9rZVwiLFwidXJsKCNcIitpK1wiKVwiKSx0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChyKSxzLmdmPXIscy5jc3Q9aH0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUuc2V0R3JhZGllbnRPcGFjaXR5PWZ1bmN0aW9uKHQsZSxzKXtpZih0Lmcuay5rWzBdLnMmJnQuZy5rLmtbMF0ucy5sZW5ndGg+NCp0LmcucHx8dC5nLmsuay5sZW5ndGg+NCp0LmcucCl7dmFyIHIsaSxhLG4sbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicGF0aFwiKTtvLmFwcGVuZENoaWxkKGgpO3ZhciBsPVwib3BfXCIrcmFuZG9tU3RyaW5nKDEwKSxwPVwibWtfXCIrcmFuZG9tU3RyaW5nKDEwKTtvLnNldEF0dHJpYnV0ZShcImlkXCIscCkscj0xPT09dC50P2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImxpbmVhckdyYWRpZW50XCIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJhZGlhbEdyYWRpZW50XCIpLHIuc2V0QXR0cmlidXRlKFwiaWRcIixsKSxyLnNldEF0dHJpYnV0ZShcInNwcmVhZE1ldGhvZFwiLFwicGFkXCIpLHIuc2V0QXR0cmlidXRlKFwiZ3JhZGllbnRVbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIiksbj10Lmcuay5rWzBdLnM/dC5nLmsua1swXS5zLmxlbmd0aDp0Lmcuay5rLmxlbmd0aDt2YXIgbT1bXTtmb3IoYT00KnQuZy5wO24+YTthKz0yKWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwic3RvcFwiKSxpLnNldEF0dHJpYnV0ZShcInN0b3AtY29sb3JcIixcInJnYigyNTUsMjU1LDI1NSlcIiksci5hcHBlbmRDaGlsZChpKSxtLnB1c2goaSk7cmV0dXJuIGguc2V0QXR0cmlidXRlKFwiZ2ZcIj09PXQudHk/XCJmaWxsXCI6XCJzdHJva2VcIixcInVybCgjXCIrbCtcIilcIiksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQociksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQobyksZS5vZj1yLGUub3N0PW0scy5tc0VsZW09aCxwfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU3R5bGVFbGVtZW50PWZ1bmN0aW9uKHQsZSxzKXt2YXIgcj17fSxpPXtkYXRhOnQsdHlwZTp0LnR5LGQ6XCJcIixsZDpcIlwiLGx2bDplLG1kZjohMSxjbG9zZWQ6ITF9LGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicGF0aFwiKTtpZihyLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0Lm8sMCwuMDEscyksKFwic3RcIj09dC50eXx8XCJnc1wiPT10LnR5KSYmKGEuc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIix0aGlzLmxjRW51bVt0LmxjXXx8XCJyb3VuZFwiKSxhLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLHRoaXMubGpFbnVtW3QubGpdfHxcInJvdW5kXCIpLGEuc2V0QXR0cmlidXRlKFwiZmlsbC1vcGFjaXR5XCIsXCIwXCIpLDE9PXQubGomJmEuc2V0QXR0cmlidXRlKFwic3Ryb2tlLW1pdGVybGltaXRcIix0Lm1sKSxyLnc9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LncsMCxudWxsLHMpLHQuZCkpe3ZhciBuPVByb3BlcnR5RmFjdG9yeS5nZXREYXNoUHJvcCh0aGlzLHQuZCxcInN2Z1wiLHMpO24ua3x8KGEuc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLG4uZGFzaGFycmF5KSxhLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsbi5kYXNob2Zmc2V0KSksci5kPW59aWYoXCJmbFwiPT10LnR5fHxcInN0XCI9PXQudHkpci5jPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5jLDEsMjU1LHMpO2Vsc2V7ci5nPVByb3BlcnR5RmFjdG9yeS5nZXRHcmFkaWVudFByb3AodGhpcyx0LmcscyksMj09dC50JiYoci5oPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5oLDEsLjAxLHMpLHIuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQuYSwxLGRlZ1RvUmFkcyxzKSksci5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5zLDEsbnVsbCxzKSxyLmU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmUsMSxudWxsLHMpLHRoaXMuc2V0R3JhZGllbnREYXRhKGEsdCxyLGkpO3ZhciBvPXRoaXMuc2V0R3JhZGllbnRPcGFjaXR5KHQscixpKTtvJiZhLnNldEF0dHJpYnV0ZShcIm1hc2tcIixcInVybCgjXCIrbytcIilcIil9cmV0dXJuIHIuZWxlbT1hLDI9PT10LnImJmEuc2V0QXR0cmlidXRlKFwiZmlsbC1ydWxlXCIsXCJldmVub2RkXCIpLHQubG4mJmEuc2V0QXR0cmlidXRlKFwiaWRcIix0LmxuKSx0LmNsJiZhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdC5jbCksaS5wRWxlbT1hLHRoaXMuc3R5bGVzTGlzdC5wdXNoKGkpLHIuc3R5bGU9aSxyfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVHcm91cEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9e2l0OltdLHByZXZWaWV3RGF0YTpbXX0scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO3JldHVybiBlLmdyPXMsdC5sbiYmZS5nci5zZXRBdHRyaWJ1dGUoXCJpZFwiLHQubG4pLGV9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVRyYW5zZm9ybUVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcz17dHJhbnNmb3JtOntvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSxlKSxtUHJvcHM6UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LDIsbnVsbCxlKX0sZWxlbWVudHM6W119O3JldHVybiBzfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFwZUVsZW1lbnQ9ZnVuY3Rpb24odCxlLHMscil7dmFyIGk9e2VsZW1lbnRzOltdLGNhY2hlczpbXSxzdHlsZXM6W10sdHJhbnNmb3JtZXJzOmUsbFN0cjpcIlwifSxhPTQ7cmV0dXJuXCJyY1wiPT10LnR5P2E9NTpcImVsXCI9PXQudHk/YT02Olwic3JcIj09dC50eSYmKGE9NyksaS5zaD1TaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcyx0LGEsciksaS5sdmw9cyx0aGlzLnNoYXBlcy5wdXNoKGkuc2gpLHRoaXMuYWRkU2hhcGVUb01vZGlmaWVycyhpKSxpfTt2YXIgY29udD0wO0lTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGgscz1bXTtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuc3R5bGVzTGlzdFt0XS5jbG9zZWR8fHMucHVzaCh0aGlzLnN0eWxlc0xpc3RbdF0pO3JldHVybiBzfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZWxvYWRTaGFwZXM9ZnVuY3Rpb24oKXt0aGlzLmZpcnN0RnJhbWU9ITA7dmFyIHQsZT10aGlzLml0ZW1zRGF0YS5sZW5ndGg7Zm9yKHQ9MDtlPnQ7dCs9MSl0aGlzLnByZXZWaWV3RGF0YVt0XT10aGlzLml0ZW1zRGF0YVt0XTt0aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5keW5hbWljUHJvcGVydGllcywwLFtdLCEwKTt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpO3RoaXMucmVuZGVyTW9kaWZpZXJzKCl9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFNoYXBlcz1mdW5jdGlvbih0LGUscyxyLGksYSxuLG8pe3ZhciBoLGwscCxtLGYsYyxkPVtdLmNvbmNhdChuKSx1PXQubGVuZ3RoLTEseT1bXSxnPVtdO2ZvcihoPXU7aD49MDtoLT0xKXtpZihjPXRoaXMuc2VhcmNoUHJvY2Vzc2VkRWxlbWVudCh0W2hdKSxjP2VbaF09c1tjLTFdOnRbaF0uX3JlbmRlcj1vLFwiZmxcIj09dFtoXS50eXx8XCJzdFwiPT10W2hdLnR5fHxcImdmXCI9PXRbaF0udHl8fFwiZ3NcIj09dFtoXS50eSljP2VbaF0uc3R5bGUuY2xvc2VkPSExOmVbaF09dGhpcy5jcmVhdGVTdHlsZUVsZW1lbnQodFtoXSxhLGkpLHRbaF0uX3JlbmRlciYmci5hcHBlbmRDaGlsZChlW2hdLmVsZW0pLHkucHVzaChlW2hdLnN0eWxlKTtlbHNlIGlmKFwiZ3JcIj09dFtoXS50eSl7aWYoYylmb3IocD1lW2hdLml0Lmxlbmd0aCxsPTA7cD5sO2wrPTEpZVtoXS5wcmV2Vmlld0RhdGFbbF09ZVtoXS5pdFtsXTtlbHNlIGVbaF09dGhpcy5jcmVhdGVHcm91cEVsZW1lbnQodFtoXSk7dGhpcy5zZWFyY2hTaGFwZXModFtoXS5pdCxlW2hdLml0LGVbaF0ucHJldlZpZXdEYXRhLGVbaF0uZ3IsaSxhKzEsZCxvKSx0W2hdLl9yZW5kZXImJnIuYXBwZW5kQ2hpbGQoZVtoXS5ncil9ZWxzZVwidHJcIj09dFtoXS50eT8oY3x8KGVbaF09dGhpcy5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50KHRbaF0saSkpLG09ZVtoXS50cmFuc2Zvcm0sZC5wdXNoKG0pKTpcInNoXCI9PXRbaF0udHl8fFwicmNcIj09dFtoXS50eXx8XCJlbFwiPT10W2hdLnR5fHxcInNyXCI9PXRbaF0udHk/KGN8fChlW2hdPXRoaXMuY3JlYXRlU2hhcGVFbGVtZW50KHRbaF0sZCxhLGkpKSxlW2hdLmVsZW1lbnRzPXRoaXMuc2V0RWxlbWVudFN0eWxlcygpKTpcInRtXCI9PXRbaF0udHl8fFwicmRcIj09dFtoXS50eXx8XCJtc1wiPT10W2hdLnR5PyhjPyhmPWVbaF0sZi5jbG9zZWQ9ITEpOihmPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbaF0udHkpLGYuaW5pdCh0aGlzLHRbaF0saSksZVtoXT1mLHRoaXMuc2hhcGVNb2RpZmllcnMucHVzaChmKSksZy5wdXNoKGYpKTpcInJwXCI9PXRbaF0udHkmJihjPyhmPWVbaF0sZi5jbG9zZWQ9ITApOihmPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbaF0udHkpLGVbaF09ZixmLmluaXQodGhpcyx0LGgsZSxpKSx0aGlzLnNoYXBlTW9kaWZpZXJzLnB1c2goZiksbz0hMSksZy5wdXNoKGYpKTt0aGlzLmFkZFByb2Nlc3NlZEVsZW1lbnQodFtoXSxoKzEpfWZvcih1PXkubGVuZ3RoLGg9MDt1Pmg7aCs9MSl5W2hdLmNsb3NlZD0hMDtmb3IodT1nLmxlbmd0aCxoPTA7dT5oO2grPTEpZ1toXS5jbG9zZWQ9ITB9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFkZFNoYXBlVG9Nb2RpZmllcnM9ZnVuY3Rpb24odCl7dmFyIGUscz10aGlzLnNoYXBlTW9kaWZpZXJzLmxlbmd0aDtmb3IoZT0wO3M+ZTtlKz0xKXRoaXMuc2hhcGVNb2RpZmllcnNbZV0uYWRkU2hhcGUodCl9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlck1vZGlmaWVycz1mdW5jdGlvbigpe2lmKHRoaXMuc2hhcGVNb2RpZmllcnMubGVuZ3RoKXt2YXIgdCxlPXRoaXMuc2hhcGVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuc2hhcGVzW3RdLnJlc2V0KCk7Zm9yKGU9dGhpcy5zaGFwZU1vZGlmaWVycy5sZW5ndGgsdD1lLTE7dD49MDt0LT0xKXRoaXMuc2hhcGVNb2RpZmllcnNbdF0ucHJvY2Vzc1NoYXBlcyh0aGlzLmZpcnN0RnJhbWUpfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KTtpZihlPT09ITEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7dGhpcy5oaWRkZW4mJih0aGlzLmxheWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmhpZGRlbj0hMSksdGhpcy5yZW5kZXJNb2RpZmllcnMoKTt2YXIgcyxyPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGg7Zm9yKHM9MDtyPnM7cys9MSl0aGlzLnN0eWxlc0xpc3Rbc10uZD1cIlwiLHRoaXMuc3R5bGVzTGlzdFtzXS5tZGY9ITE7Zm9yKHRoaXMucmVuZGVyU2hhcGUodGhpcy5zaGFwZXNEYXRhLHRoaXMuaXRlbXNEYXRhLG51bGwpLHM9MDtyPnM7cys9MSlcIjBcIj09PXRoaXMuc3R5bGVzTGlzdFtzXS5sZCYmKHRoaXMuc3R5bGVzTGlzdFtzXS5sZD1cIjFcIix0aGlzLnN0eWxlc0xpc3Rbc10ucEVsZW0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLCh0aGlzLnN0eWxlc0xpc3Rbc10ubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYodGhpcy5zdHlsZXNMaXN0W3NdLnBFbGVtLnNldEF0dHJpYnV0ZShcImRcIix0aGlzLnN0eWxlc0xpc3Rbc10uZCksdGhpcy5zdHlsZXNMaXN0W3NdLm1zRWxlbSYmdGhpcy5zdHlsZXNMaXN0W3NdLm1zRWxlbS5zZXRBdHRyaWJ1dGUoXCJkXCIsdGhpcy5zdHlsZXNMaXN0W3NdLmQpKTt0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaGlkZGVuKXt0aGlzLmxheWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciB0LGU9dGhpcy5zdHlsZXNMaXN0Lmxlbmd0aDtmb3IodD1lLTE7dD49MDt0LT0xKVwiMFwiIT09dGhpcy5zdHlsZXNMaXN0W3RdLmxkJiYodGhpcy5zdHlsZXNMaXN0W3RdLmxkPVwiMFwiLHRoaXMuc3R5bGVzTGlzdFt0XS5wRWxlbS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuc3R5bGVzTGlzdFt0XS5wRWxlbS5wYXJlbnROb2RlJiYodGhpcy5zdHlsZXNMaXN0W3RdLnBhcmVudD10aGlzLnN0eWxlc0xpc3RbdF0ucEVsZW0ucGFyZW50Tm9kZSkpO3RoaXMuaGlkZGVuPSEwfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyU2hhcGU9ZnVuY3Rpb24odCxlLHMpe3ZhciByLGksYT10Lmxlbmd0aC0xO2ZvcihyPWE7cj49MDtyLT0xKWk9dFtyXS50eSxcInRyXCI9PWk/KCh0aGlzLmZpcnN0RnJhbWV8fGVbcl0udHJhbnNmb3JtLm9wLm1kZiYmcykmJnMuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLGVbcl0udHJhbnNmb3JtLm9wLnYpLCh0aGlzLmZpcnN0RnJhbWV8fGVbcl0udHJhbnNmb3JtLm1Qcm9wcy5tZGYmJnMpJiZzLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGVbcl0udHJhbnNmb3JtLm1Qcm9wcy52LnRvMmRDU1MoKSkpOlwic2hcIj09aXx8XCJlbFwiPT1pfHxcInJjXCI9PWl8fFwic3JcIj09aT90aGlzLnJlbmRlclBhdGgodFtyXSxlW3JdKTpcImZsXCI9PWk/dGhpcy5yZW5kZXJGaWxsKHRbcl0sZVtyXSk6XCJnZlwiPT1pP3RoaXMucmVuZGVyR3JhZGllbnQodFtyXSxlW3JdKTpcImdzXCI9PWk/KHRoaXMucmVuZGVyR3JhZGllbnQodFtyXSxlW3JdKSx0aGlzLnJlbmRlclN0cm9rZSh0W3JdLGVbcl0pKTpcInN0XCI9PWk/dGhpcy5yZW5kZXJTdHJva2UodFtyXSxlW3JdKTpcImdyXCI9PWkmJnRoaXMucmVuZGVyU2hhcGUodFtyXS5pdCxlW3JdLml0LGVbcl0uZ3IpfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5idWlsZFNoYXBlU3RyaW5nPWZ1bmN0aW9uKHQsZSxzLHIpe3ZhciBpLGE9XCJcIjtmb3IoaT0xO2U+aTtpKz0xKTE9PT1pJiYoYSs9XCIgTVwiK3IuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52WzBdWzBdLHQudlswXVsxXSkpLGErPVwiIENcIityLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQub1tpLTFdWzBdLHQub1tpLTFdWzFdKStcIiBcIityLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQuaVtpXVswXSx0LmlbaV1bMV0pK1wiIFwiK3IuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52W2ldWzBdLHQudltpXVsxXSk7cmV0dXJuIDE9PT1lJiYoYSs9XCIgTVwiK3IuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52WzBdWzBdLHQudlswXVsxXSkpLHMmJmUmJihhKz1cIiBDXCIrci5hcHBseVRvUG9pbnRTdHJpbmdpZmllZCh0Lm9baS0xXVswXSx0Lm9baS0xXVsxXSkrXCIgXCIrci5hcHBseVRvUG9pbnRTdHJpbmdpZmllZCh0LmlbMF1bMF0sdC5pWzBdWzFdKStcIiBcIityLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQudlswXVswXSx0LnZbMF1bMV0pLGErPVwielwiKSxhfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHMscixpLGEsbixvLGg9ZS5lbGVtZW50cy5sZW5ndGgsbD1lLmx2bDtpZih0Ll9yZW5kZXIpZm9yKG89MDtoPm87bys9MSlpZihlLmVsZW1lbnRzW29dLmRhdGEuX3JlbmRlcil7YT1lLnNoLm1kZnx8dGhpcy5maXJzdEZyYW1lLGk9XCJNMCAwXCI7dmFyIHA9ZS5zaC5wYXRocztpZihyPXAuX2xlbmd0aCxlLmVsZW1lbnRzW29dLmx2bDxsKXtmb3IodmFyIG0sZj10aGlzLm1IZWxwZXIucmVzZXQoKSxjPWwtZS5lbGVtZW50c1tvXS5sdmwsZD1lLnRyYW5zZm9ybWVycy5sZW5ndGgtMTtjPjA7KWE9ZS50cmFuc2Zvcm1lcnNbZF0ubVByb3BzLm1kZnx8YSxtPWUudHJhbnNmb3JtZXJzW2RdLm1Qcm9wcy52LnByb3BzLGYudHJhbnNmb3JtKG1bMF0sbVsxXSxtWzJdLG1bM10sbVs0XSxtWzVdLG1bNl0sbVs3XSxtWzhdLG1bOV0sbVsxMF0sbVsxMV0sbVsxMl0sbVsxM10sbVsxNF0sbVsxNV0pLGMtLSxkLS07aWYoYSl7Zm9yKHM9MDtyPnM7cys9MSluPXAuc2hhcGVzW3NdLG4mJm4uX2xlbmd0aCYmKGkrPXRoaXMuYnVpbGRTaGFwZVN0cmluZyhuLG4uX2xlbmd0aCxuLmMsZikpO2UuY2FjaGVzW29dPWl9ZWxzZSBpPWUuY2FjaGVzW29dfWVsc2UgaWYoYSl7Zm9yKHM9MDtyPnM7cys9MSluPXAuc2hhcGVzW3NdLG4mJm4uX2xlbmd0aCYmKGkrPXRoaXMuYnVpbGRTaGFwZVN0cmluZyhuLG4uX2xlbmd0aCxuLmMsdGhpcy5pZGVudGl0eU1hdHJpeCkpO2UuY2FjaGVzW29dPWl9ZWxzZSBpPWUuY2FjaGVzW29dO2UuZWxlbWVudHNbb10uZCs9aSxlLmVsZW1lbnRzW29dLm1kZj1hfHxlLmVsZW1lbnRzW29dLm1kZn1lbHNlIGUuZWxlbWVudHNbb10ubWRmPSEwfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGaWxsPWZ1bmN0aW9uKHQsZSl7dmFyIHM9ZS5zdHlsZTsoZS5jLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmcy5wRWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJyZ2IoXCIrYm1fZmxvb3IoZS5jLnZbMF0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzFdKStcIixcIitibV9mbG9vcihlLmMudlsyXSkrXCIpXCIpLChlLm8ubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiZzLnBFbGVtLnNldEF0dHJpYnV0ZShcImZpbGwtb3BhY2l0eVwiLGUuby52KX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyR3JhZGllbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcz1lLmdmLHI9ZS5vZixpPWUucy52LGE9ZS5lLnY7aWYoZS5vLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt2YXIgbj1cImdmXCI9PT10LnR5P1wiZmlsbC1vcGFjaXR5XCI6XCJzdHJva2Utb3BhY2l0eVwiO2UuZWxlbS5zZXRBdHRyaWJ1dGUobixlLm8udil9aWYoZS5zLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt2YXIgbz0xPT09dC50P1wieDFcIjpcImN4XCIsaD1cIngxXCI9PT1vP1wieTFcIjpcImN5XCI7cy5zZXRBdHRyaWJ1dGUobyxpWzBdKSxzLnNldEF0dHJpYnV0ZShoLGlbMV0pLHImJihyLnNldEF0dHJpYnV0ZShvLGlbMF0pLHIuc2V0QXR0cmlidXRlKGgsaVsxXSkpfXZhciBsLHAsbSxmO2lmKGUuZy5jbWRmfHx0aGlzLmZpcnN0RnJhbWUpe2w9ZS5jc3Q7dmFyIGM9ZS5nLmM7Zm9yKG09bC5sZW5ndGgscD0wO20+cDtwKz0xKWY9bFtwXSxmLnNldEF0dHJpYnV0ZShcIm9mZnNldFwiLGNbNCpwXStcIiVcIiksZi5zZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIsXCJyZ2IoXCIrY1s0KnArMV0rXCIsXCIrY1s0KnArMl0rXCIsXCIrY1s0KnArM10rXCIpXCIpfWlmKHImJihlLmcub21kZnx8dGhpcy5maXJzdEZyYW1lKSl7bD1lLm9zdDt2YXIgZD1lLmcubztmb3IobT1sLmxlbmd0aCxwPTA7bT5wO3ArPTEpZj1sW3BdLGYuc2V0QXR0cmlidXRlKFwib2Zmc2V0XCIsZFsyKnBdK1wiJVwiKSxmLnNldEF0dHJpYnV0ZShcInN0b3Atb3BhY2l0eVwiLGRbMipwKzFdKX1pZigxPT09dC50KShlLmUubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYocy5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGFbMF0pLHMuc2V0QXR0cmlidXRlKFwieTJcIixhWzFdKSxyJiYoci5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGFbMF0pLHIuc2V0QXR0cmlidXRlKFwieTJcIixhWzFdKSkpO2Vsc2V7dmFyIHU7aWYoKGUucy5tZGZ8fGUuZS5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJih1PU1hdGguc3FydChNYXRoLnBvdyhpWzBdLWFbMF0sMikrTWF0aC5wb3coaVsxXS1hWzFdLDIpKSxzLnNldEF0dHJpYnV0ZShcInJcIix1KSxyJiZyLnNldEF0dHJpYnV0ZShcInJcIix1KSksZS5lLm1kZnx8ZS5oLm1kZnx8ZS5hLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt1fHwodT1NYXRoLnNxcnQoTWF0aC5wb3coaVswXS1hWzBdLDIpK01hdGgucG93KGlbMV0tYVsxXSwyKSkpO3ZhciB5PU1hdGguYXRhbjIoYVsxXS1pWzFdLGFbMF0taVswXSksZz1lLmgudj49MT8uOTk6ZS5oLnY8PS0xPy0uOTk6ZS5oLnYsdj11KmcsYj1NYXRoLmNvcyh5K2UuYS52KSp2K2lbMF0sRT1NYXRoLnNpbih5K2UuYS52KSp2K2lbMV07cy5zZXRBdHRyaWJ1dGUoXCJmeFwiLGIpLHMuc2V0QXR0cmlidXRlKFwiZnlcIixFKSxyJiYoci5zZXRBdHRyaWJ1dGUoXCJmeFwiLGIpLHIuc2V0QXR0cmlidXRlKFwiZnlcIixFKSl9fX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyU3Ryb2tlPWZ1bmN0aW9uKHQsZSl7dmFyIHM9ZS5zdHlsZSxyPWUuZDtyJiZyLmsmJihyLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmKHMucEVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLHIuZGFzaGFycmF5KSxzLnBFbGVtLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsci5kYXNob2Zmc2V0KSksZS5jJiYoZS5jLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmcy5wRWxlbS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcInJnYihcIitibV9mbG9vcihlLmMudlswXSkrXCIsXCIrYm1fZmxvb3IoZS5jLnZbMV0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzJdKStcIilcIiksKGUuby5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJnMucEVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLW9wYWNpdHlcIixlLm8udiksKGUudy5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihzLnBFbGVtLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLGUudy52KSxzLm1zRWxlbSYmcy5tc0VsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsZS53LnYpKX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5kZXN0cm95LmNhbGwodGhpcy5fcGFyZW50KSx0aGlzLnNoYXBlRGF0YT1udWxsLHRoaXMuaXRlbXNEYXRhPW51bGwsdGhpcy5wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLnBsYWNlaG9sZGVyPW51bGx9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5pbml0LmNhbGwodGhpcyksdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9ITEsdGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YT17fTt2YXIgdD10aGlzLmRhdGE7dGhpcy52aWV3RGF0YT17bTp7YTpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQudC5tLmEsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpfX07dmFyIGU9dGhpcy5kYXRhLnQ7aWYoZS5hLmxlbmd0aCl7dGhpcy52aWV3RGF0YS5hPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDplLmEubGVuZ3RofSk7dmFyIHMscixpLGE9ZS5hLmxlbmd0aDtmb3Iocz0wO2E+cztzKz0xKWk9ZS5hW3NdLHI9e2E6e30sczp7fX0sXCJyXCJpbiBpLmEmJihyLmEucj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS5yLDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcInJ4XCJpbiBpLmEmJihyLmEucng9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEucngsMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcykpLFwicnlcImluIGkuYSYmKHIuYS5yeT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS5yeSwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksXCJza1wiaW4gaS5hJiYoci5hLnNrPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsaS5hLnNrLDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcInNhXCJpbiBpLmEmJihyLmEuc2E9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuc2EsMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcykpLFwic1wiaW4gaS5hJiYoci5hLnM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEucywxLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksXCJhXCJpbiBpLmEmJihyLmEuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS5hLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksXCJvXCJpbiBpLmEmJihyLmEubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS5vLDAsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcInBcImluIGkuYSYmKHIuYS5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsaS5hLnAsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcInN3XCJpbiBpLmEmJihyLmEuc3c9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuc3csMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcInNjXCJpbiBpLmEmJihyLmEuc2M9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuc2MsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcImZjXCJpbiBpLmEmJihyLmEuZmM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuZmMsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcImZoXCJpbiBpLmEmJihyLmEuZmg9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuZmgsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSxcImZzXCJpbiBpLmEmJihyLmEuZnM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyxpLmEuZnMsMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcykpLFwiZmJcImluIGkuYSYmKHIuYS5mYj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS5mYiwwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksXCJ0XCJpbiBpLmEmJihyLmEudD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGkuYS50LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksci5zPVByb3BlcnR5RmFjdG9yeS5nZXRUZXh0U2VsZWN0b3JQcm9wKHRoaXMsaS5zLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHIucy50PWkucy50LHRoaXMudmlld0RhdGEuYVtzXT1yfWVsc2UgdGhpcy52aWV3RGF0YS5hPVtdO2UucCYmXCJtXCJpbiBlLnA/KHRoaXMudmlld0RhdGEucD17ZjpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLGUucC5mLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSxsOlByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsZS5wLmwsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHI6ZS5wLnIsbTp0aGlzLm1hc2tNYW5hZ2VyLmdldE1hc2tQcm9wZXJ0eShlLnAubSl9LHRoaXMubWFza1BhdGg9ITApOnRoaXMubWFza1BhdGg9ITF9LElUZXh0RWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPTAscz10aGlzLmRhdGEudC5kLmsubGVuZ3RoLHI9dGhpcy5kYXRhLnQuZC5rW2VdLnM7Zm9yKGUrPTE7cz5lJiYhKHRoaXMuZGF0YS50LmQua1tlXS50PnQpOylyPXRoaXMuZGF0YS50LmQua1tlXS5zLGUrPTE7dGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9ITEsciE9PXRoaXMuY3VycmVudFRleHREb2N1bWVudERhdGEmJih0aGlzLmN1cnJlbnRUZXh0RG9jdW1lbnREYXRhPXIsdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9ITAsdGhpcy5idWlsZE5ld1RleHQoKSksdGhpcy5fcGFyZW50LnByZXBhcmVGcmFtZS5jYWxsKHRoaXMsdCl9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlUGF0aFNoYXBlPWZ1bmN0aW9uKHQsZSl7dmFyIHMscixpPWUubGVuZ3RoLGE9XCJcIjtmb3Iocz0wO2k+cztzKz0xKXI9ZVtzXS5rcy5rLGErPXRoaXMuYnVpbGRTaGFwZVN0cmluZyhyLHIuaS5sZW5ndGgsITAsdCk7cmV0dXJuIGF9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuZ2V0TWVhc3VyZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLHMscixpPXRoaXMubUhlbHBlcixhPXRoaXMucmVuZGVyVHlwZSxuPXRoaXMuZGF0YSxvPXRoaXMuY3VycmVudFRleHREb2N1bWVudERhdGEsaD1vLmw7aWYodGhpcy5tYXNrUGF0aCl7dmFyIGw9dGhpcy52aWV3RGF0YS5wLm07aWYoIXRoaXMudmlld0RhdGEucC5ufHx0aGlzLnZpZXdEYXRhLnAubWRmKXt2YXIgcD1sLnY7dGhpcy52aWV3RGF0YS5wLnImJihwPXJldmVyc2VQYXRoKHApKTt2YXIgbT17dExlbmd0aDowLHNlZ21lbnRzOltdfTtyPXAudi5sZW5ndGgtMTt2YXIgZixjPTA7Zm9yKHM9MDtyPnM7cys9MSlmPXtzOnAudltzXSxlOnAudltzKzFdLHRvOltwLm9bc11bMF0tcC52W3NdWzBdLHAub1tzXVsxXS1wLnZbc11bMV1dLHRpOltwLmlbcysxXVswXS1wLnZbcysxXVswXSxwLmlbcysxXVsxXS1wLnZbcysxXVsxXV19LGJlei5idWlsZEJlemllckRhdGEoZiksbS50TGVuZ3RoKz1mLmJlemllckRhdGEuc2VnbWVudExlbmd0aCxtLnNlZ21lbnRzLnB1c2goZiksYys9Zi5iZXppZXJEYXRhLnNlZ21lbnRMZW5ndGg7cz1yLGwudi5jJiYoZj17czpwLnZbc10sZTpwLnZbMF0sdG86W3Aub1tzXVswXS1wLnZbc11bMF0scC5vW3NdWzFdLXAudltzXVsxXV0sdGk6W3AuaVswXVswXS1wLnZbMF1bMF0scC5pWzBdWzFdLXAudlswXVsxXV19LGJlei5idWlsZEJlemllckRhdGEoZiksbS50TGVuZ3RoKz1mLmJlemllckRhdGEuc2VnbWVudExlbmd0aCxtLnNlZ21lbnRzLnB1c2goZiksYys9Zi5iZXppZXJEYXRhLnNlZ21lbnRMZW5ndGgpLHRoaXMudmlld0RhdGEucC5waT1tfXZhciBkLHUseSxtPXRoaXMudmlld0RhdGEucC5waSxnPXRoaXMudmlld0RhdGEucC5mLnYsdj0wLGI9MSxFPTAsUD0hMCxTPW0uc2VnbWVudHM7aWYoMD5nJiZsLnYuYylmb3IobS50TGVuZ3RoPE1hdGguYWJzKGcpJiYoZz0tTWF0aC5hYnMoZyklbS50TGVuZ3RoKSx2PVMubGVuZ3RoLTEseT1TW3ZdLmJlemllckRhdGEucG9pbnRzLGI9eS5sZW5ndGgtMTswPmc7KWcrPXlbYl0ucGFydGlhbExlbmd0aCxiLT0xLDA+YiYmKHYtPTEseT1TW3ZdLmJlemllckRhdGEucG9pbnRzLGI9eS5sZW5ndGgtMSk7eT1TW3ZdLmJlemllckRhdGEucG9pbnRzLHU9eVtiLTFdLGQ9eVtiXTt2YXIgeCxDLGs9ZC5wYXJ0aWFsTGVuZ3RofXI9aC5sZW5ndGgsdD0wLGU9MDt2YXIgTSxBLEQsdyxULEY9MS4yKm8ucyouNzE0LEk9ITAsXz10aGlzLnZpZXdEYXRhLFY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnJ9KTt3PV8uYS5sZW5ndGg7dmFyIFIsQixOLEwsRyxPLGoseixILFcsWSxYLHEsSixVLFosSz0tMSxRPWcsJD12LHR0PWIsZXQ9LTEsc3Q9MDtmb3Iocz0wO3I+cztzKz0xKWlmKGkucmVzZXQoKSxPPTEsaFtzXS5uKXQ9MCxlKz1vLnlPZmZzZXQsZSs9ST8xOjAsZz1RLEk9ITEsc3Q9MCx0aGlzLm1hc2tQYXRoJiYodj0kLGI9dHQseT1TW3ZdLmJlemllckRhdGEucG9pbnRzLHU9eVtiLTFdLGQ9eVtiXSxrPWQucGFydGlhbExlbmd0aCxFPTApLFZbc109dGhpcy5lbXB0eVByb3A7ZWxzZXtpZih0aGlzLm1hc2tQYXRoKXtpZihldCE9PWhbc10ubGluZSl7c3dpdGNoKG8uail7Y2FzZSAxOmcrPWMtby5saW5lV2lkdGhzW2hbc10ubGluZV07YnJlYWs7Y2FzZSAyOmcrPShjLW8ubGluZVdpZHRoc1toW3NdLmxpbmVdKS8yfWV0PWhbc10ubGluZX1LIT09aFtzXS5pbmQmJihoW0tdJiYoZys9aFtLXS5leHRyYSksZys9aFtzXS5hbi8yLEs9aFtzXS5pbmQpLGcrPV8ubS5hLnZbMF0qaFtzXS5hbi8yMDA7dmFyIHJ0PTA7Zm9yKEQ9MDt3PkQ7RCs9MSlNPV8uYVtEXS5hLFwicFwiaW4gTSYmKEE9Xy5hW0RdLnMsQj1BLmdldE11bHQoaFtzXS5hbkluZGV4ZXNbRF0sbi50LmFbRF0ucy50b3RhbENoYXJzKSxydCs9Qi5sZW5ndGg/TS5wLnZbMF0qQlswXTpNLnAudlswXSpCKSxcImFcImluIE0mJihBPV8uYVtEXS5zLEI9QS5nZXRNdWx0KGhbc10uYW5JbmRleGVzW0RdLG4udC5hW0RdLnMudG90YWxDaGFycykscnQrPUIubGVuZ3RoP00uYS52WzBdKkJbMF06TS5hLnZbMF0qQik7Zm9yKFA9ITA7UDspRStrPj1nK3J0fHwheT8oeD0oZytydC1FKS9kLnBhcnRpYWxMZW5ndGgsTD11LnBvaW50WzBdKyhkLnBvaW50WzBdLXUucG9pbnRbMF0pKngsRz11LnBvaW50WzFdKyhkLnBvaW50WzFdLXUucG9pbnRbMV0pKngsaS50cmFuc2xhdGUoLV8ubS5hLnZbMF0qaFtzXS5hbi8yMDAsLShfLm0uYS52WzFdKkYvMTAwKSksUD0hMSk6eSYmKEUrPWQucGFydGlhbExlbmd0aCxiKz0xLGI+PXkubGVuZ3RoJiYoYj0wLHYrPTEsU1t2XT95PVNbdl0uYmV6aWVyRGF0YS5wb2ludHM6bC52LmM/KGI9MCx2PTAseT1TW3ZdLmJlemllckRhdGEucG9pbnRzKTooRS09ZC5wYXJ0aWFsTGVuZ3RoLHk9bnVsbCkpLHkmJih1PWQsZD15W2JdLGs9ZC5wYXJ0aWFsTGVuZ3RoKSk7Tj1oW3NdLmFuLzItaFtzXS5hZGQsaS50cmFuc2xhdGUoLU4sMCwwKX1lbHNlIE49aFtzXS5hbi8yLWhbc10uYWRkLGkudHJhbnNsYXRlKC1OLDAsMCksaS50cmFuc2xhdGUoLV8ubS5hLnZbMF0qaFtzXS5hbi8yMDAsLV8ubS5hLnZbMV0qRi8xMDAsMCk7Zm9yKHN0Kz1oW3NdLmwvMixEPTA7dz5EO0QrPTEpTT1fLmFbRF0uYSxcInRcImluIE0mJihBPV8uYVtEXS5zLEI9QS5nZXRNdWx0KGhbc10uYW5JbmRleGVzW0RdLG4udC5hW0RdLnMudG90YWxDaGFycyksdGhpcy5tYXNrUGF0aD9nKz1CLmxlbmd0aD9NLnQqQlswXTpNLnQqQjp0Kz1CLmxlbmd0aD9NLnQudipCWzBdOk0udC52KkIpO2ZvcihzdCs9aFtzXS5sLzIsby5zdHJva2VXaWR0aEFuaW0mJih6PW8uc3d8fDApLG8uc3Ryb2tlQ29sb3JBbmltJiYoaj1vLnNjP1tvLnNjWzBdLG8uc2NbMV0sby5zY1syXV06WzAsMCwwXSksby5maWxsQ29sb3JBbmltJiYoSD1bby5mY1swXSxvLmZjWzFdLG8uZmNbMl1dKSxEPTA7dz5EO0QrPTEpTT1fLmFbRF0uYSxcImFcImluIE0mJihBPV8uYVtEXS5zLEI9QS5nZXRNdWx0KGhbc10uYW5JbmRleGVzW0RdLG4udC5hW0RdLnMudG90YWxDaGFycyksQi5sZW5ndGg/aS50cmFuc2xhdGUoLU0uYS52WzBdKkJbMF0sLU0uYS52WzFdKkJbMV0sTS5hLnZbMl0qQlsyXSk6aS50cmFuc2xhdGUoLU0uYS52WzBdKkIsLU0uYS52WzFdKkIsTS5hLnZbMl0qQikpO2ZvcihEPTA7dz5EO0QrPTEpTT1fLmFbRF0uYSxcInNcImluIE0mJihBPV8uYVtEXS5zLEI9QS5nZXRNdWx0KGhbc10uYW5JbmRleGVzW0RdLG4udC5hW0RdLnMudG90YWxDaGFycyksQi5sZW5ndGg/aS5zY2FsZSgxKyhNLnMudlswXS0xKSpCWzBdLDErKE0ucy52WzFdLTEpKkJbMV0sMSk6aS5zY2FsZSgxKyhNLnMudlswXS0xKSpCLDErKE0ucy52WzFdLTEpKkIsMSkpO2ZvcihEPTA7dz5EO0QrPTEpe2lmKE09Xy5hW0RdLmEsQT1fLmFbRF0ucyxCPUEuZ2V0TXVsdChoW3NdLmFuSW5kZXhlc1tEXSxuLnQuYVtEXS5zLnRvdGFsQ2hhcnMpLFwic2tcImluIE0mJihCLmxlbmd0aD9pLnNrZXdGcm9tQXhpcygtTS5zay52KkJbMF0sTS5zYS52KkJbMV0pOmkuc2tld0Zyb21BeGlzKC1NLnNrLnYqQixNLnNhLnYqQikpLFwiclwiaW4gTSYmaS5yb3RhdGVaKEIubGVuZ3RoPy1NLnIudipCWzJdOi1NLnIudipCKSxcInJ5XCJpbiBNJiZpLnJvdGF0ZVkoQi5sZW5ndGg/TS5yeS52KkJbMV06TS5yeS52KkIpLFwicnhcImluIE0mJmkucm90YXRlWChCLmxlbmd0aD9NLnJ4LnYqQlswXTpNLnJ4LnYqQiksXCJvXCJpbiBNJiYoTys9Qi5sZW5ndGg/KE0uby52KkJbMF0tTykqQlswXTooTS5vLnYqQi1PKSpCKSxvLnN0cm9rZVdpZHRoQW5pbSYmXCJzd1wiaW4gTSYmKHorPUIubGVuZ3RoP00uc3cudipCWzBdOk0uc3cudipCKSxvLnN0cm9rZUNvbG9yQW5pbSYmXCJzY1wiaW4gTSlmb3IoVz0wOzM+VztXKz0xKWpbV109TWF0aC5yb3VuZChCLmxlbmd0aD8yNTUqKGpbV10rKE0uc2MudltXXS1qW1ddKSpCWzBdKToyNTUqKGpbV10rKE0uc2MudltXXS1qW1ddKSpCKSk7aWYoby5maWxsQ29sb3JBbmltKXtpZihcImZjXCJpbiBNKWZvcihXPTA7Mz5XO1crPTEpSFtXXT1CLmxlbmd0aD9IW1ddKyhNLmZjLnZbV10tSFtXXSkqQlswXTpIW1ddKyhNLmZjLnZbV10tSFtXXSkqQjtcImZoXCJpbiBNJiYoSD1CLmxlbmd0aD9hZGRIdWVUb1JHQihILE0uZmgudipCWzBdKTphZGRIdWVUb1JHQihILE0uZmgudipCKSksXCJmc1wiaW4gTSYmKEg9Qi5sZW5ndGg/YWRkU2F0dXJhdGlvblRvUkdCKEgsTS5mcy52KkJbMF0pOmFkZFNhdHVyYXRpb25Ub1JHQihILE0uZnMudipCKSksXCJmYlwiaW4gTSYmKEg9Qi5sZW5ndGg/YWRkQnJpZ2h0bmVzc1RvUkdCKEgsTS5mYi52KkJbMF0pOmFkZEJyaWdodG5lc3NUb1JHQihILE0uZmIudipCKSl9fWZvcihEPTA7dz5EO0QrPTEpTT1fLmFbRF0uYSxcInBcImluIE0mJihBPV8uYVtEXS5zLEI9QS5nZXRNdWx0KGhbc10uYW5JbmRleGVzW0RdLG4udC5hW0RdLnMudG90YWxDaGFycyksdGhpcy5tYXNrUGF0aD9CLmxlbmd0aD9pLnRyYW5zbGF0ZSgwLE0ucC52WzFdKkJbMF0sLU0ucC52WzJdKkJbMV0pOmkudHJhbnNsYXRlKDAsTS5wLnZbMV0qQiwtTS5wLnZbMl0qQik6Qi5sZW5ndGg/aS50cmFuc2xhdGUoTS5wLnZbMF0qQlswXSxNLnAudlsxXSpCWzFdLC1NLnAudlsyXSpCWzJdKTppLnRyYW5zbGF0ZShNLnAudlswXSpCLE0ucC52WzFdKkIsLU0ucC52WzJdKkIpKTtpZihvLnN0cm9rZVdpZHRoQW5pbSYmKFk9MD56PzA6eiksby5zdHJva2VDb2xvckFuaW0mJihYPVwicmdiKFwiK01hdGgucm91bmQoMjU1KmpbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KmpbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KmpbMl0pK1wiKVwiKSxvLmZpbGxDb2xvckFuaW0mJihxPVwicmdiKFwiK01hdGgucm91bmQoMjU1KkhbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KkhbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KkhbMl0pK1wiKVwiKSx0aGlzLm1hc2tQYXRoKXtpZihpLnRyYW5zbGF0ZSgwLC1vLmxzKSxpLnRyYW5zbGF0ZSgwLF8ubS5hLnZbMV0qRi8xMDArZSwwKSxuLnQucC5wKXtDPShkLnBvaW50WzFdLXUucG9pbnRbMV0pLyhkLnBvaW50WzBdLXUucG9pbnRbMF0pO3ZhciBpdD0xODAqTWF0aC5hdGFuKEMpL01hdGguUEk7ZC5wb2ludFswXTx1LnBvaW50WzBdJiYoaXQrPTE4MCksaS5yb3RhdGUoLWl0Kk1hdGguUEkvMTgwKX1pLnRyYW5zbGF0ZShMLEcsMCksZy09Xy5tLmEudlswXSpoW3NdLmFuLzIwMCxoW3MrMV0mJkshPT1oW3MrMV0uaW5kJiYoZys9aFtzXS5hbi8yLGcrPW8udHIvMWUzKm8ucyl9ZWxzZXtzd2l0Y2goaS50cmFuc2xhdGUodCxlLDApLG8ucHMmJmkudHJhbnNsYXRlKG8ucHNbMF0sby5wc1sxXStvLmFzY2VudCwwKSxvLmope2Nhc2UgMTppLnRyYW5zbGF0ZShvLmp1c3RpZnlPZmZzZXQrKG8uYm94V2lkdGgtby5saW5lV2lkdGhzW2hbc10ubGluZV0pLDAsMCk7YnJlYWs7Y2FzZSAyOmkudHJhbnNsYXRlKG8uanVzdGlmeU9mZnNldCsoby5ib3hXaWR0aC1vLmxpbmVXaWR0aHNbaFtzXS5saW5lXSkvMiwwLDApfWkudHJhbnNsYXRlKDAsLW8ubHMpLGkudHJhbnNsYXRlKE4sMCwwKSxpLnRyYW5zbGF0ZShfLm0uYS52WzBdKmhbc10uYW4vMjAwLF8ubS5hLnZbMV0qRi8xMDAsMCksdCs9aFtzXS5sK28udHIvMWUzKm8uc31cImh0bWxcIj09PWE/Sj1pLnRvQ1NTKCk6XCJzdmdcIj09PWE/Sj1pLnRvMmRDU1MoKTpVPVtpLnByb3BzWzBdLGkucHJvcHNbMV0saS5wcm9wc1syXSxpLnByb3BzWzNdLGkucHJvcHNbNF0saS5wcm9wc1s1XSxpLnByb3BzWzZdLGkucHJvcHNbN10saS5wcm9wc1s4XSxpLnByb3BzWzldLGkucHJvcHNbMTBdLGkucHJvcHNbMTFdLGkucHJvcHNbMTJdLGkucHJvcHNbMTNdLGkucHJvcHNbMTRdLGkucHJvcHNbMTVdXSxaPU8sUj10aGlzLnJlbmRlcmVkTGV0dGVyc1tzXSwhUnx8Ui5vPT09WiYmUi5zdz09PVkmJlIuc2M9PT1YJiZSLmZjPT09cT9cInN2Z1wiIT09YSYmXCJodG1sXCIhPT1hfHxSJiZSLm09PT1KP1wiY2FudmFzXCIhPT1hfHxSJiZSLnByb3BzWzBdPT09VVswXSYmUi5wcm9wc1sxXT09PVVbMV0mJlIucHJvcHNbNF09PT1VWzRdJiZSLnByb3BzWzVdPT09VVs1XSYmUi5wcm9wc1sxMl09PT1VWzEyXSYmUi5wcm9wc1sxM109PT1VWzEzXT9UPVI6KHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnPSEwLFQ9bmV3IExldHRlclByb3BzKFosWSxYLHEsbnVsbCxVKSk6KHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnPSEwLFQ9bmV3IExldHRlclByb3BzKFosWSxYLHEsSikpOih0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZz0hMCxUPW5ldyBMZXR0ZXJQcm9wcyhaLFksWCxxLEosVSkpLHRoaXMucmVuZGVyZWRMZXR0ZXJzW3NdPVR9fSxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkU2hhcGVTdHJpbmc9SVNoYXBlRWxlbWVudC5wcm90b3R5cGUuYnVpbGRTaGFwZVN0cmluZyxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmVtcHR5UHJvcD1uZXcgTGV0dGVyUHJvcHMsY3JlYXRlRWxlbWVudChTVkdCYXNlRWxlbWVudCxTVkdUZXh0RWxlbWVudCksU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLmluaXQ9SVRleHRFbGVtZW50LnByb3RvdHlwZS5pbml0LFNWR1RleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVQYXRoU2hhcGU9SVRleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVQYXRoU2hhcGUsU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLmdldE1lYXN1cmVzPUlUZXh0RWxlbWVudC5wcm90b3R5cGUuZ2V0TWVhc3VyZXMsU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1JVGV4dEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZSxTVkdUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGRTaGFwZVN0cmluZz1JVGV4dEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkU2hhcGVTdHJpbmcsU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmNyZWF0ZUVsZW1lbnRzLmNhbGwodGhpcyksdGhpcy5kYXRhLmxuJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbiksdGhpcy5kYXRhLmNsJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuZGF0YS5jbCl9LFNWR1RleHRFbGVtZW50LnByb3RvdHlwZS5idWlsZE5ld1RleHQ9ZnVuY3Rpb24oKXt2YXIgdCxlLHM9dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YTt0aGlzLnJlbmRlcmVkTGV0dGVycz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YS5sP3RoaXMuY3VycmVudFRleHREb2N1bWVudERhdGEubC5sZW5ndGg6MH0pLHMuZmM/dGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLFwicmdiKFwiK01hdGgucm91bmQoMjU1KnMuZmNbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KnMuZmNbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KnMuZmNbMl0pK1wiKVwiKTp0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJyZ2JhKDAsMCwwLDApXCIpLHMuc2MmJih0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcInJnYihcIitNYXRoLnJvdW5kKDI1NSpzLnNjWzBdKStcIixcIitNYXRoLnJvdW5kKDI1NSpzLnNjWzFdKStcIixcIitNYXRoLnJvdW5kKDI1NSpzLnNjWzJdKStcIilcIiksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIscy5zdykpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZvbnQtc2l6ZVwiLHMucyk7dmFyIHI9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUocy5mKTtpZihyLmZDbGFzcyl0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHIuZkNsYXNzKTtlbHNle3RoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZvbnQtZmFtaWx5XCIsci5mRmFtaWx5KTt2YXIgaT1zLmZXZWlnaHQsYT1zLmZTdHlsZTt0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb250LXN0eWxlXCIsYSksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC13ZWlnaHRcIixpKX12YXIgbj1zLmx8fFtdO2lmKGU9bi5sZW5ndGgpe3ZhciBvLGgsbD10aGlzLm1IZWxwZXIscD1cIlwiLG09dGhpcy5kYXRhLnNpbmdsZVNoYXBlO2lmKG0pdmFyIGY9MCxjPTAsZD1zLmxpbmVXaWR0aHMsdT1zLmJveFdpZHRoLHk9ITA7XG5cbnZhciBnPTA7Zm9yKHQ9MDtlPnQ7dCs9MSl7aWYodGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmNoYXJzP20mJjAhPT10fHwobz10aGlzLnRleHRTcGFuc1tnXT90aGlzLnRleHRTcGFuc1tnXTpkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJwYXRoXCIpKTpvPXRoaXMudGV4dFNwYW5zW2ddP3RoaXMudGV4dFNwYW5zW2ddOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInRleHRcIiksby5zdHlsZS5kaXNwbGF5PVwiaW5oZXJpdFwiLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIixcImJ1dHRcIiksby5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWpvaW5cIixcInJvdW5kXCIpLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlLW1pdGVybGltaXRcIixcIjRcIiksbSYmblt0XS5uJiYoZj0wLGMrPXMueU9mZnNldCxjKz15PzE6MCx5PSExKSxsLnJlc2V0KCksdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmNoYXJzJiZsLnNjYWxlKHMucy8xMDAscy5zLzEwMCksbSl7c3dpdGNoKHMucHMmJmwudHJhbnNsYXRlKHMucHNbMF0scy5wc1sxXStzLmFzY2VudCwwKSxsLnRyYW5zbGF0ZSgwLC1zLmxzLDApLHMuail7Y2FzZSAxOmwudHJhbnNsYXRlKHMuanVzdGlmeU9mZnNldCsodS1kW25bdF0ubGluZV0pLDAsMCk7YnJlYWs7Y2FzZSAyOmwudHJhbnNsYXRlKHMuanVzdGlmeU9mZnNldCsodS1kW25bdF0ubGluZV0pLzIsMCwwKX1sLnRyYW5zbGF0ZShmLGMsMCl9aWYodGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmNoYXJzKXt2YXIgdixiPXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRDaGFyRGF0YShzLnQuY2hhckF0KHQpLHIuZlN0eWxlLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHMuZikuZkZhbWlseSk7dj1iP2IuZGF0YTpudWxsLHYmJnYuc2hhcGVzJiYoaD12LnNoYXBlc1swXS5pdCxtfHwocD1cIlwiKSxwKz10aGlzLmNyZWF0ZVBhdGhTaGFwZShsLGgpLG18fG8uc2V0QXR0cmlidXRlKFwiZFwiLHApKSxtfHx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChvKX1lbHNlIG8udGV4dENvbnRlbnQ9blt0XS52YWwsby5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFwieG1sOnNwYWNlXCIsXCJwcmVzZXJ2ZVwiKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChvKSxtJiZvLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGwudG8yZENTUygpKTttJiYoZis9blt0XS5sfHwwLGYrPXMudHIvMWUzKnMucyksdGhpcy50ZXh0U3BhbnNbZ109byxnKz0xfWlmKCFtKWZvcig7Zzx0aGlzLnRleHRTcGFucy5sZW5ndGg7KXRoaXMudGV4dFNwYW5zW2ddLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZys9MTttJiZ0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnMmJihvLnNldEF0dHJpYnV0ZShcImRcIixwKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChvKSl9fSxTVkdUZXh0RWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KTtpZihlPT09ITEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7aWYodGhpcy5oaWRkZW4mJnRoaXMuc2hvdygpLCF0aGlzLmRhdGEuc2luZ2xlU2hhcGUmJih0aGlzLmdldE1lYXN1cmVzKCksdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWcpKXt2YXIgcyxyLGk9dGhpcy5yZW5kZXJlZExldHRlcnMsYT10aGlzLmN1cnJlbnRUZXh0RG9jdW1lbnREYXRhLmw7cj1hLmxlbmd0aDt2YXIgbjtmb3Iocz0wO3I+cztzKz0xKWFbc10ubnx8KG49aVtzXSx0aGlzLnRleHRTcGFuc1tzXS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixuLm0pLHRoaXMudGV4dFNwYW5zW3NdLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIixuLm8pLG4uc3cmJnRoaXMudGV4dFNwYW5zW3NdLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLG4uc3cpLG4uc2MmJnRoaXMudGV4dFNwYW5zW3NdLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLG4uc2MpLG4uZmMmJnRoaXMudGV4dFNwYW5zW3NdLnNldEF0dHJpYnV0ZShcImZpbGxcIixuLmZjKSk7dGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LFNWR1RleHRFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzLl9wYXJlbnQpfSxTVkdUaW50RmlsdGVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIubWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LHM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1syXS5wLnYvMTAwO3RoaXMubWF0cml4RmlsdGVyLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLHNbMF0tZVswXStcIiAwIDAgMCBcIitlWzBdK1wiIFwiKyhzWzFdLWVbMV0pK1wiIDAgMCAwIFwiK2VbMV0rXCIgXCIrKHNbMl0tZVsyXSkrXCIgMCAwIDAgXCIrZVsyXStcIiAwIDAgMCBcIityK1wiIDBcIil9fSxTVkdGaWxsRmlsdGVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIubWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LHM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzZdLnAudjt0aGlzLm1hdHJpeEZpbHRlci5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZXNcIixcIjAgMCAwIDAgXCIrZVswXStcIiAwIDAgMCAwIFwiK2VbMV0rXCIgMCAwIDAgMCBcIitlWzJdK1wiIDAgMCAwIFwiK3MrXCIgMFwiKX19LFNWR1N0cm9rZUVmZmVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0LGUscyxyLGk9dGhpcy5lbGVtLmxheWVyRWxlbWVudC5jaGlsZHJlbnx8dGhpcy5lbGVtLmxheWVyRWxlbWVudC5jaGlsZE5vZGVzO2ZvcigxPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAudj8ocj10aGlzLmVsZW0ubWFza01hbmFnZXIubWFza3NQcm9wZXJ0aWVzLmxlbmd0aCxzPTApOihzPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1swXS5wLnYtMSxyPXMrMSksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpLGUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLFwibm9uZVwiKSxlLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsXCJyb3VuZFwiKSxlLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsMSkscztyPnM7cys9MSl0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInBhdGhcIiksZS5hcHBlbmRDaGlsZCh0KSx0aGlzLnBhdGhzLnB1c2goe3A6dCxtOnN9KTtpZigzPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnYpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcIm1hc2tcIiksbj1cInN0bXNfXCIrcmFuZG9tU3RyaW5nKDEwKTthLnNldEF0dHJpYnV0ZShcImlkXCIsbiksYS5zZXRBdHRyaWJ1dGUoXCJtYXNrLXR5cGVcIixcImFscGhhXCIpLGEuYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChhKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO28uc2V0QXR0cmlidXRlKFwibWFza1wiLFwidXJsKCNcIituK1wiKVwiKSxpWzBdJiZvLmFwcGVuZENoaWxkKGlbMF0pLHRoaXMuZWxlbS5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQobyksdGhpcy5tYXNrZXI9YSxlLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiI2ZmZlwiKX1lbHNlIGlmKDE9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMTBdLnAudnx8Mj09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxMF0ucC52KXtpZigyPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnYpZm9yKHZhciBpPXRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGRyZW58fHRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGROb2RlcztpLmxlbmd0aDspdGhpcy5lbGVtLmxheWVyRWxlbWVudC5yZW1vdmVDaGlsZChpWzBdKTt0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbS5sYXllckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwibWFza1wiKSxlLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiI2ZmZlwiKX10aGlzLmluaXRpYWxpemVkPSEwLHRoaXMucGF0aE1hc2tlcj1lfSxTVkdTdHJva2VFZmZlY3QucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdGlhbGl6ZWR8fHRoaXMuaW5pdGlhbGl6ZSgpO3ZhciBlLHMscixpPXRoaXMucGF0aHMubGVuZ3RoO2ZvcihlPTA7aT5lO2UrPTEpaWYocz10aGlzLmVsZW0ubWFza01hbmFnZXIudmlld0RhdGFbdGhpcy5wYXRoc1tlXS5tXSxyPXRoaXMucGF0aHNbZV0ucCwodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLm1kZnx8cy5wcm9wLm1kZikmJnIuc2V0QXR0cmlidXRlKFwiZFwiLHMubGFzdFBhdGgpLHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLm1kZnx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzRdLnAubWRmfHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbN10ucC5tZGZ8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLm1kZnx8cy5wcm9wLm1kZil7dmFyIGE7aWYoMCE9PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLnZ8fDEwMCE9PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLnYpe3ZhciBuPU1hdGgubWluKHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLnYsdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzhdLnAudikvMTAwLG89TWF0aC5tYXgodGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzddLnAudix0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbOF0ucC52KS8xMDAsaD1yLmdldFRvdGFsTGVuZ3RoKCk7YT1cIjAgMCAwIFwiK2gqbitcIiBcIjt2YXIgbCxwPWgqKG8tbiksbT0xKzIqdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzRdLnAudip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbOV0ucC52LzEwMCxmPU1hdGguZmxvb3IocC9tKTtmb3IobD0wO2Y+bDtsKz0xKWErPVwiMSBcIisyKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYqdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzldLnAudi8xMDArXCIgXCI7YSs9XCIwIFwiKzEwKmgrXCIgMCAwXCJ9ZWxzZSBhPVwiMSBcIisyKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYqdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzldLnAudi8xMDA7ci5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIsYSl9aWYoKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLm1kZikmJnRoaXMucGF0aE1hc2tlci5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIiwyKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYpLCh0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNl0ucC5tZGYpJiZ0aGlzLnBhdGhNYXNrZXIuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s2XS5wLnYpLCgxPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnZ8fDI9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMTBdLnAudikmJih0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbM10ucC5tZGYpKXt2YXIgYz10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbM10ucC52O3RoaXMucGF0aE1hc2tlci5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcInJnYihcIitibV9mbG9vcigyNTUqY1swXSkrXCIsXCIrYm1fZmxvb3IoMjU1KmNbMV0pK1wiLFwiK2JtX2Zsb29yKDI1NSpjWzJdKStcIilcIil9fSxTVkdUcml0b25lRmlsdGVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIubWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LHM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1syXS5wLnYsaT1yWzBdK1wiIFwiK3NbMF0rXCIgXCIrZVswXSxhPXJbMV0rXCIgXCIrc1sxXStcIiBcIitlWzFdLG49clsyXStcIiBcIitzWzJdK1wiIFwiK2VbMl07dGhpcy5mZUZ1bmNSLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsaSksdGhpcy5mZUZ1bmNHLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsYSksdGhpcy5mZUZ1bmNCLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsbil9fSxTVkdQcm9MZXZlbHNGaWx0ZXIucHJvdG90eXBlLmNyZWF0ZUZlRnVuYz1mdW5jdGlvbih0LGUpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyx0KTtyZXR1cm4gcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxlLmFwcGVuZENoaWxkKHMpLHN9LFNWR1Byb0xldmVsc0ZpbHRlci5wcm90b3R5cGUuZ2V0VGFibGVWYWx1ZT1mdW5jdGlvbih0LGUscyxyLGkpe2Zvcih2YXIgYSxuLG89MCxoPTI1NixsPU1hdGgubWluKHQsZSkscD1NYXRoLm1heCh0LGUpLG09QXJyYXkuY2FsbChudWxsLHtsZW5ndGg6aH0pLGY9MCxjPWktcixkPWUtdDsyNTY+PW87KWE9by8yNTYsbj1sPj1hPzA+ZD9pOnI6YT49cD8wPmQ/cjppOnIrYypNYXRoLnBvdygoYS10KS9kLDEvcyksbVtmKytdPW4sbys9MjU2LyhoLTEpO3JldHVybiBtLmpvaW4oXCIgXCIpfSxTVkdQcm9MZXZlbHNGaWx0ZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5tZGYpe3ZhciBlLHM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzO3RoaXMuZmVGdW5jUkNvbXBvc2VkJiYodHx8c1syXS5wLm1kZnx8c1szXS5wLm1kZnx8c1s0XS5wLm1kZnx8c1s1XS5wLm1kZnx8c1s2XS5wLm1kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShzWzJdLnAudixzWzNdLnAudixzWzRdLnAudixzWzVdLnAudixzWzZdLnAudiksdGhpcy5mZUZ1bmNSQ29tcG9zZWQuc2V0QXR0cmlidXRlKFwidGFibGVWYWx1ZXNcIixlKSx0aGlzLmZlRnVuY0dDb21wb3NlZC5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGUpLHRoaXMuZmVGdW5jQkNvbXBvc2VkLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsZSkpLHRoaXMuZmVGdW5jUiYmKHR8fHNbOV0ucC5tZGZ8fHNbMTBdLnAubWRmfHxzWzExXS5wLm1kZnx8c1sxMl0ucC5tZGZ8fHNbMTNdLnAubWRmKSYmKGU9dGhpcy5nZXRUYWJsZVZhbHVlKHNbOV0ucC52LHNbMTBdLnAudixzWzExXS5wLnYsc1sxMl0ucC52LHNbMTNdLnAudiksdGhpcy5mZUZ1bmNSLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsZSkpLHRoaXMuZmVGdW5jRyYmKHR8fHNbMTZdLnAubWRmfHxzWzE3XS5wLm1kZnx8c1sxOF0ucC5tZGZ8fHNbMTldLnAubWRmfHxzWzIwXS5wLm1kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShzWzE2XS5wLnYsc1sxN10ucC52LHNbMThdLnAudixzWzE5XS5wLnYsc1syMF0ucC52KSx0aGlzLmZlRnVuY0cuc2V0QXR0cmlidXRlKFwidGFibGVWYWx1ZXNcIixlKSksdGhpcy5mZUZ1bmNCJiYodHx8c1syM10ucC5tZGZ8fHNbMjRdLnAubWRmfHxzWzI1XS5wLm1kZnx8c1syNl0ucC5tZGZ8fHNbMjddLnAubWRmKSYmKGU9dGhpcy5nZXRUYWJsZVZhbHVlKHNbMjNdLnAudixzWzI0XS5wLnYsc1syNV0ucC52LHNbMjZdLnAudixzWzI3XS5wLnYpLHRoaXMuZmVGdW5jQi5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGUpKSx0aGlzLmZlRnVuY0EmJih0fHxzWzMwXS5wLm1kZnx8c1szMV0ucC5tZGZ8fHNbMzJdLnAubWRmfHxzWzMzXS5wLm1kZnx8c1szNF0ucC5tZGYpJiYoZT10aGlzLmdldFRhYmxlVmFsdWUoc1szMF0ucC52LHNbMzFdLnAudixzWzMyXS5wLnYsc1szM10ucC52LHNbMzRdLnAudiksdGhpcy5mZUZ1bmNBLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsZSkpfX0sU1ZHRHJvcFNoYWRvd0VmZmVjdC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLm1kZil7aWYoKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLm1kZikmJnRoaXMuZmVHYXVzc2lhbkJsdXIuc2V0QXR0cmlidXRlKFwic3RkRGV2aWF0aW9uXCIsdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzRdLnAudi80KSx0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC5tZGYpe3ZhciBlPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1swXS5wLnY7dGhpcy5mZUZsb29kLnNldEF0dHJpYnV0ZShcImZsb29kLWNvbG9yXCIscmdiVG9IZXgoTWF0aC5yb3VuZCgyNTUqZVswXSksTWF0aC5yb3VuZCgyNTUqZVsxXSksTWF0aC5yb3VuZCgyNTUqZVsyXSkpKX1pZigodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAubWRmKSYmdGhpcy5mZUZsb29kLnNldEF0dHJpYnV0ZShcImZsb29kLW9wYWNpdHlcIix0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMV0ucC52LzI1NSksdHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzJdLnAubWRmfHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbM10ucC5tZGYpe3ZhciBzPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1szXS5wLnYscj0odGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzJdLnAudi05MCkqZGVnVG9SYWRzLGk9cypNYXRoLmNvcyhyKSxhPXMqTWF0aC5zaW4ocik7dGhpcy5mZU9mZnNldC5zZXRBdHRyaWJ1dGUoXCJkeFwiLGkpLHRoaXMuZmVPZmZzZXQuc2V0QXR0cmlidXRlKFwiZHlcIixhKX19fSxTVkdNYXR0ZTNFZmZlY3QucHJvdG90eXBlLnNldEVsZW1lbnRBc01hc2s9ZnVuY3Rpb24odCxlKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpO3Muc2V0QXR0cmlidXRlKFwiaWRcIixlLmxheWVySWQpLHMuc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJhbHBoYVwiKSxzLmFwcGVuZENoaWxkKGUubGF5ZXJFbGVtZW50KSx0LnNldE1hdHRlKGUubGF5ZXJJZCksZS5kYXRhLmhkPSExO3ZhciByPXQuZ2xvYmFsRGF0YS5kZWZzO3IuYXBwZW5kQ2hpbGQocyl9LFNWR01hdHRlM0VmZmVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LGU9MCxzPXRoaXMuZWxlbS5jb21wLmVsZW1lbnRzLmxlbmd0aDtzPmU7KXRoaXMuZWxlbS5jb21wLmVsZW1lbnRzW2VdLmRhdGEuaW5kPT09dCYmdGhpcy5zZXRFbGVtZW50QXNNYXNrKHRoaXMuZWxlbSx0aGlzLmVsZW0uY29tcC5lbGVtZW50c1tlXSksZSs9MTt0aGlzLmluaXRpYWxpemVkPSEwfSxTVkdNYXR0ZTNFZmZlY3QucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplZHx8dGhpcy5pbml0aWFsaXplKCl9LFNWR0VmZmVjdHMucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHM9dGhpcy5maWx0ZXJzLmxlbmd0aDtmb3IoZT0wO3M+ZTtlKz0xKXRoaXMuZmlsdGVyc1tlXS5yZW5kZXJGcmFtZSh0KX0sY3JlYXRlRWxlbWVudChTVkdCYXNlRWxlbWVudCxJQ29tcEVsZW1lbnQpLElDb21wRWxlbWVudC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2lmKCF0aGlzLmhpZGRlbil7dGhpcy5fcGFyZW50LmhpZGUuY2FsbCh0aGlzKTt2YXIgdCxlPXRoaXMuZWxlbWVudHMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5lbGVtZW50c1t0XSYmdGhpcy5lbGVtZW50c1t0XS5oaWRlKCl9fSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9wYXJlbnQucHJlcGFyZUZyYW1lLmNhbGwodGhpcyx0KSx0aGlzLmlzVmlzaWJsZSE9PSExfHx0aGlzLmRhdGEueHQpe2lmKHRoaXMudG0pe3ZhciBlPXRoaXMudG0udjtlPT09dGhpcy5kYXRhLm9wJiYoZT10aGlzLmRhdGEub3AtMSksdGhpcy5yZW5kZXJlZEZyYW1lPWV9ZWxzZSB0aGlzLnJlbmRlcmVkRnJhbWU9dC90aGlzLmRhdGEuc3I7dmFyIHMscj10aGlzLmVsZW1lbnRzLmxlbmd0aDtmb3IodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5jaGVja0xheWVycyh0aGlzLnJlbmRlcmVkRnJhbWUpLHM9MDtyPnM7cys9MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tzXSkmJnRoaXMuZWxlbWVudHNbc10ucHJlcGFyZUZyYW1lKHRoaXMucmVuZGVyZWRGcmFtZS10aGlzLmxheWVyc1tzXS5zdCl9fSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHM9dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSxyPXRoaXMubGF5ZXJzLmxlbmd0aDtpZihzPT09ITEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7Zm9yKHRoaXMuaGlkZGVuJiZ0aGlzLnNob3coKSxlPTA7cj5lO2UrPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCk7dGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX0sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5zZXRFbGVtZW50cz1mdW5jdGlvbih0KXt0aGlzLmVsZW1lbnRzPXR9LElDb21wRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50c30sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzLl9wYXJlbnQpO3ZhciB0LGU9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5lbGVtZW50c1t0XSYmdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCl9LElDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tMYXllcnM9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrTGF5ZXJzLElDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRJdGVtPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW0sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zLElDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmcsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVJdGVtPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtLElDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUltYWdlLElDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ29tcD1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29tcCxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNvbGlkPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTb2xpZCxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYXBlPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVRleHQ9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRleHQsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCYXNlPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVCYXNlLElDb21wRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5hcHBlbmRFbGVtZW50SW5Qb3MsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jaGVja1BlbmRpbmdFbGVtZW50cz1TVkdSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHMsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudD1TVkdSZW5kZXJlci5wcm90b3R5cGUuYWRkUGVuZGluZ0VsZW1lbnQsY3JlYXRlRWxlbWVudChTVkdCYXNlRWxlbWVudCxJSW1hZ2VFbGVtZW50KSxJSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKTt0aGlzLl9wYXJlbnQuY3JlYXRlRWxlbWVudHMuY2FsbCh0aGlzKSx0aGlzLmlubmVyRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJpbWFnZVwiKSx0aGlzLmlubmVyRWxlbS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuYXNzZXREYXRhLncrXCJweFwiKSx0aGlzLmlubmVyRWxlbS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmFzc2V0RGF0YS5oK1wicHhcIiksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLFwieE1pZFlNaWQgc2xpY2VcIiksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJocmVmXCIsdCksdGhpcy5tYXNrZWRFbGVtZW50PXRoaXMuaW5uZXJFbGVtLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaW5uZXJFbGVtKSx0aGlzLmRhdGEubG4mJnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5kYXRhLmxuKSx0aGlzLmRhdGEuY2wmJnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5kYXRhLmNsKX0sSUltYWdlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KTtyZXR1cm4gZT09PSExP3ZvaWQgdGhpcy5oaWRlKCk6KHRoaXMuaGlkZGVuJiZ0aGlzLnNob3coKSx2b2lkKHRoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSkpKX0sSUltYWdlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5kZXN0cm95LmNhbGwodGhpcy5fcGFyZW50KSx0aGlzLmlubmVyRWxlbT1udWxsfSxjcmVhdGVFbGVtZW50KFNWR0Jhc2VFbGVtZW50LElTb2xpZEVsZW1lbnQpLElTb2xpZEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmNyZWF0ZUVsZW1lbnRzLmNhbGwodGhpcyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicmVjdFwiKTt0LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5kYXRhLnN3KSx0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHRoaXMuZGF0YS5zaCksdC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5kYXRhLnNjKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0KSx0aGlzLmlubmVyRWxlbT10LHRoaXMuZGF0YS5sbiYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuZGF0YS5jbCYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0aGlzLmRhdGEuY2wpfSxJU29saWRFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1JSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZSxJU29saWRFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PUlJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k7dmFyIGFuaW1hdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgZT0wLHM9dC50YXJnZXQ7Qz5lOylTW2VdLmFuaW1hdGlvbj09PXMmJihTLnNwbGljZShlLDEpLGUtPTEsQy09MSxzLmlzUGF1c2VkfHxyKCkpLGUrPTF9ZnVuY3Rpb24gZSh0LGUpe2lmKCF0KXJldHVybiBudWxsO2Zvcih2YXIgcz0wO0M+czspe2lmKFNbc10uZWxlbT09dCYmbnVsbCE9PVNbc10uZWxlbSlyZXR1cm4gU1tzXS5hbmltYXRpb247cys9MX12YXIgcj1uZXcgQW5pbWF0aW9uSXRlbTtyZXR1cm4gaShyLHQpLHIuc2V0RGF0YSh0LGUpLHJ9ZnVuY3Rpb24gcygpe00rPTEsRSgpfWZ1bmN0aW9uIHIoKXtNLT0xLDA9PT1NJiYoaz0hMCl9ZnVuY3Rpb24gaShlLGkpe2UuYWRkRXZlbnRMaXN0ZW5lcihcImRlc3Ryb3lcIix0KSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJfYWN0aXZlXCIscyksZS5hZGRFdmVudExpc3RlbmVyKFwiX2lkbGVcIixyKSxTLnB1c2goe2VsZW06aSxhbmltYXRpb246ZX0pLEMrPTF9ZnVuY3Rpb24gYSh0KXt2YXIgZT1uZXcgQW5pbWF0aW9uSXRlbTtyZXR1cm4gaShlLG51bGwpLGUuc2V0UGFyYW1zKHQpLGV9ZnVuY3Rpb24gbih0LGUpe3ZhciBzO2ZvcihzPTA7Qz5zO3MrPTEpU1tzXS5hbmltYXRpb24uc2V0U3BlZWQodCxlKX1mdW5jdGlvbiBvKHQsZSl7dmFyIHM7Zm9yKHM9MDtDPnM7cys9MSlTW3NdLmFuaW1hdGlvbi5zZXREaXJlY3Rpb24odCxlKX1mdW5jdGlvbiBoKHQpe3ZhciBlO2ZvcihlPTA7Qz5lO2UrPTEpU1tlXS5hbmltYXRpb24ucGxheSh0KX1mdW5jdGlvbiBsKHQsZSl7eD1EYXRlLm5vdygpO3ZhciBzO2ZvcihzPTA7Qz5zO3MrPTEpU1tzXS5hbmltYXRpb24ubW92ZUZyYW1lKHQsZSl9ZnVuY3Rpb24gcCh0KXt2YXIgZSxzPXQteDtmb3IoZT0wO0M+ZTtlKz0xKVNbZV0uYW5pbWF0aW9uLmFkdmFuY2VUaW1lKHMpO3g9dCxrfHxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocCl9ZnVuY3Rpb24gbSh0KXt4PXQscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHApfWZ1bmN0aW9uIGYodCl7dmFyIGU7Zm9yKGU9MDtDPmU7ZSs9MSlTW2VdLmFuaW1hdGlvbi5wYXVzZSh0KX1mdW5jdGlvbiBjKHQsZSxzKXt2YXIgcjtmb3Iocj0wO0M+cjtyKz0xKVNbcl0uYW5pbWF0aW9uLmdvVG9BbmRTdG9wKHQsZSxzKX1mdW5jdGlvbiBkKHQpe3ZhciBlO2ZvcihlPTA7Qz5lO2UrPTEpU1tlXS5hbmltYXRpb24uc3RvcCh0KX1mdW5jdGlvbiB1KHQpe3ZhciBlO2ZvcihlPTA7Qz5lO2UrPTEpU1tlXS5hbmltYXRpb24udG9nZ2xlUGF1c2UodCl9ZnVuY3Rpb24geSh0KXt2YXIgZTtmb3IoZT1DLTE7ZT49MDtlLT0xKVNbZV0uYW5pbWF0aW9uLmRlc3Ryb3kodCl9ZnVuY3Rpb24gZyh0LHMscil7dmFyIGksYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYm9keW1vdmluXCIpLG49YS5sZW5ndGg7Zm9yKGk9MDtuPmk7aSs9MSlyJiZhW2ldLnNldEF0dHJpYnV0ZShcImRhdGEtYm0tdHlwZVwiLHIpLGUoYVtpXSx0KTtpZihzJiYwPT09bil7cnx8KHI9XCJzdmdcIik7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO28uaW5uZXJIVE1MPVwiXCI7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLnN0eWxlLndpZHRoPVwiMTAwJVwiLGguc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLGguc2V0QXR0cmlidXRlKFwiZGF0YS1ibS10eXBlXCIsciksby5hcHBlbmRDaGlsZChoKSxlKGgsdCl9fWZ1bmN0aW9uIHYoKXt2YXIgdDtmb3IodD0wO0M+dDt0Kz0xKVNbdF0uYW5pbWF0aW9uLnJlc2l6ZSgpfWZ1bmN0aW9uIGIoKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUobSl9ZnVuY3Rpb24gRSgpe2smJihrPSExLHJlcXVlc3RBbmltYXRpb25GcmFtZShtKSl9dmFyIFA9e30sUz1bXSx4PTAsQz0wLGs9ITAsTT0wO3JldHVybiBzZXRUaW1lb3V0KGIsMCksUC5yZWdpc3RlckFuaW1hdGlvbj1lLFAubG9hZEFuaW1hdGlvbj1hLFAuc2V0U3BlZWQ9bixQLnNldERpcmVjdGlvbj1vLFAucGxheT1oLFAubW92ZUZyYW1lPWwsUC5wYXVzZT1mLFAuc3RvcD1kLFAudG9nZ2xlUGF1c2U9dSxQLnNlYXJjaEFuaW1hdGlvbnM9ZyxQLnJlc2l6ZT12LFAuc3RhcnQ9YixQLmdvVG9BbmRTdG9wPWMsUC5kZXN0cm95PXksUH0oKSxBbmltYXRpb25JdGVtPWZ1bmN0aW9uKCl7dGhpcy5fY2JzPVtdLHRoaXMubmFtZT1cIlwiLHRoaXMucGF0aD1cIlwiLHRoaXMuaXNMb2FkZWQ9ITEsdGhpcy5jdXJyZW50RnJhbWU9MCx0aGlzLmN1cnJlbnRSYXdGcmFtZT0wLHRoaXMudG90YWxGcmFtZXM9MCx0aGlzLmZyYW1lUmF0ZT0wLHRoaXMuZnJhbWVNdWx0PTAsdGhpcy5wbGF5U3BlZWQ9MSx0aGlzLnBsYXlEaXJlY3Rpb249MSx0aGlzLnBlbmRpbmdFbGVtZW50cz0wLHRoaXMucGxheUNvdW50PTAsdGhpcy5wcmVyZW5kZXJGcmFtZXNGbGFnPSEwLHRoaXMuYW5pbWF0aW9uRGF0YT17fSx0aGlzLmxheWVycz1bXSx0aGlzLmFzc2V0cz1bXSx0aGlzLmlzUGF1c2VkPSEwLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5sb29wPSEwLHRoaXMucmVuZGVyZXI9bnVsbCx0aGlzLmFuaW1hdGlvbklEPXJhbmRvbVN0cmluZygxMCksdGhpcy5zY2FsZU1vZGU9XCJmaXRcIix0aGlzLmFzc2V0c1BhdGg9XCJcIix0aGlzLnRpbWVDb21wbGV0ZWQ9MCx0aGlzLnNlZ21lbnRQb3M9MCx0aGlzLnN1YmZyYW1lRW5hYmxlZD1zdWJmcmFtZUVuYWJsZWQsdGhpcy5zZWdtZW50cz1bXSx0aGlzLnBlbmRpbmdTZWdtZW50PSExLHRoaXMuX2lkbGU9ITAsdGhpcy5wcm9qZWN0SW50ZXJmYWNlPVByb2plY3RJbnRlcmZhY2UoKX07QW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0UGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5jb250ZXh0JiYodGhpcy5jb250ZXh0PXQuY29udGV4dCksKHQud3JhcHBlcnx8dC5jb250YWluZXIpJiYodGhpcy53cmFwcGVyPXQud3JhcHBlcnx8dC5jb250YWluZXIpO3ZhciBzPXQuYW5pbVR5cGU/dC5hbmltVHlwZTp0LnJlbmRlcmVyP3QucmVuZGVyZXI6XCJzdmdcIjtzd2l0Y2gocyl7Y2FzZVwiY2FudmFzXCI6dGhpcy5yZW5kZXJlcj1uZXcgQ2FudmFzUmVuZGVyZXIodGhpcyx0LnJlbmRlcmVyU2V0dGluZ3MpO2JyZWFrO2Nhc2VcInN2Z1wiOnRoaXMucmVuZGVyZXI9bmV3IFNWR1JlbmRlcmVyKHRoaXMsdC5yZW5kZXJlclNldHRpbmdzKTticmVhaztjYXNlXCJoeWJyaWRcIjpjYXNlXCJodG1sXCI6ZGVmYXVsdDp0aGlzLnJlbmRlcmVyPW5ldyBIeWJyaWRSZW5kZXJlcih0aGlzLHQucmVuZGVyZXJTZXR0aW5ncyl9aWYodGhpcy5yZW5kZXJlci5zZXRQcm9qZWN0SW50ZXJmYWNlKHRoaXMucHJvamVjdEludGVyZmFjZSksdGhpcy5hbmltVHlwZT1zLFwiXCI9PT10Lmxvb3B8fG51bGw9PT10Lmxvb3B8fCh0aGlzLmxvb3A9dC5sb29wPT09ITE/ITE6dC5sb29wPT09ITA/ITA6cGFyc2VJbnQodC5sb29wKSksdGhpcy5hdXRvcGxheT1cImF1dG9wbGF5XCJpbiB0P3QuYXV0b3BsYXk6ITAsdGhpcy5uYW1lPXQubmFtZT90Lm5hbWU6XCJcIix0aGlzLnByZXJlbmRlckZyYW1lc0ZsYWc9XCJwcmVyZW5kZXJcImluIHQ/dC5wcmVyZW5kZXI6ITAsdGhpcy5hdXRvbG9hZFNlZ21lbnRzPXQuaGFzT3duUHJvcGVydHkoXCJhdXRvbG9hZFNlZ21lbnRzXCIpP3QuYXV0b2xvYWRTZWdtZW50czohMCx0LmFuaW1hdGlvbkRhdGEpZS5jb25maWdBbmltYXRpb24odC5hbmltYXRpb25EYXRhKTtlbHNlIGlmKHQucGF0aCl7XCJqc29uXCIhPXQucGF0aC5zdWJzdHIoLTQpJiYoXCIvXCIhPXQucGF0aC5zdWJzdHIoLTEsMSkmJih0LnBhdGgrPVwiL1wiKSx0LnBhdGgrPVwiZGF0YS5qc29uXCIpO3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDt0aGlzLnBhdGg9LTEhPXQucGF0aC5sYXN0SW5kZXhPZihcIlxcXFxcIik/dC5wYXRoLnN1YnN0cigwLHQucGF0aC5sYXN0SW5kZXhPZihcIlxcXFxcIikrMSk6dC5wYXRoLnN1YnN0cigwLHQucGF0aC5sYXN0SW5kZXhPZihcIi9cIikrMSksdGhpcy5hc3NldHNQYXRoPXQuYXNzZXRzUGF0aCx0aGlzLmZpbGVOYW1lPXQucGF0aC5zdWJzdHIodC5wYXRoLmxhc3RJbmRleE9mKFwiL1wiKSsxKSx0aGlzLmZpbGVOYW1lPXRoaXMuZmlsZU5hbWUuc3Vic3RyKDAsdGhpcy5maWxlTmFtZS5sYXN0SW5kZXhPZihcIi5qc29uXCIpKSxyLm9wZW4oXCJHRVRcIix0LnBhdGgsITApLHIuc2VuZCgpLHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09ci5yZWFkeVN0YXRlKWlmKDIwMD09ci5zdGF0dXMpZS5jb25maWdBbmltYXRpb24oSlNPTi5wYXJzZShyLnJlc3BvbnNlVGV4dCkpO2Vsc2UgdHJ5e3ZhciB0PUpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpO2UuY29uZmlnQW5pbWF0aW9uKHQpfWNhdGNoKHMpe319fX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0LGUpe3ZhciBzPXt3cmFwcGVyOnQsYW5pbWF0aW9uRGF0YTplP1wib2JqZWN0XCI9PXR5cGVvZiBlP2U6SlNPTi5wYXJzZShlKTpudWxsfSxyPXQuYXR0cmlidXRlcztzLnBhdGg9ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWFuaW1hdGlvbi1wYXRoXCIpP3IuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltYXRpb24tcGF0aFwiKS52YWx1ZTpyLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcGF0aFwiKT9yLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcGF0aFwiKS52YWx1ZTpyLmdldE5hbWVkSXRlbShcImJtLXBhdGhcIik/ci5nZXROYW1lZEl0ZW0oXCJibS1wYXRoXCIpLnZhbHVlOlwiXCIscy5hbmltVHlwZT1yLmdldE5hbWVkSXRlbShcImRhdGEtYW5pbS10eXBlXCIpP3IuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLXR5cGVcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXR5cGVcIik/ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXR5cGVcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJibS10eXBlXCIpP3IuZ2V0TmFtZWRJdGVtKFwiYm0tdHlwZVwiKS52YWx1ZTpyLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcmVuZGVyZXJcIik/ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXJlbmRlcmVyXCIpLnZhbHVlOnIuZ2V0TmFtZWRJdGVtKFwiYm0tcmVuZGVyZXJcIik/ci5nZXROYW1lZEl0ZW0oXCJibS1yZW5kZXJlclwiKS52YWx1ZTpcImNhbnZhc1wiO3ZhciBpPXIuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWxvb3BcIik/ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWFuaW0tbG9vcFwiKS52YWx1ZTpyLmdldE5hbWVkSXRlbShcImRhdGEtYm0tbG9vcFwiKT9yLmdldE5hbWVkSXRlbShcImRhdGEtYm0tbG9vcFwiKS52YWx1ZTpyLmdldE5hbWVkSXRlbShcImJtLWxvb3BcIik/ci5nZXROYW1lZEl0ZW0oXCJibS1sb29wXCIpLnZhbHVlOlwiXCI7XCJcIj09PWl8fChzLmxvb3A9XCJmYWxzZVwiPT09aT8hMTpcInRydWVcIj09PWk/ITA6cGFyc2VJbnQoaSkpO3ZhciBhPXIuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWF1dG9wbGF5XCIpP3IuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWF1dG9wbGF5XCIpLnZhbHVlOnIuZ2V0TmFtZWRJdGVtKFwiZGF0YS1ibS1hdXRvcGxheVwiKT9yLmdldE5hbWVkSXRlbShcImRhdGEtYm0tYXV0b3BsYXlcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJibS1hdXRvcGxheVwiKT9yLmdldE5hbWVkSXRlbShcImJtLWF1dG9wbGF5XCIpLnZhbHVlOiEwO3MuYXV0b3BsYXk9XCJmYWxzZVwiIT09YSxzLm5hbWU9ci5nZXROYW1lZEl0ZW0oXCJkYXRhLW5hbWVcIik/ci5nZXROYW1lZEl0ZW0oXCJkYXRhLW5hbWVcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLW5hbWVcIik/ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLW5hbWVcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJibS1uYW1lXCIpP3IuZ2V0TmFtZWRJdGVtKFwiYm0tbmFtZVwiKS52YWx1ZTpcIlwiO3ZhciBuPXIuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLXByZXJlbmRlclwiKT9yLmdldE5hbWVkSXRlbShcImRhdGEtYW5pbS1wcmVyZW5kZXJcIikudmFsdWU6ci5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXByZXJlbmRlclwiKT9yLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcHJlcmVuZGVyXCIpLnZhbHVlOnIuZ2V0TmFtZWRJdGVtKFwiYm0tcHJlcmVuZGVyXCIpP3IuZ2V0TmFtZWRJdGVtKFwiYm0tcHJlcmVuZGVyXCIpLnZhbHVlOlwiXCI7XCJmYWxzZVwiPT09biYmKHMucHJlcmVuZGVyPSExKSxjb25zb2xlLmxvZyhcImFuaW1FbGVtZW50czpcIixzKSx0aGlzLnNldFBhcmFtcyhzKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuaW5jbHVkZUxheWVycz1mdW5jdGlvbih0KXt0Lm9wPnRoaXMuYW5pbWF0aW9uRGF0YS5vcCYmKHRoaXMuYW5pbWF0aW9uRGF0YS5vcD10Lm9wLHRoaXMudG90YWxGcmFtZXM9TWF0aC5mbG9vcih0Lm9wLXRoaXMuYW5pbWF0aW9uRGF0YS5pcCksdGhpcy5hbmltYXRpb25EYXRhLnRmPXRoaXMudG90YWxGcmFtZXMpO3ZhciBlLHMscj10aGlzLmFuaW1hdGlvbkRhdGEubGF5ZXJzLGk9ci5sZW5ndGgsYT10LmxheWVycyxuPWEubGVuZ3RoO2ZvcihzPTA7bj5zO3MrPTEpZm9yKGU9MDtpPmU7KXtpZihyW2VdLmlkPT1hW3NdLmlkKXtyW2VdPWFbc107YnJlYWt9ZSs9MX1pZigodC5jaGFyc3x8dC5mb250cykmJih0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkQ2hhcnModC5jaGFycyksdGhpcy5yZW5kZXJlci5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmFkZEZvbnRzKHQuZm9udHMsdGhpcy5yZW5kZXJlci5nbG9iYWxEYXRhLmRlZnMpKSx0LmFzc2V0cylmb3IoaT10LmFzc2V0cy5sZW5ndGgsZT0wO2k+ZTtlKz0xKXRoaXMuYW5pbWF0aW9uRGF0YS5hc3NldHMucHVzaCh0LmFzc2V0c1tlXSk7dGhpcy5hbmltYXRpb25EYXRhLl9fY29tcGxldGU9ITEsZGF0YU1hbmFnZXIuY29tcGxldGVEYXRhKHRoaXMuYW5pbWF0aW9uRGF0YSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIpLHRoaXMucmVuZGVyZXIuaW5jbHVkZUxheWVycyh0LmxheWVycyksZXhwcmVzc2lvbnNQbHVnaW4mJmV4cHJlc3Npb25zUGx1Z2luLmluaXRFeHByZXNzaW9ucyh0aGlzKSx0aGlzLnJlbmRlcmVyLnJlbmRlckZyYW1lKG51bGwpLHRoaXMubG9hZE5leHRTZWdtZW50KCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmxvYWROZXh0U2VnbWVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYW5pbWF0aW9uRGF0YS5zZWdtZW50cztpZighdHx8MD09PXQubGVuZ3RofHwhdGhpcy5hdXRvbG9hZFNlZ21lbnRzKXJldHVybiB0aGlzLnRyaWdnZXIoXCJkYXRhX3JlYWR5XCIpLHZvaWQodGhpcy50aW1lQ29tcGxldGVkPXRoaXMuYW5pbWF0aW9uRGF0YS50Zik7dmFyIGU9dC5zaGlmdCgpO3RoaXMudGltZUNvbXBsZXRlZD1lLnRpbWUqdGhpcy5mcmFtZVJhdGU7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0LHI9dGhpcyxpPXRoaXMucGF0aCt0aGlzLmZpbGVOYW1lK1wiX1wiK3RoaXMuc2VnbWVudFBvcytcIi5qc29uXCI7dGhpcy5zZWdtZW50UG9zKz0xLHMub3BlbihcIkdFVFwiLGksITApLHMuc2VuZCgpLHMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09cy5yZWFkeVN0YXRlKWlmKDIwMD09cy5zdGF0dXMpci5pbmNsdWRlTGF5ZXJzKEpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpKTtlbHNlIHRyeXt2YXIgdD1KU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KTtyLmluY2x1ZGVMYXllcnModCl9Y2F0Y2goZSl7fX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmxvYWRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYW5pbWF0aW9uRGF0YS5zZWdtZW50czt0fHwodGhpcy50aW1lQ29tcGxldGVkPXRoaXMuYW5pbWF0aW9uRGF0YS50ZiksdGhpcy5sb2FkTmV4dFNlZ21lbnQoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuY29uZmlnQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMucmVuZGVyZXImJnRoaXMucmVuZGVyZXIuZGVzdHJveWVkfHwodGhpcy5hbmltYXRpb25EYXRhPXQsdGhpcy50b3RhbEZyYW1lcz1NYXRoLmZsb29yKHRoaXMuYW5pbWF0aW9uRGF0YS5vcC10aGlzLmFuaW1hdGlvbkRhdGEuaXApLHRoaXMuYW5pbWF0aW9uRGF0YS50Zj10aGlzLnRvdGFsRnJhbWVzLHRoaXMucmVuZGVyZXIuY29uZmlnQW5pbWF0aW9uKHQpLHQuYXNzZXRzfHwodC5hc3NldHM9W10pLHQuY29tcHMmJih0LmFzc2V0cz10LmFzc2V0cy5jb25jYXQodC5jb21wcyksdC5jb21wcz1udWxsKSx0aGlzLnJlbmRlcmVyLnNlYXJjaEV4dHJhQ29tcG9zaXRpb25zKHQuYXNzZXRzKSx0aGlzLmxheWVycz10aGlzLmFuaW1hdGlvbkRhdGEubGF5ZXJzLHRoaXMuYXNzZXRzPXRoaXMuYW5pbWF0aW9uRGF0YS5hc3NldHMsdGhpcy5mcmFtZVJhdGU9dGhpcy5hbmltYXRpb25EYXRhLmZyLHRoaXMuZmlyc3RGcmFtZT1NYXRoLnJvdW5kKHRoaXMuYW5pbWF0aW9uRGF0YS5pcCksdGhpcy5mcmFtZU11bHQ9dGhpcy5hbmltYXRpb25EYXRhLmZyLzFlMyx0aGlzLnRyaWdnZXIoXCJjb25maWdfcmVhZHlcIiksdGhpcy5pbWFnZVByZWxvYWRlcj1uZXcgSW1hZ2VQcmVsb2FkZXIsdGhpcy5pbWFnZVByZWxvYWRlci5zZXRBc3NldHNQYXRoKHRoaXMuYXNzZXRzUGF0aCksdGhpcy5pbWFnZVByZWxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCksdGhpcy5pbWFnZVByZWxvYWRlci5sb2FkQXNzZXRzKHQuYXNzZXRzKSx0aGlzLmxvYWRTZWdtZW50cygpLHRoaXMudXBkYUZyYW1lTW9kaWZpZXIoKSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXI/dGhpcy53YWl0Rm9yRm9udHNMb2FkZWQoKTooZGF0YU1hbmFnZXIuY29tcGxldGVEYXRhKHRoaXMuYW5pbWF0aW9uRGF0YSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIpLHRoaXMuY2hlY2tMb2FkZWQoKSkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS53YWl0Rm9yRm9udHNMb2FkZWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5yZW5kZXJlci5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmxvYWRlZD8oZGF0YU1hbmFnZXIuY29tcGxldGVEYXRhKHRoaXMuYW5pbWF0aW9uRGF0YSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIpLHRoaXMuY2hlY2tMb2FkZWQoKSk6c2V0VGltZW91dCh0LmJpbmQodGhpcyksMjApfXJldHVybiBmdW5jdGlvbigpe3QuYmluZCh0aGlzKSgpfX0oKSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudD1mdW5jdGlvbigpe3RoaXMucGVuZGluZ0VsZW1lbnRzKz0xfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5lbGVtZW50TG9hZGVkPWZ1bmN0aW9uKCl7dGhpcy5wZW5kaW5nRWxlbWVudHMtLSx0aGlzLmNoZWNrTG9hZGVkKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmNoZWNrTG9hZGVkPWZ1bmN0aW9uKCl7MD09PXRoaXMucGVuZGluZ0VsZW1lbnRzJiYoZXhwcmVzc2lvbnNQbHVnaW4mJmV4cHJlc3Npb25zUGx1Z2luLmluaXRFeHByZXNzaW9ucyh0aGlzKSx0aGlzLnJlbmRlcmVyLmluaXRJdGVtcygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoXCJET01Mb2FkZWRcIil9LmJpbmQodGhpcyksMCksdGhpcy5pc0xvYWRlZD0hMCx0aGlzLmdvdG9GcmFtZSgpLHRoaXMuYXV0b3BsYXkmJnRoaXMucGxheSgpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVDb250YWluZXJTaXplKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldFN1YmZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuc3ViZnJhbWVFbmFibGVkPXQ/ITA6ITF9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdvdG9GcmFtZT1mdW5jdGlvbigpe3RoaXMuY3VycmVudEZyYW1lPXRoaXMuc3ViZnJhbWVFbmFibGVkP3RoaXMuY3VycmVudFJhd0ZyYW1lOk1hdGguZmxvb3IodGhpcy5jdXJyZW50UmF3RnJhbWUpLHRoaXMudGltZUNvbXBsZXRlZCE9PXRoaXMudG90YWxGcmFtZXMmJnRoaXMuY3VycmVudEZyYW1lPnRoaXMudGltZUNvbXBsZXRlZCYmKHRoaXMuY3VycmVudEZyYW1lPXRoaXMudGltZUNvbXBsZXRlZCksdGhpcy50cmlnZ2VyKFwiZW50ZXJGcmFtZVwiKSx0aGlzLnJlbmRlckZyYW1lKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRlZCE9PSExJiZ0aGlzLnJlbmRlcmVyLnJlbmRlckZyYW1lKHRoaXMuY3VycmVudEZyYW1lK3RoaXMuZmlyc3RGcmFtZSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHx0aGlzLmlzUGF1c2VkPT09ITAmJih0aGlzLmlzUGF1c2VkPSExLHRoaXMuX2lkbGUmJih0aGlzLl9pZGxlPSExLHRoaXMudHJpZ2dlcihcIl9hY3RpdmVcIikpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHx0aGlzLmlzUGF1c2VkPT09ITEmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucGVuZGluZ1NlZ21lbnR8fCh0aGlzLl9pZGxlPSEwLHRoaXMudHJpZ2dlcihcIl9pZGxlXCIpKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnRvZ2dsZVBhdXNlPWZ1bmN0aW9uKHQpe3QmJnRoaXMubmFtZSE9dHx8KHRoaXMuaXNQYXVzZWQ9PT0hMD90aGlzLnBsYXkoKTp0aGlzLnBhdXNlKCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3QmJnRoaXMubmFtZSE9dHx8KHRoaXMucGF1c2UoKSx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRSYXdGcmFtZT0wLHRoaXMucGxheUNvdW50PTAsdGhpcy5nb3RvRnJhbWUoKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdvVG9BbmRTdG9wPWZ1bmN0aW9uKHQsZSxzKXtzJiZ0aGlzLm5hbWUhPXN8fCh0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKGU/dDp0KnRoaXMuZnJhbWVNb2RpZmllciksdGhpcy5wYXVzZSgpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ29Ub0FuZFBsYXk9ZnVuY3Rpb24odCxlLHMpe3RoaXMuZ29Ub0FuZFN0b3AodCxlLHMpLHRoaXMucGxheSgpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5hZHZhbmNlVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wZW5kaW5nU2VnbWVudD8odGhpcy5wZW5kaW5nU2VnbWVudD0hMSx0aGlzLmFkanVzdFNlZ21lbnQodGhpcy5zZWdtZW50cy5zaGlmdCgpKSx2b2lkKHRoaXMuaXNQYXVzZWQmJnRoaXMucGxheSgpKSk6dm9pZCh0aGlzLmlzUGF1c2VkIT09ITAmJnRoaXMuaXNMb2FkZWQhPT0hMSYmdGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSh0aGlzLmN1cnJlbnRSYXdGcmFtZSt0KnRoaXMuZnJhbWVNb2RpZmllcikpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSh0aGlzLnRvdGFsRnJhbWVzKnQpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5tb3ZlRnJhbWU9ZnVuY3Rpb24odCxlKXtlJiZ0aGlzLm5hbWUhPWV8fHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUodGhpcy5jdXJyZW50UmF3RnJhbWUrdCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmFkanVzdFNlZ21lbnQ9ZnVuY3Rpb24odCl7dGhpcy5wbGF5Q291bnQ9MCx0WzFdPHRbMF0/KHRoaXMuZnJhbWVNb2RpZmllcj4wJiYodGhpcy5wbGF5U3BlZWQ8MD90aGlzLnNldFNwZWVkKC10aGlzLnBsYXlTcGVlZCk6dGhpcy5zZXREaXJlY3Rpb24oLTEpKSx0aGlzLnRvdGFsRnJhbWVzPXRbMF0tdFsxXSx0aGlzLmZpcnN0RnJhbWU9dFsxXSx0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKHRoaXMudG90YWxGcmFtZXMtLjAxKSk6dFsxXT50WzBdJiYodGhpcy5mcmFtZU1vZGlmaWVyPDAmJih0aGlzLnBsYXlTcGVlZDwwP3RoaXMuc2V0U3BlZWQoLXRoaXMucGxheVNwZWVkKTp0aGlzLnNldERpcmVjdGlvbigxKSksdGhpcy50b3RhbEZyYW1lcz10WzFdLXRbMF0sdGhpcy5maXJzdEZyYW1lPXRbMF0sdGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSgwKSksdGhpcy50cmlnZ2VyKFwic2VnbWVudFN0YXJ0XCIpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXRTZWdtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHM9LTE7dGhpcy5pc1BhdXNlZCYmKHRoaXMuY3VycmVudFJhd0ZyYW1lK3RoaXMuZmlyc3RGcmFtZTx0P3M9dDp0aGlzLmN1cnJlbnRSYXdGcmFtZSt0aGlzLmZpcnN0RnJhbWU+ZSYmKHM9ZS10LS4wMSkpLHRoaXMuZmlyc3RGcmFtZT10LHRoaXMudG90YWxGcmFtZXM9ZS10LC0xIT09cyYmdGhpcy5nb1RvQW5kU3RvcChzLCEwKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucGxheVNlZ21lbnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHRbMF0pe3ZhciBzLHI9dC5sZW5ndGg7Zm9yKHM9MDtyPnM7cys9MSl0aGlzLnNlZ21lbnRzLnB1c2godFtzXSl9ZWxzZSB0aGlzLnNlZ21lbnRzLnB1c2godCk7ZSYmdGhpcy5hZGp1c3RTZWdtZW50KHRoaXMuc2VnbWVudHMuc2hpZnQoKSksdGhpcy5pc1BhdXNlZCYmdGhpcy5wbGF5KCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnJlc2V0U2VnbWVudHM9ZnVuY3Rpb24odCl7dGhpcy5zZWdtZW50cy5sZW5ndGg9MCx0aGlzLnNlZ21lbnRzLnB1c2goW3RoaXMuYW5pbWF0aW9uRGF0YS5pcCp0aGlzLmZyYW1lUmF0ZSxNYXRoLmZsb29yKHRoaXMuYW5pbWF0aW9uRGF0YS5vcC10aGlzLmFuaW1hdGlvbkRhdGEuaXArdGhpcy5hbmltYXRpb25EYXRhLmlwKnRoaXMuZnJhbWVSYXRlKV0pLHQmJnRoaXMuYWRqdXN0U2VnbWVudCh0aGlzLnNlZ21lbnRzLnNoaWZ0KCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5jaGVja1NlZ21lbnRzPWZ1bmN0aW9uKCl7dGhpcy5zZWdtZW50cy5sZW5ndGgmJih0aGlzLnBlbmRpbmdTZWdtZW50PSEwKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3QmJnRoaXMubmFtZSE9dHx8dGhpcy5yZW5kZXJlci5kZXN0cm95KCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHx0aGlzLnJlbmRlcmVyJiZ0aGlzLnJlbmRlcmVyLmRlc3Ryb3llZHx8KHRoaXMucmVuZGVyZXIuZGVzdHJveSgpLHRoaXMudHJpZ2dlcihcImRlc3Ryb3lcIiksdGhpcy5fY2JzPW51bGwsdGhpcy5vbkVudGVyRnJhbWU9dGhpcy5vbkxvb3BDb21wbGV0ZT10aGlzLm9uQ29tcGxldGU9dGhpcy5vblNlZ21lbnRTdGFydD10aGlzLm9uRGVzdHJveT1udWxsKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWU9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50UmF3RnJhbWU9dCx0aGlzLmN1cnJlbnRSYXdGcmFtZT49dGhpcy50b3RhbEZyYW1lcyl7aWYodGhpcy5jaGVja1NlZ21lbnRzKCksdGhpcy5sb29wPT09ITEpcmV0dXJuIHRoaXMuY3VycmVudFJhd0ZyYW1lPXRoaXMudG90YWxGcmFtZXMtLjAxLHRoaXMuZ290b0ZyYW1lKCksdGhpcy5wYXVzZSgpLHZvaWQgdGhpcy50cmlnZ2VyKFwiY29tcGxldGVcIik7aWYodGhpcy50cmlnZ2VyKFwibG9vcENvbXBsZXRlXCIpLHRoaXMucGxheUNvdW50Kz0xLHRoaXMubG9vcCE9PSEwJiZ0aGlzLnBsYXlDb3VudD09dGhpcy5sb29wfHx0aGlzLnBlbmRpbmdTZWdtZW50KXJldHVybiB0aGlzLmN1cnJlbnRSYXdGcmFtZT10aGlzLnRvdGFsRnJhbWVzLS4wMSx0aGlzLmdvdG9GcmFtZSgpLHRoaXMucGF1c2UoKSx2b2lkIHRoaXMudHJpZ2dlcihcImNvbXBsZXRlXCIpO3RoaXMuY3VycmVudFJhd0ZyYW1lPXRoaXMuY3VycmVudFJhd0ZyYW1lJXRoaXMudG90YWxGcmFtZXN9ZWxzZSBpZih0aGlzLmN1cnJlbnRSYXdGcmFtZTwwKXJldHVybiB0aGlzLmNoZWNrU2VnbWVudHMoKSx0aGlzLnBsYXlDb3VudC09MSx0aGlzLnBsYXlDb3VudDwwJiYodGhpcy5wbGF5Q291bnQ9MCksdGhpcy5sb29wPT09ITF8fHRoaXMucGVuZGluZ1NlZ21lbnQ/KHRoaXMuY3VycmVudFJhd0ZyYW1lPTAsdGhpcy5nb3RvRnJhbWUoKSx0aGlzLnBhdXNlKCksdm9pZCB0aGlzLnRyaWdnZXIoXCJjb21wbGV0ZVwiKSk6KHRoaXMudHJpZ2dlcihcImxvb3BDb21wbGV0ZVwiKSx0aGlzLmN1cnJlbnRSYXdGcmFtZT0odGhpcy50b3RhbEZyYW1lcyt0aGlzLmN1cnJlbnRSYXdGcmFtZSkldGhpcy50b3RhbEZyYW1lcyx2b2lkIHRoaXMuZ290b0ZyYW1lKCkpO3RoaXMuZ290b0ZyYW1lKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldFNwZWVkPWZ1bmN0aW9uKHQpe3RoaXMucGxheVNwZWVkPXQsdGhpcy51cGRhRnJhbWVNb2RpZmllcigpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5wbGF5RGlyZWN0aW9uPTA+dD8tMToxLHRoaXMudXBkYUZyYW1lTW9kaWZpZXIoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudXBkYUZyYW1lTW9kaWZpZXI9ZnVuY3Rpb24oKXt0aGlzLmZyYW1lTW9kaWZpZXI9dGhpcy5mcmFtZU11bHQqdGhpcy5wbGF5U3BlZWQqdGhpcy5wbGF5RGlyZWN0aW9ufSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXRQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aH0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ2V0QXNzZXRzUGF0aD1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO2lmKHRoaXMuYXNzZXRzUGF0aCl7dmFyIHM9dC5wOy0xIT09cy5pbmRleE9mKFwiaW1hZ2VzL1wiKSYmKHM9cy5zcGxpdChcIi9cIilbMV0pLGU9dGhpcy5hc3NldHNQYXRoK3N9ZWxzZSBlPXRoaXMucGF0aCxlKz10LnU/dC51OlwiXCIsZSs9dC5wO3JldHVybiBlfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXRBc3NldERhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscz10aGlzLmFzc2V0cy5sZW5ndGg7cz5lOyl7aWYodD09dGhpcy5hc3NldHNbZV0uaWQpcmV0dXJuIHRoaXMuYXNzZXRzW2VdO2UrPTF9fSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5oaWRlKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNob3coKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ2V0QXNzZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzZXRzfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NicyYmdGhpcy5fY2JzW3RdKXN3aXRjaCh0KXtjYXNlXCJlbnRlckZyYW1lXCI6dGhpcy50cmlnZ2VyRXZlbnQodCxuZXcgQk1FbnRlckZyYW1lRXZlbnQodCx0aGlzLmN1cnJlbnRGcmFtZSx0aGlzLnRvdGFsRnJhbWVzLHRoaXMuZnJhbWVNdWx0KSk7YnJlYWs7Y2FzZVwibG9vcENvbXBsZXRlXCI6dGhpcy50cmlnZ2VyRXZlbnQodCxuZXcgQk1Db21wbGV0ZUxvb3BFdmVudCh0LHRoaXMubG9vcCx0aGlzLnBsYXlDb3VudCx0aGlzLmZyYW1lTXVsdCkpO2JyZWFrO2Nhc2VcImNvbXBsZXRlXCI6dGhpcy50cmlnZ2VyRXZlbnQodCxuZXcgQk1Db21wbGV0ZUV2ZW50KHQsdGhpcy5mcmFtZU11bHQpKTticmVhaztjYXNlXCJzZWdtZW50U3RhcnRcIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTVNlZ21lbnRTdGFydEV2ZW50KHQsdGhpcy5maXJzdEZyYW1lLHRoaXMudG90YWxGcmFtZXMpKTticmVhaztjYXNlXCJkZXN0cm95XCI6dGhpcy50cmlnZ2VyRXZlbnQodCxuZXcgQk1EZXN0cm95RXZlbnQodCx0aGlzKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnRyaWdnZXJFdmVudCh0KX1cImVudGVyRnJhbWVcIj09PXQmJnRoaXMub25FbnRlckZyYW1lJiZ0aGlzLm9uRW50ZXJGcmFtZS5jYWxsKHRoaXMsbmV3IEJNRW50ZXJGcmFtZUV2ZW50KHQsdGhpcy5jdXJyZW50RnJhbWUsdGhpcy50b3RhbEZyYW1lcyx0aGlzLmZyYW1lTXVsdCkpLFwibG9vcENvbXBsZXRlXCI9PT10JiZ0aGlzLm9uTG9vcENvbXBsZXRlJiZ0aGlzLm9uTG9vcENvbXBsZXRlLmNhbGwodGhpcyxuZXcgQk1Db21wbGV0ZUxvb3BFdmVudCh0LHRoaXMubG9vcCx0aGlzLnBsYXlDb3VudCx0aGlzLmZyYW1lTXVsdCkpLFwiY29tcGxldGVcIj09PXQmJnRoaXMub25Db21wbGV0ZSYmdGhpcy5vbkNvbXBsZXRlLmNhbGwodGhpcyxuZXcgQk1Db21wbGV0ZUV2ZW50KHQsdGhpcy5mcmFtZU11bHQpKSxcInNlZ21lbnRTdGFydFwiPT09dCYmdGhpcy5vblNlZ21lbnRTdGFydCYmdGhpcy5vblNlZ21lbnRTdGFydC5jYWxsKHRoaXMsbmV3IEJNU2VnbWVudFN0YXJ0RXZlbnQodCx0aGlzLmZpcnN0RnJhbWUsdGhpcy50b3RhbEZyYW1lcykpLFwiZGVzdHJveVwiPT09dCYmdGhpcy5vbkRlc3Ryb3kmJnRoaXMub25EZXN0cm95LmNhbGwodGhpcyxuZXcgQk1EZXN0cm95RXZlbnQodCx0aGlzKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9X2FkZEV2ZW50TGlzdGVuZXIsQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1fcmVtb3ZlRXZlbnRMaXN0ZW5lcixBbmltYXRpb25JdGVtLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9X3RyaWdnZXJFdmVudCxleHRlbmRQcm90b3R5cGUoQmFzZVJlbmRlcmVyLENhbnZhc1JlbmRlcmVyKSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWQmFzZUVsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWU2hhcGVFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWVGV4dEVsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWSW1hZ2VFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29tcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWQ29tcEVsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTb2xpZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENWU29saWRFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3R4VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2lmKDEhPT10WzBdfHwwIT09dFsxXXx8MCE9PXRbNF18fDEhPT10WzVdfHwwIT09dFsxMl18fDAhPT10WzEzXSl7aWYoIXRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzKXJldHVybiB2b2lkIHRoaXMuY2FudmFzQ29udGV4dC50cmFuc2Zvcm0odFswXSx0WzFdLHRbNF0sdFs1XSx0WzEyXSx0WzEzXSk7dGhpcy50cmFuc2Zvcm1NYXQuY2xvbmVGcm9tUHJvcHModCksdGhpcy50cmFuc2Zvcm1NYXQudHJhbnNmb3JtKHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzBdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzFdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzJdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzNdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzRdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzVdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzZdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzddLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzhdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzldLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzEwXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1sxMV0sdGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHNbMTJdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzEzXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1sxNF0sdGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHNbMTVdKSx0aGlzLmNvbnRleHREYXRhLmNUci5jbG9uZUZyb21Qcm9wcyh0aGlzLnRyYW5zZm9ybU1hdC5wcm9wcyk7dmFyIGU9dGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHM7dGhpcy5jYW52YXNDb250ZXh0LnNldFRyYW5zZm9ybShlWzBdLGVbMV0sZVs0XSxlWzVdLGVbMTJdLGVbMTNdKX19LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jdHhPcGFjaXR5PWZ1bmN0aW9uKHQpe2lmKDEhPT10KXtpZighdGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXMpcmV0dXJuIHZvaWQodGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhKj0wPnQ/MDp0KTt0aGlzLmNvbnRleHREYXRhLmNPKj0wPnQ/MDp0LHRoaXMuY2FudmFzQ29udGV4dC5nbG9iYWxBbHBoYT10aGlzLmNvbnRleHREYXRhLmNPfX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzPyh0aGlzLmNvbnRleHREYXRhLmNBcnJQb3M9MCx0aGlzLmNvbnRleHREYXRhLmNUci5yZXNldCgpLHZvaWQodGhpcy5jb250ZXh0RGF0YS5jTz0xKSk6dm9pZCB0aGlzLmNhbnZhc0NvbnRleHQucmVzdG9yZSgpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbih0KXtpZighdGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXMpcmV0dXJuIHZvaWQgdGhpcy5jYW52YXNDb250ZXh0LnNhdmUoKTt0JiZ0aGlzLmNhbnZhc0NvbnRleHQuc2F2ZSgpO3ZhciBlPXRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzOyhudWxsPT09dGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdfHx2b2lkIDA9PT10aGlzLmNvbnRleHREYXRhLnNhdmVkW3RoaXMuY29udGV4dERhdGEuY0FyclBvc10pJiYodGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdPW5ldyBBcnJheSgxNikpO1xuXG52YXIgcyxyPXRoaXMuY29udGV4dERhdGEuc2F2ZWRbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXTtmb3Iocz0wOzE2PnM7cys9MSlyW3NdPWVbc107dGhpcy5jb250ZXh0RGF0YS5zYXZlZE9wW3RoaXMuY29udGV4dERhdGEuY0FyclBvc109dGhpcy5jb250ZXh0RGF0YS5jTyx0aGlzLmNvbnRleHREYXRhLmNBcnJQb3MrPTF9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcylyZXR1cm4gdm9pZCB0aGlzLmNhbnZhc0NvbnRleHQucmVzdG9yZSgpO3QmJnRoaXMuY2FudmFzQ29udGV4dC5yZXN0b3JlKCksdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zLT0xO3ZhciBlLHM9dGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdLHI9dGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHM7Zm9yKGU9MDsxNj5lO2UrPTEpcltlXT1zW2VdO3RoaXMuY2FudmFzQ29udGV4dC5zZXRUcmFuc2Zvcm0oc1swXSxzWzFdLHNbNF0sc1s1XSxzWzEyXSxzWzEzXSkscz10aGlzLmNvbnRleHREYXRhLnNhdmVkT3BbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXSx0aGlzLmNvbnRleHREYXRhLmNPPXMsdGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhPXN9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jb25maWdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXI/KHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUubW96VHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGVbXCItd2Via2l0LXRyYW5zZm9ybVwiXT1cIjBweCAwcHggMHB4XCIsdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lciksdGhpcy5jYW52YXNDb250ZXh0PXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuZ2V0Q29udGV4dChcIjJkXCIpKTp0aGlzLmNhbnZhc0NvbnRleHQ9dGhpcy5yZW5kZXJDb25maWcuY29udGV4dCx0aGlzLmRhdGE9dCx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dD10aGlzLmNhbnZhc0NvbnRleHQsdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyPXRoaXMsdGhpcy5nbG9iYWxEYXRhLmlzRGFzaGVkPSExLHRoaXMuZ2xvYmFsRGF0YS50b3RhbEZyYW1lcz1NYXRoLmZsb29yKHQudGYpLHRoaXMuZ2xvYmFsRGF0YS5jb21wV2lkdGg9dC53LHRoaXMuZ2xvYmFsRGF0YS5jb21wSGVpZ2h0PXQuaCx0aGlzLmdsb2JhbERhdGEuZnJhbWVSYXRlPXQuZnIsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQ9MCx0aGlzLmdsb2JhbERhdGEuY29tcFNpemU9e3c6dC53LGg6dC5ofSx0aGlzLmdsb2JhbERhdGEucHJvZ3Jlc3NpdmVMb2FkPXRoaXMucmVuZGVyQ29uZmlnLnByb2dyZXNzaXZlTG9hZCx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLnRyYW5zZm9ybUNhbnZhcz17fSx0aGlzLnRyYW5zZm9ybUNhbnZhcy53PXQudyx0aGlzLnRyYW5zZm9ybUNhbnZhcy5oPXQuaCx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxkb2N1bWVudC5ib2R5KSx0aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXREYXRhPXRoaXMuYW5pbWF0aW9uSXRlbS5nZXRBc3NldERhdGEuYmluZCh0aGlzLmFuaW1hdGlvbkl0ZW0pLHRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoPXRoaXMuYW5pbWF0aW9uSXRlbS5nZXRBc3NldHNQYXRoLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuZWxlbWVudExvYWRlZD10aGlzLmFuaW1hdGlvbkl0ZW0uZWxlbWVudExvYWRlZC5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLmFkZFBlbmRpbmdFbGVtZW50PXRoaXMuYW5pbWF0aW9uSXRlbS5hZGRQZW5kaW5nRWxlbWVudC5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLnRyYW5zZm9ybUNhbnZhcz10aGlzLnRyYW5zZm9ybUNhbnZhcyx0aGlzLmVsZW1lbnRzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0LmxheWVycy5sZW5ndGh9KSx0aGlzLnVwZGF0ZUNvbnRhaW5lclNpemUoKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXt2YXIgdCxlO3RoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyJiZ0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyPyh0PXRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLm9mZnNldFdpZHRoLGU9dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIub2Zmc2V0SGVpZ2h0LHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0KnRoaXMucmVuZGVyQ29uZmlnLmRwciksdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlKnRoaXMucmVuZGVyQ29uZmlnLmRwcikpOih0PXRoaXMuY2FudmFzQ29udGV4dC5jYW52YXMud2lkdGgqdGhpcy5yZW5kZXJDb25maWcuZHByLGU9dGhpcy5jYW52YXNDb250ZXh0LmNhbnZhcy5oZWlnaHQqdGhpcy5yZW5kZXJDb25maWcuZHByKTt2YXIgcyxyO2lmKC0xIT09dGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpby5pbmRleE9mKFwibWVldFwiKXx8LTEhPT10aGlzLnJlbmRlckNvbmZpZy5wcmVzZXJ2ZUFzcGVjdFJhdGlvLmluZGV4T2YoXCJzbGljZVwiKSl7dmFyIGk9dGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpby5zcGxpdChcIiBcIiksYT1pWzFdfHxcIm1lZXRcIixuPWlbMF18fFwieE1pZFlNaWRcIixvPW4uc3Vic3RyKDAsNCksaD1uLnN1YnN0cig0KTtzPXQvZSxyPXRoaXMudHJhbnNmb3JtQ2FudmFzLncvdGhpcy50cmFuc2Zvcm1DYW52YXMuaCxyPnMmJlwibWVldFwiPT09YXx8cz5yJiZcInNsaWNlXCI9PT1hPyh0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeD10Lyh0aGlzLnRyYW5zZm9ybUNhbnZhcy53L3RoaXMucmVuZGVyQ29uZmlnLmRwciksdGhpcy50cmFuc2Zvcm1DYW52YXMuc3k9dC8odGhpcy50cmFuc2Zvcm1DYW52YXMudy90aGlzLnJlbmRlckNvbmZpZy5kcHIpKToodGhpcy50cmFuc2Zvcm1DYW52YXMuc3g9ZS8odGhpcy50cmFuc2Zvcm1DYW52YXMuaC90aGlzLnJlbmRlckNvbmZpZy5kcHIpLHRoaXMudHJhbnNmb3JtQ2FudmFzLnN5PWUvKHRoaXMudHJhbnNmb3JtQ2FudmFzLmgvdGhpcy5yZW5kZXJDb25maWcuZHByKSksdGhpcy50cmFuc2Zvcm1DYW52YXMudHg9XCJ4TWlkXCI9PT1vJiYocz5yJiZcIm1lZXRcIj09PWF8fHI+cyYmXCJzbGljZVwiPT09YSk/KHQtdGhpcy50cmFuc2Zvcm1DYW52YXMudyooZS90aGlzLnRyYW5zZm9ybUNhbnZhcy5oKSkvMip0aGlzLnJlbmRlckNvbmZpZy5kcHI6XCJ4TWF4XCI9PT1vJiYocz5yJiZcIm1lZXRcIj09PWF8fHI+cyYmXCJzbGljZVwiPT09YSk/KHQtdGhpcy50cmFuc2Zvcm1DYW52YXMudyooZS90aGlzLnRyYW5zZm9ybUNhbnZhcy5oKSkqdGhpcy5yZW5kZXJDb25maWcuZHByOjAsdGhpcy50cmFuc2Zvcm1DYW52YXMudHk9XCJZTWlkXCI9PT1oJiYocj5zJiZcIm1lZXRcIj09PWF8fHM+ciYmXCJzbGljZVwiPT09YSk/KGUtdGhpcy50cmFuc2Zvcm1DYW52YXMuaCoodC90aGlzLnRyYW5zZm9ybUNhbnZhcy53KSkvMip0aGlzLnJlbmRlckNvbmZpZy5kcHI6XCJZTWF4XCI9PT1oJiYocj5zJiZcIm1lZXRcIj09PWF8fHM+ciYmXCJzbGljZVwiPT09YSk/KGUtdGhpcy50cmFuc2Zvcm1DYW52YXMuaCoodC90aGlzLnRyYW5zZm9ybUNhbnZhcy53KSkqdGhpcy5yZW5kZXJDb25maWcuZHByOjB9ZWxzZVwibm9uZVwiPT10aGlzLnJlbmRlckNvbmZpZy5wcmVzZXJ2ZUFzcGVjdFJhdGlvPyh0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeD10Lyh0aGlzLnRyYW5zZm9ybUNhbnZhcy53L3RoaXMucmVuZGVyQ29uZmlnLmRwciksdGhpcy50cmFuc2Zvcm1DYW52YXMuc3k9ZS8odGhpcy50cmFuc2Zvcm1DYW52YXMuaC90aGlzLnJlbmRlckNvbmZpZy5kcHIpLHRoaXMudHJhbnNmb3JtQ2FudmFzLnR4PTAsdGhpcy50cmFuc2Zvcm1DYW52YXMudHk9MCk6KHRoaXMudHJhbnNmb3JtQ2FudmFzLnN4PXRoaXMucmVuZGVyQ29uZmlnLmRwcix0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeT10aGlzLnJlbmRlckNvbmZpZy5kcHIsdGhpcy50cmFuc2Zvcm1DYW52YXMudHg9MCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eT0wKTt0aGlzLnRyYW5zZm9ybUNhbnZhcy5wcm9wcz1bdGhpcy50cmFuc2Zvcm1DYW52YXMuc3gsMCwwLDAsMCx0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeSwwLDAsMCwwLDEsMCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eSwwLDFdO3ZhciBsLHA9dGhpcy5lbGVtZW50cy5sZW5ndGg7Zm9yKGw9MDtwPmw7bCs9MSl0aGlzLmVsZW1lbnRzW2xdJiYwPT09dGhpcy5lbGVtZW50c1tsXS5kYXRhLnR5JiZ0aGlzLmVsZW1lbnRzW2xdLnJlc2l6ZSh0aGlzLmdsb2JhbERhdGEudHJhbnNmb3JtQ2FudmFzKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcyYmKHRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLmlubmVySFRNTD1cIlwiKTt2YXIgdCxlPXRoaXMubGF5ZXJzP3RoaXMubGF5ZXJzLmxlbmd0aDowO2Zvcih0PWUtMTt0Pj0wO3QtPTEpdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCk7dGhpcy5lbGVtZW50cy5sZW5ndGg9MCx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dD1udWxsLHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXI9bnVsbCx0aGlzLmRlc3Ryb3llZD0hMH0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5yZW5kZXJlZEZyYW1lPT10JiZ0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcz09PSEwfHx0aGlzLmRlc3Ryb3llZHx8bnVsbD09PXQpKXt0aGlzLnJlbmRlcmVkRnJhbWU9dCx0aGlzLmdsb2JhbERhdGEuZnJhbWVOdW09dC10aGlzLmFuaW1hdGlvbkl0ZW0uZmlyc3RGcmFtZSx0aGlzLmdsb2JhbERhdGEuZnJhbWVJZCs9MSx0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5jdXJyZW50RnJhbWU9dCx0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcz09PSEwPyh0aGlzLnJlc2V0KCksdGhpcy5jYW52YXNDb250ZXh0LnNhdmUoKSx0aGlzLmNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KHRoaXMudHJhbnNmb3JtQ2FudmFzLnR4LHRoaXMudHJhbnNmb3JtQ2FudmFzLnR5LHRoaXMudHJhbnNmb3JtQ2FudmFzLncqdGhpcy50cmFuc2Zvcm1DYW52YXMuc3gsdGhpcy50cmFuc2Zvcm1DYW52YXMuaCp0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeSkpOnRoaXMuc2F2ZSgpLHRoaXMuY3R4VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtQ2FudmFzLnByb3BzKSx0aGlzLmNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jYW52YXNDb250ZXh0LnJlY3QoMCwwLHRoaXMudHJhbnNmb3JtQ2FudmFzLncsdGhpcy50cmFuc2Zvcm1DYW52YXMuaCksdGhpcy5jYW52YXNDb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuY2FudmFzQ29udGV4dC5jbGlwKCk7dmFyIGUscz10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuY2hlY2tMYXllcnModCksZT0wO3M+ZTtlKyspKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnByZXBhcmVGcmFtZSh0LXRoaXMubGF5ZXJzW2VdLnN0KTtmb3IoZT1zLTE7ZT49MDtlLT0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW2VdKSYmdGhpcy5lbGVtZW50c1tlXS5yZW5kZXJGcmFtZSgpO3RoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzIT09ITA/dGhpcy5yZXN0b3JlKCk6dGhpcy5jYW52YXNDb250ZXh0LnJlc3RvcmUoKX19LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cztpZighZVt0XSYmOTkhPXRoaXMubGF5ZXJzW3RdLnR5KXt2YXIgcz10aGlzLmNyZWF0ZUl0ZW0odGhpcy5sYXllcnNbdF0sdGhpcyx0aGlzLmdsb2JhbERhdGEpO2VbdF09cyxzLmluaXRFeHByZXNzaW9ucygpLDA9PT10aGlzLmxheWVyc1t0XS50eSYmcy5yZXNpemUodGhpcy5nbG9iYWxEYXRhLnRyYW5zZm9ybUNhbnZhcyl9fSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucGVuZGluZ0VsZW1lbnRzLmxlbmd0aDspe3ZhciB0PXRoaXMucGVuZGluZ0VsZW1lbnRzLnBvcCgpO3QuY2hlY2tQYXJlbnRpbmcoKX19LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zZWFyY2hFeHRyYUNvbXBvc2l0aW9ucz1mdW5jdGlvbih0KXt7dmFyIGUscz10Lmxlbmd0aDtkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpfWZvcihlPTA7cz5lO2UrPTEpaWYodFtlXS54dCl7dmFyIHI9dGhpcy5jcmVhdGVDb21wKHRbZV0sdGhpcy5nbG9iYWxEYXRhLmNvbXAsdGhpcy5nbG9iYWxEYXRhKTtyLmluaXRFeHByZXNzaW9ucygpLHRoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24ocil9fSxleHRlbmRQcm90b3R5cGUoQmFzZVJlbmRlcmVyLEh5YnJpZFJlbmRlcmVyKSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnBlbmRpbmdFbGVtZW50cy5sZW5ndGg7KXt2YXIgdD10aGlzLnBlbmRpbmdFbGVtZW50cy5wb3AoKTt0LmNoZWNrUGFyZW50aW5nKCl9fSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5nZXRCYXNlRWxlbWVudCgpO2lmKHMpe3ZhciByPXRoaXMubGF5ZXJzW2VdO2lmKHIuZGRkJiZ0aGlzLnN1cHBvcnRzM2QpdGhpcy5hZGRUbzNkQ29udGFpbmVyKHMsZSk7ZWxzZXtmb3IodmFyIGksYT0wO2U+YTspdGhpcy5lbGVtZW50c1thXSYmdGhpcy5lbGVtZW50c1thXSE9PSEwJiZ0aGlzLmVsZW1lbnRzW2FdLmdldEJhc2VFbGVtZW50JiYoaT10aGlzLmVsZW1lbnRzW2FdLmdldEJhc2VFbGVtZW50KCkpLGErPTE7aT9yLmRkZCYmdGhpcy5zdXBwb3J0czNkfHx0aGlzLmxheWVyRWxlbWVudC5pbnNlcnRCZWZvcmUocyxpKTpyLmRkZCYmdGhpcy5zdXBwb3J0czNkfHx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChzKX19fSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNWR0Jhc2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3VwcG9ydHMzZD9uZXcgSFNoYXBlRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKTpuZXcgSVNoYXBlRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3VwcG9ydHMzZD9uZXcgSFRleHRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBTVkdUZXh0RWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNhbWVyYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW1lcmE9bmV3IEhDYW1lcmFFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpLHRoaXMuY2FtZXJhfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3VwcG9ydHMzZD9uZXcgSEltYWdlRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKTpuZXcgSUltYWdlRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3VwcG9ydHMzZD9uZXcgSENvbXBFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBJQ29tcEVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTb2xpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIU29saWRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBJU29saWRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGhyZWVEQ29udGFpbmVyPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3R5bGVEaXYoZSksZS5zdHlsZS53aWR0aD10aGlzLmdsb2JhbERhdGEuY29tcFNpemUudytcInB4XCIsZS5zdHlsZS5oZWlnaHQ9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgrXCJweFwiLGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luPWUuc3R5bGUubW96VHJhbnNmb3JtT3JpZ2luPWUuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPVwiNTAlIDUwJVwiO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3R5bGVEaXYocykscy5zdHlsZS50cmFuc2Zvcm09cy5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJtYXRyaXgzZCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKVwiLGUuYXBwZW5kQ2hpbGQocyksdGhpcy5yZXNpemVyRWxlbS5hcHBlbmRDaGlsZChlKTt2YXIgcj17Y29udGFpbmVyOnMscGVyc3BlY3RpdmVFbGVtOmUsc3RhcnRQb3M6dCxlbmRQb3M6dH07cmV0dXJuIHRoaXMudGhyZWVERWxlbWVudHMucHVzaChyKSxyfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuYnVpbGQzZENvbnRhaW5lcnM9ZnVuY3Rpb24oKXt2YXIgdCxlLHM9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PTA7cz50O3QrPTEpdGhpcy5sYXllcnNbdF0uZGRkPyhlfHwoZT10aGlzLmdldFRocmVlRENvbnRhaW5lcih0KSksZS5lbmRQb3M9TWF0aC5tYXgoZS5lbmRQb3MsdCkpOmU9bnVsbH0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmFkZFRvM2RDb250YWluZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHM9MCxyPXRoaXMudGhyZWVERWxlbWVudHMubGVuZ3RoO3I+czspe2lmKGU8PXRoaXMudGhyZWVERWxlbWVudHNbc10uZW5kUG9zKXtmb3IodmFyIGksYT10aGlzLnRocmVlREVsZW1lbnRzW3NdLnN0YXJ0UG9zO2U+YTspdGhpcy5lbGVtZW50c1thXSYmdGhpcy5lbGVtZW50c1thXS5nZXRCYXNlRWxlbWVudCYmKGk9dGhpcy5lbGVtZW50c1thXS5nZXRCYXNlRWxlbWVudCgpKSxhKz0xO2k/dGhpcy50aHJlZURFbGVtZW50c1tzXS5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHQsaSk6dGhpcy50aHJlZURFbGVtZW50c1tzXS5jb250YWluZXIuYXBwZW5kQ2hpbGQodCk7YnJlYWt9cys9MX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jb25maWdBbmltYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxzPXRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyO2Uuc3R5bGUud2lkdGg9dC53K1wicHhcIixlLnN0eWxlLmhlaWdodD10LmgrXCJweFwiLHRoaXMucmVzaXplckVsZW09ZSxzdHlsZURpdihlKSxlLnN0eWxlLnRyYW5zZm9ybVN0eWxlPWUuc3R5bGUud2Via2l0VHJhbnNmb3JtU3R5bGU9ZS5zdHlsZS5tb3pUcmFuc2Zvcm1TdHlsZT1cImZsYXRcIixzLmFwcGVuZENoaWxkKGUpLGUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIjt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIik7ci5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiMVwiKSxyLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMVwiKSxzdHlsZURpdihyKSx0aGlzLnJlc2l6ZXJFbGVtLmFwcGVuZENoaWxkKHIpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImRlZnNcIik7ci5hcHBlbmRDaGlsZChpKSx0aGlzLmdsb2JhbERhdGEuZGVmcz1pLHRoaXMuZGF0YT10LHRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldERhdGE9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0RGF0YS5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0c1BhdGg9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0c1BhdGguYmluZCh0aGlzLmFuaW1hdGlvbkl0ZW0pLHRoaXMuZ2xvYmFsRGF0YS5lbGVtZW50TG9hZGVkPXRoaXMuYW5pbWF0aW9uSXRlbS5lbGVtZW50TG9hZGVkLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuZnJhbWVJZD0wLHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZT17dzp0LncsaDp0Lmh9LHRoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGU9dC5mcix0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxyKSx0aGlzLmxheWVyRWxlbWVudD10aGlzLnJlc2l6ZXJFbGVtLHRoaXMuYnVpbGQzZENvbnRhaW5lcnMoKSx0aGlzLnVwZGF0ZUNvbnRhaW5lclNpemUoKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyPW51bGwsdGhpcy5nbG9iYWxEYXRhLmRlZnM9bnVsbDt2YXIgdCxlPXRoaXMubGF5ZXJzP3RoaXMubGF5ZXJzLmxlbmd0aDowO2Zvcih0PTA7ZT50O3QrKyl0aGlzLmVsZW1lbnRzW3RdLmRlc3Ryb3koKTt0aGlzLmVsZW1lbnRzLmxlbmd0aD0wLHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuYW5pbWF0aW9uSXRlbT1udWxsfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3ZhciB0LGUscyxyLGk9dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIub2Zmc2V0V2lkdGgsYT10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5vZmZzZXRIZWlnaHQsbj1pL2Esbz10aGlzLmdsb2JhbERhdGEuY29tcFNpemUudy90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaDtvPm4/KHQ9aS90aGlzLmdsb2JhbERhdGEuY29tcFNpemUudyxlPWkvdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncscz0wLHI9KGEtdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgqKGkvdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncpKS8yKToodD1hL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLGU9YS90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCxzPShpLXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53KihhL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oKSkvMixyPTApLHRoaXMucmVzaXplckVsZW0uc3R5bGUudHJhbnNmb3JtPXRoaXMucmVzaXplckVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibWF0cml4M2QoXCIrdCtcIiwwLDAsMCwwLFwiK2UrXCIsMCwwLDAsMCwxLDAsXCIrcytcIixcIityK1wiLDAsMSlcIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMucmVzaXplckVsZW0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZXJFbGVtLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wifSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuaW5pdEl0ZW1zPWZ1bmN0aW9uKCl7aWYodGhpcy5idWlsZEFsbEl0ZW1zKCksdGhpcy5jYW1lcmEpdGhpcy5jYW1lcmEuc2V0dXAoKTtlbHNle3ZhciB0LGU9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncscz10aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCxyPXRoaXMudGhyZWVERWxlbWVudHMubGVuZ3RoO2Zvcih0PTA7cj50O3QrPTEpdGhpcy50aHJlZURFbGVtZW50c1t0XS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUucGVyc3BlY3RpdmU9dGhpcy50aHJlZURFbGVtZW50c1t0XS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUud2Via2l0UGVyc3BlY3RpdmU9TWF0aC5zcXJ0KE1hdGgucG93KGUsMikrTWF0aC5wb3cocywyKSkrXCJweFwifX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnNlYXJjaEV4dHJhQ29tcG9zaXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlLHM9dC5sZW5ndGgscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvcihlPTA7cz5lO2UrPTEpaWYodFtlXS54dCl7dmFyIGk9dGhpcy5jcmVhdGVDb21wKHRbZV0scix0aGlzLmdsb2JhbERhdGEuY29tcCxudWxsKTtpLmluaXRFeHByZXNzaW9ucygpLHRoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24oaSl9fSxjcmVhdGVFbGVtZW50KEJhc2VFbGVtZW50LENWQmFzZUVsZW1lbnQpLENWQmFzZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5jaGVja1BhcmVudGluZygpfSxDVkJhc2VFbGVtZW50LnByb3RvdHlwZS5jaGVja0JsZW5kTW9kZT1mdW5jdGlvbih0KXtpZih0LmJsZW5kTW9kZSE9PXRoaXMuZGF0YS5ibSl7dC5ibGVuZE1vZGU9dGhpcy5kYXRhLmJtO3ZhciBlPVwiXCI7c3dpdGNoKHRoaXMuZGF0YS5ibSl7Y2FzZSAwOmU9XCJub3JtYWxcIjticmVhaztjYXNlIDE6ZT1cIm11bHRpcGx5XCI7YnJlYWs7Y2FzZSAyOmU9XCJzY3JlZW5cIjticmVhaztjYXNlIDM6ZT1cIm92ZXJsYXlcIjticmVhaztjYXNlIDQ6ZT1cImRhcmtlblwiO2JyZWFrO2Nhc2UgNTplPVwibGlnaHRlblwiO2JyZWFrO2Nhc2UgNjplPVwiY29sb3ItZG9kZ2VcIjticmVhaztjYXNlIDc6ZT1cImNvbG9yLWJ1cm5cIjticmVhaztjYXNlIDg6ZT1cImhhcmQtbGlnaHRcIjticmVhaztjYXNlIDk6ZT1cInNvZnQtbGlnaHRcIjticmVhaztjYXNlIDEwOmU9XCJkaWZmZXJlbmNlXCI7YnJlYWs7Y2FzZSAxMTplPVwiZXhjbHVzaW9uXCI7YnJlYWs7Y2FzZSAxMjplPVwiaHVlXCI7YnJlYWs7Y2FzZSAxMzplPVwic2F0dXJhdGlvblwiO2JyZWFrO2Nhc2UgMTQ6ZT1cImNvbG9yXCI7YnJlYWs7Y2FzZSAxNTplPVwibHVtaW5vc2l0eVwifXQuY2FudmFzQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ZX19LENWQmFzZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKDM9PT10aGlzLmRhdGEudHkpcmV0dXJuITE7aWYodGhpcy5jaGVja0JsZW5kTW9kZSgwPT09dGhpcy5kYXRhLnR5P3RoaXMucGFyZW50R2xvYmFsRGF0YTp0aGlzLmdsb2JhbERhdGEpLCF0aGlzLmlzVmlzaWJsZSlyZXR1cm4gdGhpcy5pc1Zpc2libGU7dGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZj10aGlzLmZpbmFsVHJhbnNmb3JtLm9wLm1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLm1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHk9dGhpcy5maW5hbFRyYW5zZm9ybS5vcC52O3ZhciBlLHM9dGhpcy5maW5hbFRyYW5zZm9ybS5tYXQ7aWYodGhpcy5oaWVyYXJjaHkpe3ZhciByLGk9dGhpcy5oaWVyYXJjaHkubGVuZ3RoO2ZvcihlPXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxzLmNsb25lRnJvbVByb3BzKGUpLHI9MDtpPnI7cis9MSl0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10aGlzLmhpZXJhcmNoeVtyXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYsZT10aGlzLmhpZXJhcmNoeVtyXS5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHMudHJhbnNmb3JtKGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0sZVs3XSxlWzhdLGVbOV0sZVsxMF0sZVsxMV0sZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0pfWVsc2UgdD8oZT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMscy5jbG9uZUZyb21Qcm9wcyhlKSk6cy5jbG9uZUZyb21Qcm9wcyh0aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMpO3JldHVybiB0JiYoZT10Lm1hdC5wcm9wcyxzLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHkqPXQub3BhY2l0eSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmPXQub3BNZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10Lm1hdE1kZj8hMDp0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiksdGhpcy5kYXRhLmhhc01hc2smJih0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuc2F2ZSghMCksdGhpcy5tYXNrTWFuYWdlci5yZW5kZXJGcmFtZSgwPT09dGhpcy5kYXRhLnR5P251bGw6cykpLHRoaXMuZGF0YS5oZCYmKHRoaXMuaXNWaXNpYmxlPSExKSx0aGlzLmlzVmlzaWJsZX0sQ1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuYWRkTWFza3M9ZnVuY3Rpb24odCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgQ1ZNYXNrRWxlbWVudCh0LHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sQ1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2FudmFzQ29udGV4dD1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMuZ2xvYmFsRGF0YT1udWxsLHRoaXMubWFza01hbmFnZXImJnRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpfSxDVkJhc2VFbGVtZW50LnByb3RvdHlwZS5tSGVscGVyPW5ldyBNYXRyaXgsY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWQ29tcEVsZW1lbnQpLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmN0eFRyYW5zZm9ybT1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3R4VHJhbnNmb3JtLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmN0eE9wYWNpdHk9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmN0eE9wYWNpdHksQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuc2F2ZT1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2F2ZSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5yZXN0b3JlPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXN0b3JlLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zPTAsdGhpcy5jb250ZXh0RGF0YS5jVHIucmVzZXQoKSx0aGlzLmNvbnRleHREYXRhLmNPPTF9LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLm1heCh0LnN4LHQuc3kpO3RoaXMuY2FudmFzLndpZHRoPXRoaXMuZGF0YS53KmUsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuZGF0YS5oKmUsdGhpcy50cmFuc2Zvcm1DYW52YXM9e3NjOmUsdzp0aGlzLmRhdGEudyplLGg6dGhpcy5kYXRhLmgqZSxwcm9wczpbZSwwLDAsMCwwLGUsMCwwLDAsMCwxLDAsMCwwLDAsMV19O3ZhciBzLHI9dGhpcy5lbGVtZW50cy5sZW5ndGg7Zm9yKHM9MDtyPnM7cys9MSl0aGlzLmVsZW1lbnRzW3NdJiYwPT09dGhpcy5lbGVtZW50c1tzXS5kYXRhLnR5JiZ0aGlzLmVsZW1lbnRzW3NdLnJlc2l6ZSh0KX0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2xvYmFsRGF0YS5mcmFtZUlkPXRoaXMucGFyZW50R2xvYmFsRGF0YS5mcmFtZUlkLHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITEsdGhpcy5fcGFyZW50LnByZXBhcmVGcmFtZS5jYWxsKHRoaXMsdCksdGhpcy5pc1Zpc2libGUhPT0hMXx8dGhpcy5kYXRhLnh0KXt2YXIgZT10O3RoaXMudG0mJihlPXRoaXMudG0udixlPT09dGhpcy5kYXRhLm9wJiYoZT10aGlzLmRhdGEub3AtMSkpLHRoaXMucmVuZGVyZWRGcmFtZT1lL3RoaXMuZGF0YS5zcjt2YXIgcyxyPXRoaXMuZWxlbWVudHMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmNoZWNrTGF5ZXJzKHQpLHM9MDtyPnM7cys9MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tzXSkmJih0aGlzLmVsZW1lbnRzW3NdLnByZXBhcmVGcmFtZShlL3RoaXMuZGF0YS5zci10aGlzLmxheWVyc1tzXS5zdCksMD09PXRoaXMuZWxlbWVudHNbc10uZGF0YS50eSYmdGhpcy5lbGVtZW50c1tzXS5nbG9iYWxEYXRhLm1kZiYmKHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITApKTt0aGlzLmdsb2JhbERhdGEubWRmJiYhdGhpcy5kYXRhLnh0JiYodGhpcy5jYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5kYXRhLncsdGhpcy5kYXRhLmgpLHRoaXMuY3R4VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtQ2FudmFzLnByb3BzKSl9fSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9wYXJlbnQucmVuZGVyRnJhbWUuY2FsbCh0aGlzLHQpIT09ITEpe2lmKHRoaXMuZ2xvYmFsRGF0YS5tZGYpe3ZhciBlLHM9dGhpcy5sYXllcnMubGVuZ3RoO2ZvcihlPXMtMTtlPj0wO2UtPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCl9dGhpcy5kYXRhLmhhc01hc2smJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKCEwKSx0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpLHRoaXMucGFyZW50R2xvYmFsRGF0YS5yZW5kZXJlci5zYXZlKCksdGhpcy5wYXJlbnRHbG9iYWxEYXRhLnJlbmRlcmVyLmN0eFRyYW5zZm9ybSh0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wcyksdGhpcy5wYXJlbnRHbG9iYWxEYXRhLnJlbmRlcmVyLmN0eE9wYWNpdHkodGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5KSx0aGlzLnBhcmVudEdsb2JhbERhdGEucmVuZGVyZXIuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsMCwwLHRoaXMuZGF0YS53LHRoaXMuZGF0YS5oKSx0aGlzLnBhcmVudEdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSgpLHRoaXMuZ2xvYmFsRGF0YS5tZGYmJnRoaXMucmVzZXQoKX19LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRzPWZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudHM9dH0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50c30sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PWUtMTt0Pj0wO3QtPTEpdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCk7dGhpcy5sYXllcnM9bnVsbCx0aGlzLmVsZW1lbnRzPW51bGwsdGhpcy5fcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzLl9wYXJlbnQpfSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5jaGVja0xheWVycz1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tMYXllcnMsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRJdGVtPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50PUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudCxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUl0ZW09Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUl0ZW0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUltYWdlLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbXA9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXAsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU29saWQ9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYXBlPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0PUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJhc2U9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUJhc2UsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmcsY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWSW1hZ2VFbGVtZW50KSxDVkltYWdlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2lmKHRoaXMuZ2xvYmFsRGF0YS5lbGVtZW50TG9hZGVkKCksdGhpcy5hc3NldERhdGEudyE9PXRoaXMuaW1nLndpZHRofHx0aGlzLmFzc2V0RGF0YS5oIT09dGhpcy5pbWcuaGVpZ2h0KXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9dGhpcy5hc3NldERhdGEudyx0LmhlaWdodD10aGlzLmFzc2V0RGF0YS5oO3ZhciBlLHMscj10LmdldENvbnRleHQoXCIyZFwiKSxpPXRoaXMuaW1nLndpZHRoLGE9dGhpcy5pbWcuaGVpZ2h0LG49aS9hLG89dGhpcy5hc3NldERhdGEudy90aGlzLmFzc2V0RGF0YS5oO24+bz8ocz1hLGU9cypvKTooZT1pLHM9ZS9vKSxyLmRyYXdJbWFnZSh0aGlzLmltZywoaS1lKS8yLChhLXMpLzIsZSxzLDAsMCx0aGlzLmFzc2V0RGF0YS53LHRoaXMuYXNzZXREYXRhLmgpLHRoaXMuaW1nPXR9fS5iaW5kKHRoaXMpLGU9ZnVuY3Rpb24oKXt0aGlzLmZhaWxlZD0hMCx0aGlzLmdsb2JhbERhdGEuZWxlbWVudExvYWRlZCgpfS5iaW5kKHRoaXMpO3RoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHQsITEpLHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGUsITEpO3ZhciBzPXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKTt0aGlzLmltZy5zcmM9cyx0aGlzLl9wYXJlbnQuY3JlYXRlRWxlbWVudHMuY2FsbCh0aGlzKX0sQ1ZJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmZhaWxlZCYmdGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExKXt2YXIgZT10aGlzLmNhbnZhc0NvbnRleHQ7dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoKTt2YXIgcz10aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wczt0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4VHJhbnNmb3JtKHMpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhPcGFjaXR5KHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BhY2l0eSksZS5kcmF3SW1hZ2UodGhpcy5pbWcsMCwwKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSh0aGlzLmRhdGEuaGFzTWFzayksdGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LENWSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pbWc9bnVsbCx0aGlzLl9wYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMuX3BhcmVudCl9LENWTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3RGF0YVt0XX0sQ1ZNYXNrRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHM9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtzPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKHQpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0ubWRmJiYodGhpcy5lbGVtZW50Lmdsb2JhbERhdGEubWRmPSEwKX0sQ1ZNYXNrRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGUscyxyLGksYSxuPXRoaXMuZWxlbWVudC5jYW52YXNDb250ZXh0LG89dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcy5sZW5ndGgsaD0hMTtmb3IoZT0wO28+ZTtlKyspaWYoXCJuXCIhPT10aGlzLm1hc2tzUHJvcGVydGllc1tlXS5tb2RlKXtoPT09ITEmJihuLmJlZ2luUGF0aCgpLGg9ITApLHRoaXMubWFza3NQcm9wZXJ0aWVzW2VdLmludiYmKG4ubW92ZVRvKDAsMCksbi5saW5lVG8odGhpcy5lbGVtZW50Lmdsb2JhbERhdGEuY29tcFdpZHRoLDApLG4ubGluZVRvKHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLmNvbXBXaWR0aCx0aGlzLmVsZW1lbnQuZ2xvYmFsRGF0YS5jb21wSGVpZ2h0KSxuLmxpbmVUbygwLHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLmNvbXBIZWlnaHQpLG4ubGluZVRvKDAsMCkpLGE9dGhpcy52aWV3RGF0YVtlXS52LHM9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEudlswXVswXSxhLnZbMF1bMV0sMCk6YS52WzBdLG4ubW92ZVRvKHNbMF0sc1sxXSk7dmFyIGwscD1hLl9sZW5ndGg7Zm9yKGw9MTtwPmw7bCsrKXM9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEub1tsLTFdWzBdLGEub1tsLTFdWzFdLDApOmEub1tsLTFdLHI9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEuaVtsXVswXSxhLmlbbF1bMV0sMCk6YS5pW2xdLGk9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEudltsXVswXSxhLnZbbF1bMV0sMCk6YS52W2xdLG4uYmV6aWVyQ3VydmVUbyhzWzBdLHNbMV0sclswXSxyWzFdLGlbMF0saVsxXSk7cz10P3QuYXBwbHlUb1BvaW50QXJyYXkoYS5vW2wtMV1bMF0sYS5vW2wtMV1bMV0sMCk6YS5vW2wtMV0scj10P3QuYXBwbHlUb1BvaW50QXJyYXkoYS5pWzBdWzBdLGEuaVswXVsxXSwwKTphLmlbMF0saT10P3QuYXBwbHlUb1BvaW50QXJyYXkoYS52WzBdWzBdLGEudlswXVsxXSwwKTphLnZbMF0sbi5iZXppZXJDdXJ2ZVRvKHNbMF0sc1sxXSxyWzBdLHJbMV0saVswXSxpWzFdKX1oJiZuLmNsaXAoKX0sQ1ZNYXNrRWxlbWVudC5wcm90b3R5cGUuZ2V0TWFzaz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxzPXRoaXMubWFza3NQcm9wZXJ0aWVzLmxlbmd0aDtzPmU7KXtpZih0aGlzLm1hc2tzUHJvcGVydGllc1tlXS5ubT09PXQpcmV0dXJue21hc2tQYXRoOnRoaXMudmlld0RhdGFbZV0ucHZ9O2UrPTF9fSxDVk1hc2tFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50PW51bGx9LGNyZWF0ZUVsZW1lbnQoQ1ZCYXNlRWxlbWVudCxDVlNoYXBlRWxlbWVudCksQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnRyYW5zZm9ybUhlbHBlcj17b3BhY2l0eToxLG1hdDpuZXcgTWF0cml4LG1hdE1kZjohMSxvcE1kZjohMX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmRhc2hSZXNldHRlcj1bXSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQuY3JlYXRlRWxlbWVudHMuY2FsbCh0aGlzKSx0aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsdGhpcy5keW5hbWljUHJvcGVydGllcywhMCl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTdHlsZUVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcz17ZGF0YTp0LHR5cGU6dC50eSxlbGVtZW50czpbXX0scj17fTtpZigoXCJmbFwiPT10LnR5fHxcInN0XCI9PXQudHkpJiYoci5jPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5jLDEsMjU1LGUpLHIuYy5rfHwocy5jbz1cInJnYihcIitibV9mbG9vcihyLmMudlswXSkrXCIsXCIrYm1fZmxvb3Ioci5jLnZbMV0pK1wiLFwiK2JtX2Zsb29yKHIuYy52WzJdKStcIilcIikpLHIubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSxlKSxcInN0XCI9PXQudHkpe2lmKHMubGM9dGhpcy5sY0VudW1bdC5sY118fFwicm91bmRcIixzLmxqPXRoaXMubGpFbnVtW3QubGpdfHxcInJvdW5kXCIsMT09dC5saiYmKHMubWw9dC5tbCksci53PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC53LDAsbnVsbCxlKSxyLncua3x8KHMud2k9ci53LnYpLHQuZCl7dmFyIGk9UHJvcGVydHlGYWN0b3J5LmdldERhc2hQcm9wKHRoaXMsdC5kLFwiY2FudmFzXCIsZSk7ci5kPWksci5kLmt8fChzLmRhPXIuZC5kYXNoYXJyYXksc1tcImRvXCJdPXIuZC5kYXNob2Zmc2V0KX19ZWxzZSBzLnI9Mj09PXQucj9cImV2ZW5vZGRcIjpcIm5vbnplcm9cIjtyZXR1cm4gdGhpcy5zdHlsZXNMaXN0LnB1c2gocyksci5zdHlsZT1zLHJ9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVHcm91cEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9e2l0OltdLHByZXZWaWV3RGF0YTpbXX07cmV0dXJuIGV9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHM9e3RyYW5zZm9ybTp7bWF0Om5ldyBNYXRyaXgsb3BhY2l0eToxLG1hdE1kZjohMSxvcE1kZjohMSxvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSxlKSxtUHJvcHM6UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LDIsbnVsbCxlKX0sZWxlbWVudHM6W119O3JldHVybiBzfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGVFbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHM9e25vZGVzOltdLHRyTm9kZXM6W10sdHI6WzAsMCwwLDAsMCwwXX0scj00O1wicmNcIj09dC50eT9yPTU6XCJlbFwiPT10LnR5P3I9NjpcInNyXCI9PXQudHkmJihyPTcpLHMuc2g9U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0U2hhcGVQcm9wKHRoaXMsdCxyLGUpLHRoaXMuc2hhcGVzLnB1c2gocy5zaCksdGhpcy5hZGRTaGFwZVRvTW9kaWZpZXJzKHMpLGpMZW49dGhpcy5zdHlsZXNMaXN0Lmxlbmd0aDt2YXIgaT0hMSxhPSExO2ZvcihqPTA7ajxqTGVuO2orPTEpdGhpcy5zdHlsZXNMaXN0W2pdLmNsb3NlZHx8KHRoaXMuc3R5bGVzTGlzdFtqXS5lbGVtZW50cy5wdXNoKHMpLFwic3RcIj09PXRoaXMuc3R5bGVzTGlzdFtqXS50eXBlP2k9ITA6YT0hMCk7cmV0dXJuIHMuc3Q9aSxzLmZsPWEsc30sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbG9hZFNoYXBlcz1mdW5jdGlvbigpe3RoaXMuZmlyc3RGcmFtZT0hMDt2YXIgdCxlPXRoaXMuaXRlbXNEYXRhLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMucHJldlZpZXdEYXRhW3RdPXRoaXMuaXRlbXNEYXRhW3RdO3RoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLCEwKTt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpO3RoaXMucmVuZGVyTW9kaWZpZXJzKCl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hTaGFwZXM9ZnVuY3Rpb24odCxlLHMscixpKXt2YXIgYSxuLG8saCxsPXQubGVuZ3RoLTEscD1bXSxtPVtdO2ZvcihhPWw7YT49MDthLT0xKXtpZihoPXRoaXMuc2VhcmNoUHJvY2Vzc2VkRWxlbWVudCh0W2FdKSxoP2VbYV09c1toLTFdOnRbYV0uX3JlbmRlcj1pLFwiZmxcIj09dFthXS50eXx8XCJzdFwiPT10W2FdLnR5KWg/ZVthXS5zdHlsZS5jbG9zZWQ9ITE6ZVthXT10aGlzLmNyZWF0ZVN0eWxlRWxlbWVudCh0W2FdLHIpLHAucHVzaChlW2FdLnN0eWxlKTtlbHNlIGlmKFwiZ3JcIj09dFthXS50eSl7aWYoaClmb3Iobz1lW2FdLml0Lmxlbmd0aCxuPTA7bz5uO24rPTEpZVthXS5wcmV2Vmlld0RhdGFbbl09ZVthXS5pdFtuXTtlbHNlIGVbYV09dGhpcy5jcmVhdGVHcm91cEVsZW1lbnQodFthXSk7dGhpcy5zZWFyY2hTaGFwZXModFthXS5pdCxlW2FdLml0LGVbYV0ucHJldlZpZXdEYXRhLHIsaSl9ZWxzZSBpZihcInRyXCI9PXRbYV0udHkpaHx8KGVbYV09dGhpcy5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50KHRbYV0scikpO2Vsc2UgaWYoXCJzaFwiPT10W2FdLnR5fHxcInJjXCI9PXRbYV0udHl8fFwiZWxcIj09dFthXS50eXx8XCJzclwiPT10W2FdLnR5KWh8fChlW2FdPXRoaXMuY3JlYXRlU2hhcGVFbGVtZW50KHRbYV0scikpO2Vsc2UgaWYoXCJ0bVwiPT10W2FdLnR5fHxcInJkXCI9PXRbYV0udHkpe2lmKGgpZj1lW2FdLGYuY2xvc2VkPSExO2Vsc2V7dmFyIGY9U2hhcGVNb2RpZmllcnMuZ2V0TW9kaWZpZXIodFthXS50eSk7Zi5pbml0KHRoaXMsdFthXSxyKSxlW2FdPWYsdGhpcy5zaGFwZU1vZGlmaWVycy5wdXNoKGYpfW0ucHVzaChmKX1lbHNlXCJycFwiPT10W2FdLnR5JiYoaD8oZj1lW2FdLGYuY2xvc2VkPSEwKTooZj1TaGFwZU1vZGlmaWVycy5nZXRNb2RpZmllcih0W2FdLnR5KSxlW2FdPWYsZi5pbml0KHRoaXMsdCxhLGUsciksdGhpcy5zaGFwZU1vZGlmaWVycy5wdXNoKGYpLGk9ITEpLG0ucHVzaChmKSk7dGhpcy5hZGRQcm9jZXNzZWRFbGVtZW50KHRbYV0sYSsxKX1mb3IobD1wLmxlbmd0aCxhPTA7bD5hO2ErPTEpcFthXS5jbG9zZWQ9ITA7Zm9yKGw9bS5sZW5ndGgsYT0wO2w+YTthKz0xKW1bYV0uY2xvc2VkPSEwfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVycz1JU2hhcGVFbGVtZW50LnByb3RvdHlwZS5hZGRTaGFwZVRvTW9kaWZpZXJzLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJNb2RpZmllcnM9SVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyTW9kaWZpZXJzLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5sY0VudW09SVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGNFbnVtLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5sakVudW09SVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGpFbnVtLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hQcm9jZXNzZWRFbGVtZW50PUlTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFByb2Nlc3NlZEVsZW1lbnQsQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFkZFByb2Nlc3NlZEVsZW1lbnQ9SVNoYXBlRWxlbWVudC5wcm90b3R5cGUuYWRkUHJvY2Vzc2VkRWxlbWVudCxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExJiYodGhpcy50cmFuc2Zvcm1IZWxwZXIubWF0LnJlc2V0KCksdGhpcy50cmFuc2Zvcm1IZWxwZXIub3BhY2l0eT10aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHksdGhpcy50cmFuc2Zvcm1IZWxwZXIubWF0TWRmPSExLHRoaXMudHJhbnNmb3JtSGVscGVyLm9wTWRmPXRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGYsdGhpcy5yZW5kZXJNb2RpZmllcnMoKSx0aGlzLnJlbmRlclNoYXBlKHRoaXMudHJhbnNmb3JtSGVscGVyLG51bGwsbnVsbCwhMCksdGhpcy5kYXRhLmhhc01hc2smJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKCEwKSl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTaGFwZT1mdW5jdGlvbih0LGUscyxyKXt2YXIgaSxhO2lmKCFlKWZvcihlPXRoaXMuc2hhcGVzRGF0YSxhPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGgsaT0wO2E+aTtpKz0xKXRoaXMuc3R5bGVzTGlzdFtpXS5kPVwiXCIsdGhpcy5zdHlsZXNMaXN0W2ldLm1kZj0hMTtzfHwocz10aGlzLml0ZW1zRGF0YSksYT1lLmxlbmd0aC0xO3ZhciBuLG87Zm9yKG49dCxpPWE7aT49MDtpLT0xKWlmKFwidHJcIj09ZVtpXS50eSl7bj1zW2ldLnRyYW5zZm9ybTt2YXIgaD1zW2ldLnRyYW5zZm9ybS5tUHJvcHMudi5wcm9wcztpZihuLm1hdE1kZj1uLm1Qcm9wcy5tZGYsbi5vcE1kZj1uLm9wLm1kZixvPW4ubWF0LG8uY2xvbmVGcm9tUHJvcHMoaCksdCl7dmFyIGw9dC5tYXQucHJvcHM7bi5vcGFjaXR5PXQub3BhY2l0eSxuLm9wYWNpdHkqPXNbaV0udHJhbnNmb3JtLm9wLnYsbi5tYXRNZGY9dC5tYXRNZGY/ITA6bi5tYXRNZGYsbi5vcE1kZj10Lm9wTWRmPyEwOm4ub3BNZGYsby50cmFuc2Zvcm0obFswXSxsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSxsWzddLGxbOF0sbFs5XSxsWzEwXSxsWzExXSxsWzEyXSxsWzEzXSxsWzE0XSxsWzE1XSl9ZWxzZSBuLm9wYWNpdHk9bi5vcC5vfWVsc2VcInNoXCI9PWVbaV0udHl8fFwiZWxcIj09ZVtpXS50eXx8XCJyY1wiPT1lW2ldLnR5fHxcInNyXCI9PWVbaV0udHk/dGhpcy5yZW5kZXJQYXRoKGVbaV0sc1tpXSxuKTpcImZsXCI9PWVbaV0udHk/dGhpcy5yZW5kZXJGaWxsKGVbaV0sc1tpXSxuKTpcInN0XCI9PWVbaV0udHk/dGhpcy5yZW5kZXJTdHJva2UoZVtpXSxzW2ldLG4pOlwiZ3JcIj09ZVtpXS50eT90aGlzLnJlbmRlclNoYXBlKG4sZVtpXS5pdCxzW2ldLml0KTpcInRtXCI9PWVbaV0udHk7aWYocil7YT10aGlzLnN0eWxlc0xpc3QubGVuZ3RoO3ZhciBwLG0sZixjLGQsdSx5LGc9dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLHY9dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQ7Zm9yKGcuc2F2ZSgpLGcuY3R4VHJhbnNmb3JtKHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0LnByb3BzKSxpPTA7YT5pO2krPTEpaWYoeT10aGlzLnN0eWxlc0xpc3RbaV0udHlwZSwoXCJzdFwiIT09eXx8MCE9PXRoaXMuc3R5bGVzTGlzdFtpXS53aSkmJnRoaXMuc3R5bGVzTGlzdFtpXS5kYXRhLl9yZW5kZXIpe2ZvcihnLnNhdmUoKSxkPXRoaXMuc3R5bGVzTGlzdFtpXS5lbGVtZW50cyxcInN0XCI9PT15Pyh2LnN0cm9rZVN0eWxlPXRoaXMuc3R5bGVzTGlzdFtpXS5jbyx2LmxpbmVXaWR0aD10aGlzLnN0eWxlc0xpc3RbaV0ud2ksdi5saW5lQ2FwPXRoaXMuc3R5bGVzTGlzdFtpXS5sYyx2LmxpbmVKb2luPXRoaXMuc3R5bGVzTGlzdFtpXS5saix2Lm1pdGVyTGltaXQ9dGhpcy5zdHlsZXNMaXN0W2ldLm1sfHwwKTp2LmZpbGxTdHlsZT10aGlzLnN0eWxlc0xpc3RbaV0uY28sZy5jdHhPcGFjaXR5KHRoaXMuc3R5bGVzTGlzdFtpXS5jb09wKSxcInN0XCIhPT15JiZ2LmJlZ2luUGF0aCgpLG09ZC5sZW5ndGgscD0wO20+cDtwKz0xKXtmb3IoXCJzdFwiPT09eSYmKHYuYmVnaW5QYXRoKCksdGhpcy5zdHlsZXNMaXN0W2ldLmRhPyh2LnNldExpbmVEYXNoKHRoaXMuc3R5bGVzTGlzdFtpXS5kYSksdi5saW5lRGFzaE9mZnNldD10aGlzLnN0eWxlc0xpc3RbaV1bXCJkb1wiXSx0aGlzLmdsb2JhbERhdGEuaXNEYXNoZWQ9ITApOnRoaXMuZ2xvYmFsRGF0YS5pc0Rhc2hlZCYmKHYuc2V0TGluZURhc2godGhpcy5kYXNoUmVzZXR0ZXIpLHRoaXMuZ2xvYmFsRGF0YS5pc0Rhc2hlZD0hMSkpLHU9ZFtwXS50ck5vZGVzLGM9dS5sZW5ndGgsZj0wO2M+ZjtmKz0xKVwibVwiPT11W2ZdLnQ/di5tb3ZlVG8odVtmXS5wWzBdLHVbZl0ucFsxXSk6XCJjXCI9PXVbZl0udD92LmJlemllckN1cnZlVG8odVtmXS5wMVswXSx1W2ZdLnAxWzFdLHVbZl0ucDJbMF0sdVtmXS5wMlsxXSx1W2ZdLnAzWzBdLHVbZl0ucDNbMV0pOnYuY2xvc2VQYXRoKCk7XCJzdFwiPT09eSYmdi5zdHJva2UoKX1cInN0XCIhPT15JiZ2LmZpbGwodGhpcy5zdHlsZXNMaXN0W2ldLnIpLGcucmVzdG9yZSgpfWcucmVzdG9yZSgpLHRoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9fSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyUGF0aD1mdW5jdGlvbih0LGUscyl7dmFyIHIsaSxhLG4sbz1zLm1hdE1kZnx8ZS5zaC5tZGZ8fHRoaXMuZmlyc3RGcmFtZTtpZihvKXt2YXIgaD1lLnNoLnBhdGhzO249aC5fbGVuZ3RoO3ZhciBsPWUudHJOb2Rlcztmb3IobC5sZW5ndGg9MCxhPTA7bj5hO2ErPTEpe3ZhciBwPWguc2hhcGVzW2FdO2lmKHAmJnAudil7Zm9yKHI9cC5fbGVuZ3RoLGk9MTtyPmk7aSs9MSkxPT1pJiZsLnB1c2goe3Q6XCJtXCIscDpzLm1hdC5hcHBseVRvUG9pbnRBcnJheShwLnZbMF1bMF0scC52WzBdWzFdLDApfSksbC5wdXNoKHt0OlwiY1wiLHAxOnMubWF0LmFwcGx5VG9Qb2ludEFycmF5KHAub1tpLTFdWzBdLHAub1tpLTFdWzFdLDApLHAyOnMubWF0LmFwcGx5VG9Qb2ludEFycmF5KHAuaVtpXVswXSxwLmlbaV1bMV0sMCkscDM6cy5tYXQuYXBwbHlUb1BvaW50QXJyYXkocC52W2ldWzBdLHAudltpXVsxXSwwKX0pOzE9PXImJmwucHVzaCh7dDpcIm1cIixwOnMubWF0LmFwcGx5VG9Qb2ludEFycmF5KHAudlswXVswXSxwLnZbMF1bMV0sMCl9KSxwLmMmJnImJihsLnB1c2goe3Q6XCJjXCIscDE6cy5tYXQuYXBwbHlUb1BvaW50QXJyYXkocC5vW2ktMV1bMF0scC5vW2ktMV1bMV0sMCkscDI6cy5tYXQuYXBwbHlUb1BvaW50QXJyYXkocC5pWzBdWzBdLHAuaVswXVsxXSwwKSxwMzpzLm1hdC5hcHBseVRvUG9pbnRBcnJheShwLnZbMF1bMF0scC52WzBdWzFdLDApfSksbC5wdXNoKHt0OlwielwifSkpLGUubFN0cj1sfX1pZihlLnN0KWZvcihpPTA7MTY+aTtpKz0xKWUudHJbaV09cy5tYXQucHJvcHNbaV07ZS50ck5vZGVzPWx9fSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRmlsbD1mdW5jdGlvbih0LGUscyl7dmFyIHI9ZS5zdHlsZTsoZS5jLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmKHIuY289XCJyZ2IoXCIrYm1fZmxvb3IoZS5jLnZbMF0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzFdKStcIixcIitibV9mbG9vcihlLmMudlsyXSkrXCIpXCIpLChlLm8ubWRmfHxzLm9wTWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYoci5jb09wPWUuby52KnMub3BhY2l0eSl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTdHJva2U9ZnVuY3Rpb24odCxlLHMpe3ZhciByPWUuc3R5bGUsaT1lLmQ7aSYmKGkubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYoci5kYT1pLmRhc2hhcnJheSxyW1wiZG9cIl09aS5kYXNob2Zmc2V0KSwoZS5jLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmKHIuY289XCJyZ2IoXCIrYm1fZmxvb3IoZS5jLnZbMF0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzFdKStcIixcIitibV9mbG9vcihlLmMudlsyXSkrXCIpXCIpLChlLm8ubWRmfHxzLm9wTWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYoci5jb09wPWUuby52KnMub3BhY2l0eSksKGUudy5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihyLndpPWUudy52KX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlc0RhdGE9bnVsbCx0aGlzLmdsb2JhbERhdGE9bnVsbCx0aGlzLmNhbnZhc0NvbnRleHQ9bnVsbCx0aGlzLnN0eWxlc0xpc3QubGVuZ3RoPTAsdGhpcy5pdGVtRGF0YS5sZW5ndGg9MCx0aGlzLl9wYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMuX3BhcmVudCl9LGNyZWF0ZUVsZW1lbnQoQ1ZCYXNlRWxlbWVudCxDVlNvbGlkRWxlbWVudCksQ1ZTb2xpZEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCkhPT0hMSl7dmFyIGU9dGhpcy5jYW52YXNDb250ZXh0O3RoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5zYXZlKCksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLmN0eFRyYW5zZm9ybSh0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wcyksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLmN0eE9wYWNpdHkodGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5KSxlLmZpbGxTdHlsZT10aGlzLmRhdGEuc2MsZS5maWxsUmVjdCgwLDAsdGhpcy5kYXRhLnN3LHRoaXMuZGF0YS5zaCksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnJlc3RvcmUodGhpcy5kYXRhLmhhc01hc2spLHRoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9fSxjcmVhdGVFbGVtZW50KENWQmFzZUVsZW1lbnQsQ1ZUZXh0RWxlbWVudCksQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUuaW5pdD1JVGV4dEVsZW1lbnQucHJvdG90eXBlLmluaXQsQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUuZ2V0TWVhc3VyZXM9SVRleHRFbGVtZW50LnByb3RvdHlwZS5nZXRNZWFzdXJlcyxDVlRleHRFbGVtZW50LnByb3RvdHlwZS5nZXRNdWx0PUlUZXh0RWxlbWVudC5wcm90b3R5cGUuZ2V0TXVsdCxDVlRleHRFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9SVRleHRFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWUsQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUudEhlbHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKSxDVlRleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5jcmVhdGVFbGVtZW50cy5jYWxsKHRoaXMpfSxDVlRleHRFbGVtZW50LnByb3RvdHlwZS5idWlsZE5ld1RleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnJlbnRUZXh0RG9jdW1lbnREYXRhO3RoaXMucmVuZGVyZWRMZXR0ZXJzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLmN1cnJlbnRUZXh0RG9jdW1lbnREYXRhLmw/dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YS5sLmxlbmd0aDowfSk7dmFyIGU9ITE7dC5mYz8oZT0hMCx0aGlzLnZhbHVlcy5maWxsPVwicmdiKFwiK01hdGgucm91bmQoMjU1KnQuZmNbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KnQuZmNbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KnQuZmNbMl0pK1wiKVwiKTp0aGlzLnZhbHVlcy5maWxsPVwicmdiYSgwLDAsMCwwKVwiLHRoaXMuZmlsbD1lO3ZhciBzPSExO3Quc2MmJihzPSEwLHRoaXMudmFsdWVzLnN0cm9rZT1cInJnYihcIitNYXRoLnJvdW5kKDI1NSp0LnNjWzBdKStcIixcIitNYXRoLnJvdW5kKDI1NSp0LnNjWzFdKStcIixcIitNYXRoLnJvdW5kKDI1NSp0LnNjWzJdKStcIilcIix0aGlzLnZhbHVlcy5zV2lkdGg9dC5zdyk7dmFyIHIsaSxhPXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHQuZiksbj10Lmwsbz10aGlzLm1IZWxwZXI7dGhpcy5zdHJva2U9cyx0aGlzLnZhbHVlcy5mVmFsdWU9dC5zK1wicHggXCIrdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUodC5mKS5mRmFtaWx5LGk9dC50Lmxlbmd0aCx0aGlzLnRIZWxwZXIuZm9udD10aGlzLnZhbHVlcy5mVmFsdWU7dmFyIGgsbCxwLG0sZixjLGQsdSx5LGcsdj10aGlzLmRhdGEuc2luZ2xlU2hhcGU7aWYodil2YXIgYj0wLEU9MCxQPXQubGluZVdpZHRocyxTPXQuYm94V2lkdGgseD0hMDt2YXIgQz0wO2ZvcihyPTA7aT5yO3IrPTEpe2g9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldENoYXJEYXRhKHQudC5jaGFyQXQociksYS5mU3R5bGUsdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUodC5mKS5mRmFtaWx5KTt2YXIgbDtpZihsPWg/aC5kYXRhOm51bGwsby5yZXNldCgpLHYmJm5bcl0ubiYmKGI9MCxFKz10LnlPZmZzZXQsRSs9eD8xOjAseD0hMSksbCYmbC5zaGFwZXMpe2lmKGY9bC5zaGFwZXNbMF0uaXQsZD1mLmxlbmd0aCxvLnNjYWxlKHQucy8xMDAsdC5zLzEwMCksdil7c3dpdGNoKHQucHMmJm8udHJhbnNsYXRlKHQucHNbMF0sdC5wc1sxXSt0LmFzY2VudCwwKSxvLnRyYW5zbGF0ZSgwLC10LmxzLDApLHQuail7Y2FzZSAxOm8udHJhbnNsYXRlKHQuanVzdGlmeU9mZnNldCsoUy1QW25bcl0ubGluZV0pLDAsMCk7YnJlYWs7XG5cbmNhc2UgMjpvLnRyYW5zbGF0ZSh0Lmp1c3RpZnlPZmZzZXQrKFMtUFtuW3JdLmxpbmVdKS8yLDAsMCl9by50cmFuc2xhdGUoYixFLDApfWZvcih5PW5ldyBBcnJheShkKSxjPTA7ZD5jO2MrPTEpe2ZvcihtPWZbY10ua3Muay5pLmxlbmd0aCx1PWZbY10ua3MuayxnPVtdLHA9MTttPnA7cCs9MSkxPT1wJiZnLnB1c2goby5hcHBseVRvWCh1LnZbMF1bMF0sdS52WzBdWzFdLDApLG8uYXBwbHlUb1kodS52WzBdWzBdLHUudlswXVsxXSwwKSksZy5wdXNoKG8uYXBwbHlUb1godS5vW3AtMV1bMF0sdS5vW3AtMV1bMV0sMCksby5hcHBseVRvWSh1Lm9bcC0xXVswXSx1Lm9bcC0xXVsxXSwwKSxvLmFwcGx5VG9YKHUuaVtwXVswXSx1LmlbcF1bMV0sMCksby5hcHBseVRvWSh1LmlbcF1bMF0sdS5pW3BdWzFdLDApLG8uYXBwbHlUb1godS52W3BdWzBdLHUudltwXVsxXSwwKSxvLmFwcGx5VG9ZKHUudltwXVswXSx1LnZbcF1bMV0sMCkpO2cucHVzaChvLmFwcGx5VG9YKHUub1twLTFdWzBdLHUub1twLTFdWzFdLDApLG8uYXBwbHlUb1kodS5vW3AtMV1bMF0sdS5vW3AtMV1bMV0sMCksby5hcHBseVRvWCh1LmlbMF1bMF0sdS5pWzBdWzFdLDApLG8uYXBwbHlUb1kodS5pWzBdWzBdLHUuaVswXVsxXSwwKSxvLmFwcGx5VG9YKHUudlswXVswXSx1LnZbMF1bMV0sMCksby5hcHBseVRvWSh1LnZbMF1bMF0sdS52WzBdWzFdLDApKSx5W2NdPWd9fWVsc2UgeT1bXTt2JiYoYis9bltyXS5sKSx0aGlzLnRleHRTcGFuc1tDXT90aGlzLnRleHRTcGFuc1tDXS5lbGVtPXk6dGhpcy50ZXh0U3BhbnNbQ109e2VsZW06eX0sQys9MX19LENWVGV4dEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCkhPT0hMSl7dmFyIGU9dGhpcy5jYW52YXNDb250ZXh0LHM9dGhpcy5maW5hbFRyYW5zZm9ybS5tYXQucHJvcHM7dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4VHJhbnNmb3JtKHMpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhPcGFjaXR5KHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BhY2l0eSksZS5mb250PXRoaXMudmFsdWVzLmZWYWx1ZSxlLmxpbmVDYXA9XCJidXR0XCIsZS5saW5lSm9pbj1cIm1pdGVyXCIsZS5taXRlckxpbWl0PTQsdGhpcy5kYXRhLnNpbmdsZVNoYXBlfHx0aGlzLmdldE1lYXN1cmVzKCk7dmFyIHIsaSxhLG4sbyxoLGw9dGhpcy5yZW5kZXJlZExldHRlcnMscD10aGlzLmN1cnJlbnRUZXh0RG9jdW1lbnREYXRhLmw7aT1wLmxlbmd0aDt2YXIgbSxmLGMsZD1udWxsLHU9bnVsbCx5PW51bGw7Zm9yKHI9MDtpPnI7cis9MSlpZighcFtyXS5uKXtpZihtPWxbcl0sbSYmKHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5zYXZlKCksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLmN0eFRyYW5zZm9ybShtLnByb3BzKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4T3BhY2l0eShtLm8pKSx0aGlzLmZpbGwpe2ZvcihtJiZtLmZjP2QhPT1tLmZjJiYoZD1tLmZjLGUuZmlsbFN0eWxlPW0uZmMpOmQhPT10aGlzLnZhbHVlcy5maWxsJiYoZD10aGlzLnZhbHVlcy5maWxsLGUuZmlsbFN0eWxlPXRoaXMudmFsdWVzLmZpbGwpLGY9dGhpcy50ZXh0U3BhbnNbcl0uZWxlbSxuPWYubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpLGE9MDtuPmE7YSs9MSlmb3IoYz1mW2FdLGg9Yy5sZW5ndGgsdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQubW92ZVRvKGNbMF0sY1sxXSksbz0yO2g+bztvKz02KXRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlemllckN1cnZlVG8oY1tvXSxjW28rMV0sY1tvKzJdLGNbbyszXSxjW28rNF0sY1tvKzVdKTt0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5maWxsKCl9aWYodGhpcy5zdHJva2Upe2ZvcihtJiZtLnN3P3khPT1tLnN3JiYoeT1tLnN3LGUubGluZVdpZHRoPW0uc3cpOnkhPT10aGlzLnZhbHVlcy5zV2lkdGgmJih5PXRoaXMudmFsdWVzLnNXaWR0aCxlLmxpbmVXaWR0aD10aGlzLnZhbHVlcy5zV2lkdGgpLG0mJm0uc2M/dSE9PW0uc2MmJih1PW0uc2MsZS5zdHJva2VTdHlsZT1tLnNjKTp1IT09dGhpcy52YWx1ZXMuc3Ryb2tlJiYodT10aGlzLnZhbHVlcy5zdHJva2UsZS5zdHJva2VTdHlsZT10aGlzLnZhbHVlcy5zdHJva2UpLGY9dGhpcy50ZXh0U3BhbnNbcl0uZWxlbSxuPWYubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpLGE9MDtuPmE7YSs9MSlmb3IoYz1mW2FdLGg9Yy5sZW5ndGgsdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQubW92ZVRvKGNbMF0sY1sxXSksbz0yO2g+bztvKz02KXRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlemllckN1cnZlVG8oY1tvXSxjW28rMV0sY1tvKzJdLGNbbyszXSxjW28rNF0sY1tvKzVdKTt0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5zdHJva2UoKX1tJiZ0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSgpfXRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKHRoaXMuZGF0YS5oYXNNYXNrKSx0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpfX0sY3JlYXRlRWxlbWVudChCYXNlRWxlbWVudCxIQmFzZUVsZW1lbnQpLEhCYXNlRWxlbWVudC5wcm90b3R5cGUuY2hlY2tCbGVuZE1vZGU9ZnVuY3Rpb24oKXt9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuc2V0QmxlbmRNb2RlPUJhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRCbGVuZE1vZGUsSEJhc2VFbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2VFbGVtZW50fSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5kYXRhLmhhc01hc2s/KHRoaXMubGF5ZXJFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKSxzdHlsZURpdih0aGlzLmxheWVyRWxlbWVudCksdGhpcy5iYXNlRWxlbWVudD10aGlzLmxheWVyRWxlbWVudCx0aGlzLm1hc2tlZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQpOnRoaXMubGF5ZXJFbGVtZW50PXRoaXMucGFyZW50Q29udGFpbmVyLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50LCF0aGlzLmRhdGEubG58fDQhPT10aGlzLmRhdGEudHkmJjAhPT10aGlzLmRhdGEudHl8fCh0aGlzLmxheWVyRWxlbWVudD09PXRoaXMucGFyZW50Q29udGFpbmVyJiYodGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmJhc2VFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50KSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbikpLHRoaXMuc2V0QmxlbmRNb2RlKCksdGhpcy5sYXllckVsZW1lbnQhPT10aGlzLnBhcmVudENvbnRhaW5lciYmKHRoaXMucGxhY2Vob2xkZXI9bnVsbCksdGhpcy5jaGVja1BhcmVudGluZygpfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKDM9PT10aGlzLmRhdGEudHkpcmV0dXJuITE7aWYodGhpcy5jdXJyZW50RnJhbWVOdW09PT10aGlzLmxhc3ROdW18fCF0aGlzLmlzVmlzaWJsZSlyZXR1cm4gdGhpcy5pc1Zpc2libGU7dGhpcy5sYXN0TnVtPXRoaXMuY3VycmVudEZyYW1lTnVtLHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5vcC5tZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5PXRoaXMuZmluYWxUcmFuc2Zvcm0ub3Audix0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmPSEwLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmPSEwKTt2YXIgZSxzPXRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0O2lmKHRoaXMuaGllcmFyY2h5KXt2YXIgcixpPXRoaXMuaGllcmFyY2h5Lmxlbmd0aDtmb3IoZT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMscy5jbG9uZUZyb21Qcm9wcyhlKSxyPTA7aT5yO3IrPTEpdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dGhpcy5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3AubWRmPyEwOnRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmLGU9dGhpcy5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxzLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKX1lbHNlIHRoaXMuaXNWaXNpYmxlJiZ0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiYmKHQ/KGU9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHMuY2xvbmVGcm9tUHJvcHMoZSkpOnMuY2xvbmVGcm9tUHJvcHModGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzKSk7cmV0dXJuIHRoaXMuZGF0YS5oYXNNYXNrJiZ0aGlzLm1hc2tNYW5hZ2VyLnJlbmRlckZyYW1lKHMpLHQmJihlPXQubWF0LnByb3BzLHMuY2xvbmVGcm9tUHJvcHMoZSksdGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5Kj10Lm9wYWNpdHksdGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZj10Lm9wTWRmPyEwOnRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dC5tYXRNZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYpLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmJiYodGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtZWRFbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1zLnRvQ1NTKCksdGhpcy5maW5hbE1hdD1zKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmJiYodGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc3R5bGUub3BhY2l0eT10aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHkpLHRoaXMuaXNWaXNpYmxlfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxheWVyRWxlbWVudD1udWxsLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PW51bGwsdGhpcy5wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLm1hdHRlRWxlbWVudCYmKHRoaXMubWF0dGVFbGVtZW50PW51bGwpLHRoaXMubWFza01hbmFnZXImJih0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLm1hc2tNYW5hZ2VyPW51bGwpfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmdldERvbUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckVsZW1lbnR9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuYWRkTWFza3M9ZnVuY3Rpb24odCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgTWFza0VsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe30sSEJhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRNYXR0ZT1mdW5jdGlvbigpe30sSEJhc2VFbGVtZW50LnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmc9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRWxlbWVudFBhcmVudGluZyxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIU29saWRFbGVtZW50KSxIU29saWRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3R5bGVEaXYodCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwic3ZnXCIpO3N0eWxlRGl2KGUpLGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLmRhdGEuc3cpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5kYXRhLnNoKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMubGF5ZXJFbGVtZW50PXQsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dCx0aGlzLmJhc2VFbGVtZW50PXQsdGhpcy5pbm5lckVsZW09dCx0aGlzLmRhdGEubG4mJnRoaXMuaW5uZXJFbGVtLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5kYXRhLmxuKSwwIT09dGhpcy5kYXRhLmJtJiZ0aGlzLnNldEJsZW5kTW9kZSgpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJlY3RcIik7cy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZGF0YS5zdykscy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmRhdGEuc2gpLHMuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuZGF0YS5zYyksZS5hcHBlbmRDaGlsZChzKSx0aGlzLmRhdGEuaGFzTWFzayYmKHRoaXMubWFza2VkRWxlbWVudD1zKSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhTb2xpZEVsZW1lbnQucHJvdG90eXBlLmhpZGU9U1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLmhpZGUsSFNvbGlkRWxlbWVudC5wcm90b3R5cGUuc2hvdz1TVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuc2hvdyxIU29saWRFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1JSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZSxIU29saWRFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PUlJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3ksY3JlYXRlRWxlbWVudChIQmFzZUVsZW1lbnQsSENvbXBFbGVtZW50KSxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihzdHlsZURpdih0KSx0aGlzLmRhdGEubG4mJnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHQuc3R5bGUuY2xpcD1cInJlY3QoMHB4LCBcIit0aGlzLmRhdGEudytcInB4LCBcIit0aGlzLmRhdGEuaCtcInB4LCAwcHgpXCIsdGhpcy5kYXRhLmhhc01hc2spe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKTtzdHlsZURpdihlKSxlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5kYXRhLncpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5kYXRhLmgpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7ZS5hcHBlbmRDaGlsZChzKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMubWFza2VkRWxlbWVudD1zLHRoaXMuYmFzZUVsZW1lbnQ9dCx0aGlzLmxheWVyRWxlbWVudD1zLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXR9ZWxzZSB0aGlzLmxheWVyRWxlbWVudD10LHRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dDt0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhDb21wRWxlbWVudC5wcm90b3R5cGUuaGlkZT1JQ29tcEVsZW1lbnQucHJvdG90eXBlLmhpZGUsSENvbXBFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWUsSENvbXBFbGVtZW50LnByb3RvdHlwZS5zZXRFbGVtZW50cz1JQ29tcEVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRzLEhDb21wRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHM9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50cyxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95LEhDb21wRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGUscz10aGlzLl9wYXJlbnQucmVuZGVyRnJhbWUuY2FsbCh0aGlzLHQpLHI9dGhpcy5sYXllcnMubGVuZ3RoO2lmKHM9PT0hMSlyZXR1cm4gdm9pZCB0aGlzLmhpZGUoKTtmb3IodGhpcy5oaWRkZW49ITEsZT0wO3I+ZTtlKz0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW2VdKSYmdGhpcy5lbGVtZW50c1tlXS5yZW5kZXJGcmFtZSgpO3RoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9LEhDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tMYXllcnM9QmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jaGVja0xheWVycyxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkSXRlbT1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzLEhDb21wRWxlbWVudC5wcm90b3R5cGUuYWRkUGVuZGluZ0VsZW1lbnQ9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50LEhDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRBbGxJdGVtcz1CYXNlUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkQWxsSXRlbXMsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVJdGVtPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtLEhDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmcsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVJbWFnZT1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2UsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb21wPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb21wLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU29saWQ9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGU9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlVGV4dD1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dCxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJhc2U9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUJhc2UsSENvbXBFbGVtZW50LnByb3RvdHlwZS5hcHBlbmRFbGVtZW50SW5Qb3M9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmFwcGVuZEVsZW1lbnRJblBvcyxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIU2hhcGVFbGVtZW50KTt2YXIgcGFyZW50PUhTaGFwZUVsZW1lbnQucHJvdG90eXBlLl9wYXJlbnQ7ZXh0ZW5kUHJvdG90eXBlKElTaGFwZUVsZW1lbnQsSFNoYXBlRWxlbWVudCksSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuX3BhcmVudD1wYXJlbnQsSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuX3JlbmRlclNoYXBlRnJhbWU9SFNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWUsSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N0eWxlRGl2KHQpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKTtzdHlsZURpdihlKTt2YXIgcz10aGlzLmNvbXAuZGF0YT90aGlzLmNvbXAuZGF0YTp0aGlzLmdsb2JhbERhdGEuY29tcFNpemU7aWYoZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHMudyksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixzLmgpLHRoaXMuZGF0YS5oYXNNYXNrKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO3QuYXBwZW5kQ2hpbGQoZSksZS5hcHBlbmRDaGlsZChyKSx0aGlzLm1hc2tlZEVsZW1lbnQ9cix0aGlzLmxheWVyRWxlbWVudD1yLHRoaXMuc2hhcGVzQ29udGFpbmVyPXJ9ZWxzZSB0LmFwcGVuZENoaWxkKGUpLHRoaXMubGF5ZXJFbGVtZW50PWUsdGhpcy5zaGFwZXNDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnNoYXBlc0NvbnRhaW5lcik7dGhpcy5kYXRhLmhkfHwodGhpcy5iYXNlRWxlbWVudD10KSx0aGlzLmlubmVyRWxlbT10LHRoaXMuZGF0YS5sbiYmdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLDAsW10sITApLHRoaXMuYnVpbGRFeHByZXNzaW9uSW50ZXJmYWNlKCksdGhpcy5sYXllckVsZW1lbnQ9dCx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD10LHRoaXMuc2hhcGVDb250PWUsMCE9PXRoaXMuZGF0YS5ibSYmdGhpcy5zZXRCbGVuZE1vZGUoKSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlyc3RGcmFtZTtpZih0aGlzLl9yZW5kZXJTaGFwZUZyYW1lKCksdGhpcy5pc1Zpc2libGUmJih0aGlzLmVsZW1NZGZ8fGUpKXt2YXIgcz10aGlzLnNoYXBlQ29udC5nZXRCQm94KCkscj0hMTt0aGlzLmN1cnJlbnRCQm94LnchPT1zLndpZHRoJiYodGhpcy5jdXJyZW50QkJveC53PXMud2lkdGgsdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixzLndpZHRoKSxyPSEwKSx0aGlzLmN1cnJlbnRCQm94LmghPT1zLmhlaWdodCYmKHRoaXMuY3VycmVudEJCb3guaD1zLmhlaWdodCx0aGlzLnNoYXBlQ29udC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixzLmhlaWdodCkscj0hMCksKHJ8fHRoaXMuY3VycmVudEJCb3gueCE9PXMueHx8dGhpcy5jdXJyZW50QkJveC55IT09cy55KSYmKHRoaXMuY3VycmVudEJCb3gudz1zLndpZHRoLHRoaXMuY3VycmVudEJCb3guaD1zLmhlaWdodCx0aGlzLmN1cnJlbnRCQm94Lng9cy54LHRoaXMuY3VycmVudEJCb3gueT1zLnksdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLHRoaXMuY3VycmVudEJCb3gueCtcIiBcIit0aGlzLmN1cnJlbnRCQm94LnkrXCIgXCIrdGhpcy5jdXJyZW50QkJveC53K1wiIFwiK3RoaXMuY3VycmVudEJCb3guaCksdGhpcy5zaGFwZUNvbnQuc3R5bGUudHJhbnNmb3JtPXRoaXMuc2hhcGVDb250LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIit0aGlzLmN1cnJlbnRCQm94LngrXCJweCxcIit0aGlzLmN1cnJlbnRCQm94LnkrXCJweClcIil9fSxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIVGV4dEVsZW1lbnQpLEhUZXh0RWxlbWVudC5wcm90b3R5cGUuaW5pdD1JVGV4dEVsZW1lbnQucHJvdG90eXBlLmluaXQsSFRleHRFbGVtZW50LnByb3RvdHlwZS5nZXRNZWFzdXJlcz1JVGV4dEVsZW1lbnQucHJvdG90eXBlLmdldE1lYXN1cmVzLEhUZXh0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlUGF0aFNoYXBlPUlUZXh0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlUGF0aFNoYXBlLEhUZXh0RWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPUlUZXh0RWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lLEhUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGRTaGFwZVN0cmluZz1JVGV4dEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkU2hhcGVTdHJpbmcsSFRleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuaXNNYXNrZWQ9dGhpcy5jaGVja01hc2tzKCk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihzdHlsZURpdih0KSx0aGlzLmxheWVyRWxlbWVudD10LHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXQsdGhpcy5pc01hc2tlZCl7dGhpcy5yZW5kZXJUeXBlPVwic3ZnXCI7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwic3ZnXCIpO3N0eWxlRGl2KGUpLHRoaXMuY29udD1lLHRoaXMuY29tcFc9dGhpcy5jb21wLmRhdGEudyx0aGlzLmNvbXBIPXRoaXMuY29tcC5kYXRhLmgsZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuY29tcFcpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5jb21wSCk7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtlLmFwcGVuZENoaWxkKHMpLHQuYXBwZW5kQ2hpbGQoZSksdGhpcy5tYXNrZWRFbGVtZW50PXMsdGhpcy5pbm5lckVsZW09c31lbHNlIHRoaXMucmVuZGVyVHlwZT1cImh0bWxcIix0aGlzLmlubmVyRWxlbT10O3RoaXMuYmFzZUVsZW1lbnQ9dCx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGROZXdUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YTt0aGlzLnJlbmRlcmVkTGV0dGVycz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YS5sP3RoaXMuY3VycmVudFRleHREb2N1bWVudERhdGEubC5sZW5ndGg6MH0pLHRoaXMuaW5uZXJFbGVtLnN0eWxlLmNvbG9yPXRoaXMuaW5uZXJFbGVtLnN0eWxlLmZpbGw9dC5mYz9cInJnYihcIitNYXRoLnJvdW5kKDI1NSp0LmZjWzBdKStcIixcIitNYXRoLnJvdW5kKDI1NSp0LmZjWzFdKStcIixcIitNYXRoLnJvdW5kKDI1NSp0LmZjWzJdKStcIilcIjpcInJnYmEoMCwwLDAsMClcIix0LnNjJiYodGhpcy5pbm5lckVsZW0uc3R5bGUuc3Ryb2tlPVwicmdiKFwiK01hdGgucm91bmQoMjU1KnQuc2NbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KnQuc2NbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KnQuc2NbMl0pK1wiKVwiLHRoaXMuaW5uZXJFbGVtLnN0eWxlLnN0cm9rZVdpZHRoPXQuc3crXCJweFwiKTt2YXIgZT10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpO2lmKCF0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnMpaWYodGhpcy5pbm5lckVsZW0uc3R5bGUuZm9udFNpemU9dC5zK1wicHhcIix0aGlzLmlubmVyRWxlbS5zdHlsZS5saW5lSGVpZ2h0PXQucytcInB4XCIsZS5mQ2xhc3MpdGhpcy5pbm5lckVsZW0uY2xhc3NOYW1lPWUuZkNsYXNzO2Vsc2V7dGhpcy5pbm5lckVsZW0uc3R5bGUuZm9udEZhbWlseT1lLmZGYW1pbHk7dmFyIHM9dC5mV2VpZ2h0LHI9dC5mU3R5bGU7dGhpcy5pbm5lckVsZW0uc3R5bGUuZm9udFN0eWxlPXIsdGhpcy5pbm5lckVsZW0uc3R5bGUuZm9udFdlaWdodD1zfXZhciBpLGEsbj10Lmw7YT1uLmxlbmd0aDt2YXIgbyxoLGwscCxtPXRoaXMubUhlbHBlcixmPVwiXCIsYz0wO2ZvcihpPTA7YT5pO2krPTEpe2lmKHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycz8odGhpcy50ZXh0UGF0aHNbY10/bz10aGlzLnRleHRQYXRoc1tjXToobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJwYXRoXCIpLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIixcImJ1dHRcIiksby5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWpvaW5cIixcInJvdW5kXCIpLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlLW1pdGVybGltaXRcIixcIjRcIikpLHRoaXMuaXNNYXNrZWR8fCh0aGlzLnRleHRTcGFuc1tjXT8oaD10aGlzLnRleHRTcGFuc1tjXSxsPWguY2hpbGRyZW5bMF0pOihoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIiksbC5hcHBlbmRDaGlsZChvKSxzdHlsZURpdihoKSkpKTp0aGlzLmlzTWFza2VkP289dGhpcy50ZXh0UGF0aHNbY10/dGhpcy50ZXh0UGF0aHNbY106ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwidGV4dFwiKTp0aGlzLnRleHRTcGFuc1tjXT8oaD10aGlzLnRleHRTcGFuc1tjXSxvPXRoaXMudGV4dFBhdGhzW2NdKTooaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxzdHlsZURpdihoKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHN0eWxlRGl2KG8pLGguYXBwZW5kQ2hpbGQobykpLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycyl7dmFyIGQsdT10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Q2hhckRhdGEodC50LmNoYXJBdChpKSxlLmZTdHlsZSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpLmZGYW1pbHkpO2lmKGQ9dT91LmRhdGE6bnVsbCxtLnJlc2V0KCksZCYmZC5zaGFwZXMmJihwPWQuc2hhcGVzWzBdLml0LG0uc2NhbGUodC5zLzEwMCx0LnMvMTAwKSxmPXRoaXMuY3JlYXRlUGF0aFNoYXBlKG0scCksby5zZXRBdHRyaWJ1dGUoXCJkXCIsZikpLHRoaXMuaXNNYXNrZWQpdGhpcy5pbm5lckVsZW0uYXBwZW5kQ2hpbGQobyk7ZWxzZSBpZih0aGlzLmlubmVyRWxlbS5hcHBlbmRDaGlsZChoKSxkJiZkLnNoYXBlcyl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKTt2YXIgeT1sLmdldEJCb3goKTtsLnNldEF0dHJpYnV0ZShcIndpZHRoXCIseS53aWR0aCksbC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix5LmhlaWdodCksbC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIseS54K1wiIFwiK3kueStcIiBcIit5LndpZHRoK1wiIFwiK3kuaGVpZ2h0KSxsLnN0eWxlLnRyYW5zZm9ybT1sLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIit5LngrXCJweCxcIit5LnkrXCJweClcIixuW2ldLnlPZmZzZXQ9eS55LGguYXBwZW5kQ2hpbGQobCl9ZWxzZSBsLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsMSksbC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwxKX1lbHNlIG8udGV4dENvbnRlbnQ9bltpXS52YWwsby5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFwieG1sOnNwYWNlXCIsXCJwcmVzZXJ2ZVwiKSx0aGlzLmlzTWFza2VkP3RoaXMuaW5uZXJFbGVtLmFwcGVuZENoaWxkKG8pOih0aGlzLmlubmVyRWxlbS5hcHBlbmRDaGlsZChoKSxvLnN0eWxlLnRyYW5zZm9ybT1vLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZTNkKDAsXCIrLXQucy8xLjIrXCJweCwwKVwiKTt0aGlzLnRleHRTcGFuc1tjXT10aGlzLmlzTWFza2VkP286aCx0aGlzLnRleHRTcGFuc1tjXS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLnRleHRQYXRoc1tjXT1vLGMrPTF9Zm9yKDtjPHRoaXMudGV4dFNwYW5zLmxlbmd0aDspdGhpcy50ZXh0U3BhbnNbY10uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixjKz0xfSxIVGV4dEVsZW1lbnQucHJvdG90eXBlLmhpZGU9U1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLmhpZGUsSFRleHRFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYXJlbnQucmVuZGVyRnJhbWUuY2FsbCh0aGlzLHQpO2lmKGU9PT0hMSlyZXR1cm4gdm9pZCB0aGlzLmhpZGUoKTtpZih0aGlzLmhpZGRlbiYmKHRoaXMuaGlkZGVuPSExLHRoaXMuaW5uZXJFbGVtLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKSx0aGlzLmRhdGEuc2luZ2xlU2hhcGUpe2lmKCF0aGlzLmZpcnN0RnJhbWUmJiF0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZylyZXR1cm47dGhpcy5pc01hc2tlZCYmdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYmJih0aGlzLmNvbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLC10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnAudlswXStcIiBcIistdGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5wLnZbMV0rXCIgXCIrdGhpcy5jb21wVytcIiBcIit0aGlzLmNvbXBIKSx0aGlzLmNvbnQuc3R5bGUudHJhbnNmb3JtPXRoaXMuY29udC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrLXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AucC52WzBdK1wicHgsXCIrLXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AucC52WzFdK1wicHgpXCIpfWlmKHRoaXMuZ2V0TWVhc3VyZXMoKSx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZyl7dmFyIHMscixpPXRoaXMucmVuZGVyZWRMZXR0ZXJzLGE9dGhpcy5jdXJyZW50VGV4dERvY3VtZW50RGF0YS5sO3I9YS5sZW5ndGg7dmFyIG47Zm9yKHM9MDtyPnM7cys9MSlhW3NdLm58fChuPWlbc10sdGhpcy5pc01hc2tlZD90aGlzLnRleHRTcGFuc1tzXS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixuLm0pOnRoaXMudGV4dFNwYW5zW3NdLnN0eWxlLnRyYW5zZm9ybT10aGlzLnRleHRTcGFuc1tzXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm09bi5tLHRoaXMudGV4dFNwYW5zW3NdLnN0eWxlLm9wYWNpdHk9bi5vLG4uc3cmJnRoaXMudGV4dFBhdGhzW3NdLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLG4uc3cpLG4uc2MmJnRoaXMudGV4dFBhdGhzW3NdLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLG4uc2MpLG4uZmMmJih0aGlzLnRleHRQYXRoc1tzXS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsbi5mYyksdGhpcy50ZXh0UGF0aHNbc10uc3R5bGUuY29sb3I9bi5mYykpO2lmKHRoaXMuaXNWaXNpYmxlJiYodGhpcy5lbGVtTWRmfHx0aGlzLmZpcnN0RnJhbWUpJiZ0aGlzLmlubmVyRWxlbS5nZXRCQm94KXt2YXIgbz10aGlzLmlubmVyRWxlbS5nZXRCQm94KCk7dGhpcy5jdXJyZW50QkJveC53IT09by53aWR0aCYmKHRoaXMuY3VycmVudEJCb3gudz1vLndpZHRoLHRoaXMuY29udC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLG8ud2lkdGgpKSx0aGlzLmN1cnJlbnRCQm94LmghPT1vLmhlaWdodCYmKHRoaXMuY3VycmVudEJCb3guaD1vLmhlaWdodCx0aGlzLmNvbnQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsby5oZWlnaHQpKSwodGhpcy5jdXJyZW50QkJveC53IT09by53aWR0aHx8dGhpcy5jdXJyZW50QkJveC5oIT09by5oZWlnaHR8fHRoaXMuY3VycmVudEJCb3gueCE9PW8ueHx8dGhpcy5jdXJyZW50QkJveC55IT09by55KSYmKHRoaXMuY3VycmVudEJCb3gudz1vLndpZHRoLHRoaXMuY3VycmVudEJCb3guaD1vLmhlaWdodCx0aGlzLmN1cnJlbnRCQm94Lng9by54LHRoaXMuY3VycmVudEJCb3gueT1vLnksdGhpcy5jb250LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIix0aGlzLmN1cnJlbnRCQm94LngrXCIgXCIrdGhpcy5jdXJyZW50QkJveC55K1wiIFwiK3RoaXMuY3VycmVudEJCb3gudytcIiBcIit0aGlzLmN1cnJlbnRCQm94LmgpLHRoaXMuY29udC5zdHlsZS50cmFuc2Zvcm09dGhpcy5jb250LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIit0aGlzLmN1cnJlbnRCQm94LngrXCJweCxcIit0aGlzLmN1cnJlbnRCQm94LnkrXCJweClcIil9dGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LEhUZXh0RWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1TVkdUZXh0RWxlbWVudC5wcm90b3R5cGUuZGVzdHJveSxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxISW1hZ2VFbGVtZW50KSxISW1hZ2VFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKSxlPW5ldyBJbWFnZTtpZih0aGlzLmRhdGEuaGFzTWFzayl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtzdHlsZURpdihzKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIik7c3R5bGVEaXYociksci5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuYXNzZXREYXRhLncpLHIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5hc3NldERhdGEuaCkscy5hcHBlbmRDaGlsZChyKSx0aGlzLmltYWdlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJpbWFnZVwiKSx0aGlzLmltYWdlRWxlbS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuYXNzZXREYXRhLncrXCJweFwiKSx0aGlzLmltYWdlRWxlbS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmFzc2V0RGF0YS5oK1wicHhcIiksdGhpcy5pbWFnZUVsZW0uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJocmVmXCIsdCksci5hcHBlbmRDaGlsZCh0aGlzLmltYWdlRWxlbSksdGhpcy5sYXllckVsZW1lbnQ9cyx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD1zLHRoaXMuYmFzZUVsZW1lbnQ9cyx0aGlzLmlubmVyRWxlbT1zLHRoaXMubWFza2VkRWxlbWVudD10aGlzLmltYWdlRWxlbX1lbHNlIHN0eWxlRGl2KGUpLHRoaXMubGF5ZXJFbGVtZW50PWUsdGhpcy5iYXNlRWxlbWVudD1lLHRoaXMuaW5uZXJFbGVtPWUsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9ZTtlLnNyYz10LHRoaXMuZGF0YS5sbiYmdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuY2hlY2tQYXJlbnRpbmcoKX0sSEltYWdlRWxlbWVudC5wcm90b3R5cGUuaGlkZT1IU29saWRFbGVtZW50LnByb3RvdHlwZS5oaWRlLEhJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPUhTb2xpZEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lLEhJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9SFNvbGlkRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveSxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIQ2FtZXJhRWxlbWVudCksSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIHQsZSxzPXRoaXMuY29tcC50aHJlZURFbGVtZW50cy5sZW5ndGg7Zm9yKHQ9MDtzPnQ7dCs9MSllPXRoaXMuY29tcC50aHJlZURFbGVtZW50c1t0XSxlLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS5wZXJzcGVjdGl2ZT1lLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS53ZWJraXRQZXJzcGVjdGl2ZT10aGlzLnBlLnYrXCJweFwiLGUuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1lLmNvbnRhaW5lci5zdHlsZS5tb3pUcmFuc2Zvcm1PcmlnaW49ZS5jb250YWluZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPVwiMHB4IDBweCAwcHhcIixlLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS50cmFuc2Zvcm09ZS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibWF0cml4M2QoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSlcIn0sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7fSxIQ2FtZXJhRWxlbWVudC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe30sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQsZSxzPXRoaXMuZmlyc3RGcmFtZTtpZih0aGlzLmhpZXJhcmNoeSlmb3IoZT10aGlzLmhpZXJhcmNoeS5sZW5ndGgsdD0wO2U+dDt0Kz0xKXM9dGhpcy5oaWVyYXJjaHlbdF0uZmluYWxUcmFuc2Zvcm0ubVByb3AubWRmPyEwOnM7aWYoc3x8dGhpcy5wJiZ0aGlzLnAubWRmfHx0aGlzLnB4JiYodGhpcy5weC5tZGZ8fHRoaXMucHkubWRmfHx0aGlzLnB6Lm1kZil8fHRoaXMucngubWRmfHx0aGlzLnJ5Lm1kZnx8dGhpcy5yei5tZGZ8fHRoaXMub3IubWRmfHx0aGlzLmEmJnRoaXMuYS5tZGYpe2lmKHRoaXMubWF0LnJlc2V0KCksdGhpcy5wP3RoaXMubWF0LnRyYW5zbGF0ZSgtdGhpcy5wLnZbMF0sLXRoaXMucC52WzFdLHRoaXMucC52WzJdKTp0aGlzLm1hdC50cmFuc2xhdGUoLXRoaXMucHgudiwtdGhpcy5weS52LHRoaXMucHoudiksdGhpcy5hKXt2YXIgcj1bdGhpcy5wLnZbMF0tdGhpcy5hLnZbMF0sdGhpcy5wLnZbMV0tdGhpcy5hLnZbMV0sdGhpcy5wLnZbMl0tdGhpcy5hLnZbMl1dLGk9TWF0aC5zcXJ0KE1hdGgucG93KHJbMF0sMikrTWF0aC5wb3coclsxXSwyKStNYXRoLnBvdyhyWzJdLDIpKSxhPVtyWzBdL2ksclsxXS9pLHJbMl0vaV0sbj1NYXRoLnNxcnQoYVsyXSphWzJdK2FbMF0qYVswXSksbz1NYXRoLmF0YW4yKGFbMV0sbiksaD1NYXRoLmF0YW4yKGFbMF0sLWFbMl0pO3RoaXMubWF0LnJvdGF0ZVkoaCkucm90YXRlWCgtbyl9aWYodGhpcy5tYXQucm90YXRlWCgtdGhpcy5yeC52KS5yb3RhdGVZKC10aGlzLnJ5LnYpLnJvdGF0ZVoodGhpcy5yei52KSx0aGlzLm1hdC5yb3RhdGVYKC10aGlzLm9yLnZbMF0pLnJvdGF0ZVkoLXRoaXMub3IudlsxXSkucm90YXRlWih0aGlzLm9yLnZbMl0pLHRoaXMubWF0LnRyYW5zbGF0ZSh0aGlzLmdsb2JhbERhdGEuY29tcFNpemUudy8yLHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLzIsMCksdGhpcy5tYXQudHJhbnNsYXRlKDAsMCx0aGlzLnBlLnYpLHRoaXMuaGllcmFyY2h5KXt2YXIgbDtmb3IoZT10aGlzLmhpZXJhcmNoeS5sZW5ndGgsdD0wO2U+dDt0Kz0xKWw9dGhpcy5oaWVyYXJjaHlbdF0uZmluYWxUcmFuc2Zvcm0ubVByb3AuaXYucHJvcHMsdGhpcy5tYXQudHJhbnNmb3JtKGxbMF0sbFsxXSxsWzJdLGxbM10sbFs0XSxsWzVdLGxbNl0sbFs3XSxsWzhdLGxbOV0sbFsxMF0sbFsxMV0sLWxbMTJdLC1sWzEzXSxsWzE0XSxsWzE1XSl9ZT10aGlzLmNvbXAudGhyZWVERWxlbWVudHMubGVuZ3RoO3ZhciBwO2Zvcih0PTA7ZT50O3QrPTEpcD10aGlzLmNvbXAudGhyZWVERWxlbWVudHNbdF0scC5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPXAuY29udGFpbmVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybT10aGlzLm1hdC50b0NTUygpfXRoaXMuZmlyc3RGcmFtZT0hMX0sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9O3ZhciBFeHByZXNzaW9ucz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dC5yZW5kZXJlci5jb21wSW50ZXJmYWNlPUNvbXBFeHByZXNzaW9uSW50ZXJmYWNlKHQucmVuZGVyZXIpLHQucmVuZGVyZXIuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24odC5yZW5kZXJlcil9dmFyIGU9e307cmV0dXJuIGUuaW5pdEV4cHJlc3Npb25zPXQsZX0oKTtleHByZXNzaW9uc1BsdWdpbj1FeHByZXNzaW9ucyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5wdn1mdW5jdGlvbiBlKHQsZSl7dCo9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlO3ZhciBzLHIsaT0wLGE9dGhpcy5rZXlmcmFtZXMubGVuZ3RoLTEsbj0xLG89ITA7ZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0VGltZTowO2Zvcih2YXIgaD1cIm9iamVjdFwiPT10eXBlb2YgdGhpcy5wdj9bdGhpcy5wdi5sZW5ndGhdOjA7bzspe2lmKHM9dGhpcy5rZXlmcmFtZXNbaV0scj10aGlzLmtleWZyYW1lc1tpKzFdLGk9PWEtMSYmdD49ci50LWUpe3MuaCYmKHM9cik7YnJlYWt9aWYoci50LWU+dClicmVhazthLTE+aT9pKz1uOm89ITF9dmFyIGwscCxtLGYsYyxkPTA7aWYocy50byl7cy5iZXppZXJEYXRhfHxiZXouYnVpbGRCZXppZXJEYXRhKHMpO3ZhciB1PXMuYmV6aWVyRGF0YTtpZih0Pj1yLnQtZXx8dDxzLnQtZSl7dmFyIHk9dD49ci50LWU/dS5wb2ludHMubGVuZ3RoLTE6MDtmb3IocD11LnBvaW50c1t5XS5wb2ludC5sZW5ndGgsbD0wO3A+bDtsKz0xKWhbbF09dS5wb2ludHNbeV0ucG9pbnRbbF19ZWxzZXtzLl9fZm5jdD9jPXMuX19mbmN0OihjPUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKHMuby54LHMuby55LHMuaS54LHMuaS55LHMubikuZ2V0LHMuX19mbmN0PWMpLG09YygodC0ocy50LWUpKS8oci50LWUtKHMudC1lKSkpO3ZhciBnLHY9dS5zZWdtZW50TGVuZ3RoKm0sYj0wO2ZvcihuPTEsbz0hMCxmPXUucG9pbnRzLmxlbmd0aDtvOyl7aWYoYis9dS5wb2ludHNbZF0ucGFydGlhbExlbmd0aCpuLDA9PT12fHwwPT09bXx8ZD09dS5wb2ludHMubGVuZ3RoLTEpe2ZvcihwPXUucG9pbnRzW2RdLnBvaW50Lmxlbmd0aCxsPTA7cD5sO2wrPTEpaFtsXT11LnBvaW50c1tkXS5wb2ludFtsXTticmVha31pZih2Pj1iJiZ2PGIrdS5wb2ludHNbZCsxXS5wYXJ0aWFsTGVuZ3RoKXtmb3IoZz0odi1iKS91LnBvaW50c1tkKzFdLnBhcnRpYWxMZW5ndGgscD11LnBvaW50c1tkXS5wb2ludC5sZW5ndGgsbD0wO3A+bDtsKz0xKWhbbF09dS5wb2ludHNbZF0ucG9pbnRbbF0rKHUucG9pbnRzW2QrMV0ucG9pbnRbbF0tdS5wb2ludHNbZF0ucG9pbnRbbF0pKmc7YnJlYWt9Zi0xPmQmJjE9PW58fGQ+MCYmLTE9PW4/ZCs9bjpvPSExfX19ZWxzZXt2YXIgRSxQLFMseCxDLGs9ITE7Zm9yKGE9cy5zLmxlbmd0aCxpPTA7YT5pO2krPTEpe2lmKDEhPT1zLmgmJihzLm8ueCBpbnN0YW5jZW9mIEFycmF5PyhrPSEwLHMuX19mbmN0fHwocy5fX2ZuY3Q9W10pLHMuX19mbmN0W2ldfHwoRT1zLm8ueFtpXXx8cy5vLnhbMF0sUD1zLm8ueVtpXXx8cy5vLnlbMF0sUz1zLmkueFtpXXx8cy5pLnhbMF0seD1zLmkueVtpXXx8cy5pLnlbMF0pKTooaz0hMSxzLl9fZm5jdHx8KEU9cy5vLngsUD1zLm8ueSxTPXMuaS54LHg9cy5pLnkpKSxrP3MuX19mbmN0W2ldP2M9cy5fX2ZuY3RbaV06KGM9QmV6aWVyRmFjdG9yeS5nZXRCZXppZXJFYXNpbmcoRSxQLFMseCkuZ2V0LHMuX19mbmN0W2ldPWMpOnMuX19mbmN0P2M9cy5fX2ZuY3Q6KGM9QmV6aWVyRmFjdG9yeS5nZXRCZXppZXJFYXNpbmcoRSxQLFMseCkuZ2V0LHMuX19mbmN0PWMpLG09dD49ci50LWU/MTp0PHMudC1lPzA6YygodC0ocy50LWUpKS8oci50LWUtKHMudC1lKSkpKSx0aGlzLnNoJiYxIT09cy5oKXt2YXIgTT1zLnNbaV0sQT1zLmVbaV07LTE4MD5NLUE/TSs9MzYwOk0tQT4xODAmJihNLT0zNjApLEM9TSsoQS1NKSptfWVsc2UgQz0xPT09cy5oP3Muc1tpXTpzLnNbaV0rKHMuZVtpXS1zLnNbaV0pKm07MT09PWE/aD1DOmhbaV09Q319cmV0dXJuIGh9ZnVuY3Rpb24gcyh0KXtpZih2b2lkIDAhPT10aGlzLnZlbClyZXR1cm4gdGhpcy52ZWw7dmFyIGUscz0tLjAxLHI9dGhpcy5nZXRWYWx1ZUF0VGltZSh0LDApLGk9dGhpcy5nZXRWYWx1ZUF0VGltZSh0K3MsMCk7aWYoci5sZW5ndGgpe2U9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnIubGVuZ3RofSk7dmFyIGE7Zm9yKGE9MDthPHIubGVuZ3RoO2ErPTEpZVthXT0oaVthXS1yW2FdKS9zfWVsc2UgZT0oaS1yKS9zO3JldHVybiBlfWZ1bmN0aW9uIHIodCl7dGhpcy5wcm9wZXJ0eUdyb3VwPXR9ZnVuY3Rpb24gaSh0LGUscyl7ZS54JiYocy5rPSEwLHMueD0hMCxzLmdldFZhbHVlJiYocy5nZXRQcmVWYWx1ZT1zLmdldFZhbHVlKSxzLmdldFZhbHVlPUV4cHJlc3Npb25NYW5hZ2VyLmluaXRpYXRlRXhwcmVzc2lvbi5iaW5kKHMpKHQsZSxzKSl9ZnVuY3Rpb24gYSh0KXtjb25zb2xlLmxvZyhcInRpbWU6XCIsdCl9ZnVuY3Rpb24gbih0KXt9dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHRoaXMudGV4dEluZGV4PXQrMSx0aGlzLnRleHRUb3RhbD1lLHRoaXMuZ2V0VmFsdWUoKSx0aGlzLnZ9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7dGhpcy5wdj0xLHRoaXMuY29tcD1uLmNvbXAsdGhpcy5lbGVtPW4sdGhpcy5tdWx0PS4wMSx0aGlzLnR5cGU9XCJ0ZXh0U2VsZWN0b3JcIix0aGlzLnRleHRUb3RhbD1vLnRvdGFsQ2hhcnMsdGhpcy5zZWxlY3RvclZhbHVlPTEwMCx0aGlzLmxhc3RWYWx1ZT1bMSwxLDFdLGkuYmluZCh0aGlzKShuLG8sdGhpcyksdGhpcy5nZXRNdWx0PWEsdGhpcy5nZXRWZWxvY2l0eUF0VGltZT1zLHRoaXMuZ2V0VmFsdWVBdFRpbWU9dGhpcy5rZj9lLmJpbmQodGhpcyk6dC5iaW5kKHRoaXMpLHRoaXMuc2V0R3JvdXBQcm9wZXJ0eT1yfX0oKSxoPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wO1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wPWZ1bmN0aW9uKG8sbCxwLG0sZil7dmFyIGM9aChvLGwscCxtLGYpO2MuZ2V0VmVsb2NpdHlBdFRpbWU9cyxjLmdldFZhbHVlQXRUaW1lPTI9PT1wP2MuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP2EuYmluZChjKTpuLmJpbmQoYyk6Yy5rZj9lLmJpbmQoYyk6dC5iaW5kKGMpLGMuc2V0R3JvdXBQcm9wZXJ0eT1yO3ZhciBkPWMuaztyZXR1cm4gdm9pZCAwIT09bC5peCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsXCJwcm9wZXJ0eUluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBsLml4fX0pLGkobyxsLGMpLCFkJiZjLngmJmYucHVzaChjKSxjfTt2YXIgbD1TaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3A7U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0U2hhcGVQcm9wPWZ1bmN0aW9uKHMsYSxuLG8saCl7dmFyIHA9bChzLGEsbixvLGgpO3Auc2V0R3JvdXBQcm9wZXJ0eT1yLHAuZ2V0VmFsdWVBdFRpbWU9cC5rZj9lOnQ7dmFyIG09cC5rO3JldHVybiB2b2lkIDAhPT1hLml4JiZPYmplY3QuZGVmaW5lUHJvcGVydHkocCxcInByb3BlcnR5SW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuaXh9fSksMz09PW4/aShzLGEucHQscCk6ND09PW4mJmkocyxhLmtzLHApLCFtJiZwLngmJm8ucHVzaChwKSxwfTt2YXIgcD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0VGV4dFNlbGVjdG9yUHJvcDtQcm9wZXJ0eUZhY3RvcnkuZ2V0VGV4dFNlbGVjdG9yUHJvcD1mdW5jdGlvbih0LGUscyl7cmV0dXJuIDE9PT1lLnQ/bmV3IG8odCxlLHMpOnAodCxlLHMpfX0oKTt2YXIgRXhwcmVzc2lvbk1hbmFnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkdXBsaWNhdGVQcm9wZXJ0eVZhbHVlKHQsZSl7aWYoZT1lfHwxLFwibnVtYmVyXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgTnVtYmVyKXJldHVybiB0KmU7aWYodC5pKXJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKTt2YXIgcyxyPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0Lmxlbmd0aH0pLGk9dC5sZW5ndGg7Zm9yKHM9MDtpPnM7cys9MSlyW3NdPXRbc10qZTtyZXR1cm4gcn1mdW5jdGlvbiBzaGFwZXNFcXVhbCh0LGUpe2lmKHQuX2xlbmd0aCE9PWUuX2xlbmd0aHx8dC5jIT09ZS5jKXJldHVybiExO3ZhciBzLHI9dC5fbGVuZ3RoO2ZvcihzPTA7cj5zO3MrPTEpaWYodC52W3NdWzBdIT09ZS52W3NdWzBdfHx0LnZbc11bMV0hPT1lLnZbc11bMV18fHQub1tzXVswXSE9PWUub1tzXVswXXx8dC5vW3NdWzFdIT09ZS5vW3NdWzFdfHx0Lmlbc11bMF0hPT1lLmlbc11bMF18fHQuaVtzXVsxXSE9PWUuaVtzXVsxXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiAkYm1fbmVnKHQpe3ZhciBlPXR5cGVvZiB0O2lmKFwibnVtYmVyXCI9PT1lfHxcImJvb2xlYW5cIj09PWV8fHQgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuLXQ7aWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXt2YXIgcyxyPXQubGVuZ3RoLGk9W107Zm9yKHM9MDtyPnM7cys9MSlpW3NdPS10W3NdO3JldHVybiBpfX1mdW5jdGlvbiBzdW0odCxlKXt2YXIgcz10eXBlb2YgdCxyPXR5cGVvZiBlO2lmKFwic3RyaW5nXCI9PT1zfHxcInN0cmluZ1wiPT09cilyZXR1cm4gdCtlO2lmKChcIm51bWJlclwiPT09c3x8XCJib29sZWFuXCI9PT1zfHxcInN0cmluZ1wiPT09c3x8dCBpbnN0YW5jZW9mIE51bWJlcikmJihcIm51bWJlclwiPT09cnx8XCJib29sZWFuXCI9PT1yfHxcInN0cmluZ1wiPT09cnx8ZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuIHQrZTtpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkmJihcIm51bWJlclwiPT09cnx8XCJib29sZWFuXCI9PT1yfHxcInN0cmluZ1wiPT09cnx8ZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuIHRbMF09dFswXStlLHQ7aWYoKFwibnVtYmVyXCI9PT1zfHxcImJvb2xlYW5cIj09PXN8fFwic3RyaW5nXCI9PT1zfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmZS5jb25zdHJ1Y3Rvcj09PUFycmF5KXJldHVybiBlWzBdPXQrZVswXSxlO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmZS5jb25zdHJ1Y3Rvcj09PUFycmF5KXtmb3IodmFyIGk9MCxhPXQubGVuZ3RoLG49ZS5sZW5ndGgsbz1bXTthPml8fG4+aTspb1tpXT0oXCJudW1iZXJcIj09dHlwZW9mIHRbaV18fHRbaV1pbnN0YW5jZW9mIE51bWJlcikmJihcIm51bWJlclwiPT10eXBlb2YgZVtpXXx8ZVtpXWluc3RhbmNlb2YgTnVtYmVyKT90W2ldK2VbaV06dm9pZCAwPT1lW2ldP3RbaV06dFtpXXx8ZVtpXSxpKz0xO3JldHVybiBvfXJldHVybiAwfWZ1bmN0aW9uIHN1Yih0LGUpe3ZhciBzPXR5cGVvZiB0LHI9dHlwZW9mIGU7aWYoKFwibnVtYmVyXCI9PT1zfHxcImJvb2xlYW5cIj09PXN8fFwic3RyaW5nXCI9PT1zfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm5cInN0cmluZ1wiPT09cyYmKHQ9cGFyc2VJbnQodCkpLFwic3RyaW5nXCI9PT1yJiYoZT1wYXJzZUludChlKSksdC1lO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm4gdFswXT10WzBdLWUsdDtpZigoXCJudW1iZXJcIj09PXN8fFwiYm9vbGVhblwiPT09c3x8XCJzdHJpbmdcIj09PXN8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpcmV0dXJuIGVbMF09dC1lWzBdLGU7aWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5JiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpe2Zvcih2YXIgaT0wLGE9dC5sZW5ndGgsbj1lLmxlbmd0aCxvPVtdO2E+aXx8bj5pOylvW2ldPVwibnVtYmVyXCI9PXR5cGVvZiB0W2ldfHx0W2ldaW5zdGFuY2VvZiBOdW1iZXI/dFtpXS1lW2ldOnZvaWQgMD09ZVtpXT90W2ldOnRbaV18fGVbaV0saSs9MTtyZXR1cm4gb31yZXR1cm4gMH1mdW5jdGlvbiBtdWwodCxlKXt2YXIgcyxyPXR5cGVvZiB0LGk9dHlwZW9mIGU7aWYoKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmKFwibnVtYmVyXCI9PT1pfHxcImJvb2xlYW5cIj09PWl8fFwic3RyaW5nXCI9PT1pfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm4gdCplO3ZhciBhLG47aWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoXCJudW1iZXJcIj09PWl8fFwiYm9vbGVhblwiPT09aXx8XCJzdHJpbmdcIj09PWl8fGUgaW5zdGFuY2VvZiBOdW1iZXIpKXtmb3Iobj10Lmxlbmd0aCxzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpufSksYT0wO24+YTthKz0xKXNbYV09dFthXSplO3JldHVybiBzfWlmKChcIm51bWJlclwiPT09cnx8XCJib29sZWFuXCI9PT1yfHxcInN0cmluZ1wiPT09cnx8dCBpbnN0YW5jZW9mIE51bWJlcikmJmUuY29uc3RydWN0b3I9PT1BcnJheSl7Zm9yKG49ZS5sZW5ndGgscz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6bn0pLGE9MDtuPmE7YSs9MSlzW2FdPXQqZVthXTtyZXR1cm4gc31yZXR1cm4gMH1mdW5jdGlvbiBkaXYodCxlKXt2YXIgcyxyPXR5cGVvZiB0LGk9dHlwZW9mIGU7aWYoKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmKFwibnVtYmVyXCI9PT1pfHxcImJvb2xlYW5cIj09PWl8fFwic3RyaW5nXCI9PT1pfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm4gdC9lO3ZhciBhLG47aWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoXCJudW1iZXJcIj09PWl8fFwiYm9vbGVhblwiPT09aXx8XCJzdHJpbmdcIj09PWl8fGUgaW5zdGFuY2VvZiBOdW1iZXIpKXtmb3Iobj10Lmxlbmd0aCxzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpufSksYT0wO24+YTthKz0xKXNbYV09dFthXS9lO3JldHVybiBzfWlmKChcIm51bWJlclwiPT09cnx8XCJib29sZWFuXCI9PT1yfHxcInN0cmluZ1wiPT09cnx8dCBpbnN0YW5jZW9mIE51bWJlcikmJmUuY29uc3RydWN0b3I9PT1BcnJheSl7Zm9yKG49ZS5sZW5ndGgscz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6bn0pLGE9MDtuPmE7YSs9MSlzW2FdPXQvZVthXTtyZXR1cm4gc31yZXR1cm4gMH1mdW5jdGlvbiBtb2QodCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9cGFyc2VJbnQodCkpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlKSksdCVlfWZ1bmN0aW9uIGNsYW1wKHQsZSxzKXtpZihlPnMpe3ZhciByPXM7cz1lLGU9cn1yZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodCxlKSxzKX1mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHQpe3JldHVybiB0L2RlZ1RvUmFkc31mdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKHQpe3JldHVybiB0KmRlZ1RvUmFkc31mdW5jdGlvbiBsZW5ndGgodCxlKXtpZihcIm51bWJlclwiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIE51bWJlcilyZXR1cm4gZT1lfHwwLE1hdGguYWJzKHQtZSk7ZXx8KGU9aGVscGVyTGVuZ3RoQXJyYXkpO3ZhciBzLHI9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpLGk9MDtmb3Iocz0wO3I+cztzKz0xKWkrPU1hdGgucG93KGVbc10tdFtzXSwyKTtyZXR1cm4gTWF0aC5zcXJ0KGkpfWZ1bmN0aW9uIG5vcm1hbGl6ZSh0KXtyZXR1cm4gZGl2KHQsbGVuZ3RoKHQpKX1mdW5jdGlvbiByZ2JUb0hzbCh0KXt2YXIgZSxzLHI9dFswXSxpPXRbMV0sYT10WzJdLG49TWF0aC5tYXgocixpLGEpLG89TWF0aC5taW4ocixpLGEpLGg9KG4rbykvMjtpZihuPT1vKWU9cz0wO2Vsc2V7dmFyIGw9bi1vO3N3aXRjaChzPWg+LjU/bC8oMi1uLW8pOmwvKG4rbyksbil7Y2FzZSByOmU9KGktYSkvbCsoYT5pPzY6MCk7YnJlYWs7Y2FzZSBpOmU9KGEtcikvbCsyO2JyZWFrO2Nhc2UgYTplPShyLWkpL2wrNH1lLz02fXJldHVybltlLHMsaCx0WzNdXX1mdW5jdGlvbiBoc2xUb1JnYih0KXtmdW5jdGlvbiBlKHQsZSxzKXtyZXR1cm4gMD5zJiYocys9MSkscz4xJiYocy09MSksMS82PnM/dCs2KihlLXQpKnM6LjU+cz9lOjIvMz5zP3QrKGUtdCkqKDIvMy1zKSo2OnR9dmFyIHMscixpLGE9dFswXSxuPXRbMV0sbz10WzJdO2lmKDA9PW4pcz1yPWk9bztlbHNle3ZhciBoPS41Pm8/byooMStuKTpvK24tbypuLGw9MipvLWg7cz1lKGwsaCxhKzEvMykscj1lKGwsaCxhKSxpPWUobCxoLGEtMS8zKX1yZXR1cm5bcyxyLGksdFszXV19ZnVuY3Rpb24gbGluZWFyKHQsZSxzLHIsaSl7aWYodm9pZCAwPT09cnx8dm9pZCAwPT09aSlyZXR1cm4gbGluZWFyKHQsMCwxLGUscyk7aWYoZT49dClyZXR1cm4gcjtpZih0Pj1zKXJldHVybiBpO3ZhciBhPXM9PT1lPzA6KHQtZSkvKHMtZSk7aWYoIXIubGVuZ3RoKXJldHVybiByKyhpLXIpKmE7dmFyIG4sbz1yLmxlbmd0aCxoPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpvfSk7Zm9yKG49MDtvPm47bis9MSloW25dPXJbbl0rKGlbbl0tcltuXSkqYTtyZXR1cm4gaH1mdW5jdGlvbiByYW5kb20odCxlKXtpZih2b2lkIDA9PT1lJiYodm9pZCAwPT09dD8odD0wLGU9MSk6KGU9dCx0PXZvaWQgMCkpLGUubGVuZ3RoKXt2YXIgcyxyPWUubGVuZ3RoO3R8fCh0PUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpyfSkpO3ZhciBpPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpyfSksYT1CTU1hdGgucmFuZG9tKCk7Zm9yKHM9MDtyPnM7cys9MSlpW3NdPXRbc10rYSooZVtzXS10W3NdKTtyZXR1cm4gaX12b2lkIDA9PT10JiYodD0wKTt2YXIgbj1CTU1hdGgucmFuZG9tKCk7cmV0dXJuIHQrbiooZS10KX1mdW5jdGlvbiBpbml0aWF0ZUV4cHJlc3Npb24oZWxlbSxkYXRhLHByb3BlcnR5KXtmdW5jdGlvbiBsb29rQXQodCxlKXt2YXIgcz1bZVswXS10WzBdLGVbMV0tdFsxXSxlWzJdLXRbMl1dLHI9TWF0aC5hdGFuMihzWzBdLE1hdGguc3FydChzWzFdKnNbMV0rc1syXSpzWzJdKSkvZGVnVG9SYWRzLGk9LU1hdGguYXRhbjIoc1sxXSxzWzJdKS9kZWdUb1JhZHM7cmV0dXJuW2ksciwwXX1mdW5jdGlvbiBlYXNlT3V0KHQsZSxzKXtyZXR1cm4tKHMtZSkqdCoodC0yKStlfWZ1bmN0aW9uIG5lYXJlc3RLZXkodCl7dmFyIGUscyxyLGk9ZGF0YS5rLmxlbmd0aDtpZihkYXRhLmsubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgZGF0YS5rWzBdKWlmKHM9LTEsdCo9ZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLHQ8ZGF0YS5rWzBdLnQpcz0xLHI9ZGF0YS5rWzBdLnQ7ZWxzZXtmb3IoZT0wO2ktMT5lO2UrPTEpe2lmKHQ9PT1kYXRhLmtbZV0udCl7cz1lKzEscj1kYXRhLmtbZV0udDticmVha31pZih0PmRhdGEua1tlXS50JiZ0PGRhdGEua1tlKzFdLnQpe3QtZGF0YS5rW2VdLnQ+ZGF0YS5rW2UrMV0udC10PyhzPWUrMixyPWRhdGEua1tlKzFdLnQpOihzPWUrMSxyPWRhdGEua1tlXS50KTticmVha319LTE9PT1zJiYocz1lKzEscj1kYXRhLmtbZV0udCl9ZWxzZSBzPTAscj0wO3ZhciBhPXt9O3JldHVybiBhLmluZGV4PXMsYS50aW1lPXIvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLGF9ZnVuY3Rpb24ga2V5KHQpe3ZhciBlLHMscjtpZighZGF0YS5rLmxlbmd0aHx8XCJudW1iZXJcIj09dHlwZW9mIGRhdGEua1swXSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcHJvcGVydHkgaGFzIG5vIGtleWZyYW1lIGF0IGluZGV4IFwiK3QpO3QtPTEsZT17dGltZTpkYXRhLmtbdF0udC9lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGV9O3ZhciBpO2ZvcihpPXQhPT1kYXRhLmsubGVuZ3RoLTF8fGRhdGEua1t0XS5oP2RhdGEua1t0XS5zOmRhdGEua1t0LTFdLmUscj1pLmxlbmd0aCxzPTA7cj5zO3MrPTEpZVtzXT1pW3NdO3JldHVybiBlfWZ1bmN0aW9uIGZyYW1lc1RvVGltZSh0LGUpe3JldHVybiBlfHwoZT1lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUpLHQvZX1mdW5jdGlvbiB0aW1lVG9GcmFtZXModCxlKXtyZXR1cm4gdHx8MD09PXR8fCh0PXRpbWUpLGV8fChlPWVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSksdCplfWZ1bmN0aW9uIHNlZWRSYW5kb20odCl7Qk1NYXRoLnNlZWRyYW5kb20ocmFuZFNlZWQrdCl9ZnVuY3Rpb24gZXhlY3V0ZSgpe2lmKF9uZWVkc1JhbmRvbSYmc2VlZFJhbmRvbShyYW5kU2VlZCksdGhpcy5mcmFtZUV4cHJlc3Npb25JZCE9PWVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkfHxcInRleHRTZWxlY3RvclwiPT09dGhpcy50eXBlKXtpZih0aGlzLmxvY2spcmV0dXJuIHRoaXMudj1kdXBsaWNhdGVQcm9wZXJ0eVZhbHVlKHRoaXMucHYsdGhpcy5tdWx0KSwhMDtcInRleHRTZWxlY3RvclwiPT09dGhpcy50eXBlJiYodGV4dEluZGV4PXRoaXMudGV4dEluZGV4LHRleHRUb3RhbD10aGlzLnRleHRUb3RhbCxzZWxlY3RvclZhbHVlPXRoaXMuc2VsZWN0b3JWYWx1ZSksdGhpc0xheWVyfHwodGhpc0xheWVyPWVsZW0ubGF5ZXJJbnRlcmZhY2UsdGhpc0NvbXA9ZWxlbS5jb21wLmNvbXBJbnRlcmZhY2UsdG9Xb3JsZD10aGlzTGF5ZXIudG9Xb3JsZC5iaW5kKHRoaXNMYXllciksZnJvbVdvcmxkPXRoaXNMYXllci5mcm9tV29ybGQuYmluZCh0aGlzTGF5ZXIpKSx0cmFuc2Zvcm18fCh0cmFuc2Zvcm09ZWxlbS5sYXllckludGVyZmFjZShcIkFEQkUgVHJhbnNmb3JtIEdyb3VwXCIpLGFuY2hvclBvaW50PXRyYW5zZm9ybS5hbmNob3JQb2ludCksNCE9PWVsZW1UeXBlfHxjb250ZW50fHwoY29udGVudD10aGlzTGF5ZXIoXCJBREJFIFJvb3QgVmVjdG9ycyBHcm91cFwiKSksZWZmZWN0fHwoZWZmZWN0PXRoaXNMYXllcig0KSksaGFzUGFyZW50PSEoIWVsZW0uaGllcmFyY2h5fHwhZWxlbS5oaWVyYXJjaHkubGVuZ3RoKSxoYXNQYXJlbnQmJiFwYXJlbnQmJihwYXJlbnQ9ZWxlbS5oaWVyYXJjaHlbMF0ubGF5ZXJJbnRlcmZhY2UpLHRoaXMubG9jaz0hMCx0aGlzLmdldFByZVZhbHVlJiZ0aGlzLmdldFByZVZhbHVlKCksdmFsdWU9dGhpcy5wdix0aW1lPXRoaXMuY29tcC5yZW5kZXJlZEZyYW1lL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxuZWVkc1ZlbG9jaXR5JiYodmVsb2NpdHk9dmVsb2NpdHlBdFRpbWUodGltZSkpLGJpbmRlZEZuKCksdGhpcy5mcmFtZUV4cHJlc3Npb25JZD1lbGVtLmdsb2JhbERhdGEuZnJhbWVJZDt2YXIgdCxlO2lmKHRoaXMubXVsdClpZihcIm51bWJlclwiPT10eXBlb2YgdGhpcy52fHx0aGlzLnYgaW5zdGFuY2VvZiBOdW1iZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnYpdGhpcy52Kj10aGlzLm11bHQ7ZWxzZSBpZigxPT09dGhpcy52Lmxlbmd0aCl0aGlzLnY9dGhpcy52WzBdKnRoaXMubXVsdDtlbHNlIGZvcihlPXRoaXMudi5sZW5ndGgsdmFsdWU9PT10aGlzLnYmJih0aGlzLnY9Mj09PWU/W3ZhbHVlWzBdLHZhbHVlWzFdXTpbdmFsdWVbMF0sdmFsdWVbMV0sdmFsdWVbMl1dKSx0PTA7ZT50O3QrPTEpdGhpcy52W3RdKj10aGlzLm11bHQ7aWYoMT09PXRoaXMudi5sZW5ndGgmJih0aGlzLnY9dGhpcy52WzBdKSxcIm51bWJlclwiPT10eXBlb2YgdGhpcy52fHx0aGlzLnYgaW5zdGFuY2VvZiBOdW1iZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnYpdGhpcy5sYXN0VmFsdWUhPT10aGlzLnYmJih0aGlzLmxhc3RWYWx1ZT10aGlzLnYsdGhpcy5tZGY9ITApO2Vsc2UgaWYodGhpcy52Ll9sZW5ndGgpc2hhcGVzRXF1YWwodGhpcy52LHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uc2hhcGVzWzBdKXx8KHRoaXMubWRmPSEwLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24ucmVsZWFzZVNoYXBlcygpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUoc2hhcGVfcG9vbC5jbG9uZSh0aGlzLnYpKSk7ZWxzZSBmb3IoZT10aGlzLnYubGVuZ3RoLHQ9MDtlPnQ7dCs9MSl0aGlzLnZbdF0hPT10aGlzLmxhc3RWYWx1ZVt0XSYmKHRoaXMubGFzdFZhbHVlW3RdPXRoaXMudlt0XSx0aGlzLm1kZj0hMCk7dGhpcy5sb2NrPSExfX12YXIgdmFsPWRhdGEueCxuZWVkc1ZlbG9jaXR5PS92ZWxvY2l0eSg/IVtcXHdcXGRdKS8udGVzdCh2YWwpLF9uZWVkc1JhbmRvbT0tMSE9PXZhbC5pbmRleE9mKFwicmFuZG9tXCIpLGVsZW1UeXBlPWVsZW0uZGF0YS50eSx0cmFuc2Zvcm0sY29udGVudCxlZmZlY3QsdGhpc0NvbXA9ZWxlbS5jb21wLHRoaXNQcm9wZXJ0eT1wcm9wZXJ0eTtcblxuZWxlbS5jb21wLmZyYW1lRHVyYXRpb249MS9lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGU7dmFyIGluUG9pbnQ9ZWxlbS5kYXRhLmlwL2VsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxvdXRQb2ludD1lbGVtLmRhdGEub3AvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLHdpZHRoPWVsZW0uZGF0YS5zdz9lbGVtLmRhdGEuc3c6MCxoZWlnaHQ9ZWxlbS5kYXRhLnNoP2VsZW0uZGF0YS5zaDowLHRvV29ybGQsZnJvbVdvcmxkLGFuY2hvclBvaW50LHRoaXNMYXllcix0aGlzQ29tcCxmbj1uZXcgRnVuY3Rpb24sZm49ZXZhbChcIltmdW5jdGlvbigpe1wiK3ZhbCtcIjt0aGlzLnYgPSAkYm1fcnQ7fV1cIilbMF0sYmluZGVkRm49Zm4uYmluZCh0aGlzKSxudW1LZXlzPXByb3BlcnR5LmtmP2RhdGEuay5sZW5ndGg6MCx3aWdnbGU9ZnVuY3Rpb24odCxlKXt2YXIgcyxyLGk9dGhpcy5wdi5sZW5ndGg/dGhpcy5wdi5sZW5ndGg6MSxhPUFycmF5LmFwcGx5KG51bGwse2xlbjppfSk7Zm9yKHI9MDtpPnI7cis9MSlhW3JdPTA7dD01O3ZhciBuPU1hdGguZmxvb3IodGltZSp0KTtmb3Iocz0wLHI9MDtuPnM7KXtmb3Iocj0wO2k+cjtyKz0xKWFbcl0rPS1lKzIqZSpCTU1hdGgucmFuZG9tKCk7cys9MX12YXIgbz10aW1lKnQsaD1vLU1hdGguZmxvb3IobyksbD1BcnJheS5hcHBseSh7bGVuZ3RoOml9KTtpZihpPjEpe2ZvcihyPTA7aT5yO3IrPTEpbFtyXT10aGlzLnB2W3JdK2Fbcl0rKC1lKzIqZSpCTU1hdGgucmFuZG9tKCkpKmg7cmV0dXJuIGx9cmV0dXJuIHRoaXMucHYrYVswXSsoLWUrMiplKkJNTWF0aC5yYW5kb20oKSkqaH0uYmluZCh0aGlzKSxsb29wSW49ZnVuY3Rpb24odCxlLHMpe2lmKCF0aGlzLmspcmV0dXJuIHRoaXMucHY7dmFyIHI9dGltZSplbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsaT10aGlzLmtleWZyYW1lcyxhPWlbMF0udDtpZihyPj1hKXJldHVybiB0aGlzLnB2O3ZhciBuLG87cz8obj1lP01hdGguYWJzKGVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSplKTpNYXRoLm1heCgwLHRoaXMuZWxlbS5kYXRhLm9wLWEpLG89YStuKTooKCFlfHxlPmkubGVuZ3RoLTEpJiYoZT1pLmxlbmd0aC0xKSxvPWlbZV0udCxuPW8tYSk7dmFyIGgsbCxwO2lmKFwicGluZ3BvbmdcIj09PXQpe3ZhciBtPU1hdGguZmxvb3IoKGEtcikvbik7aWYobSUyPT09MClyZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgoKGEtciklbithKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCl9ZWxzZXtpZihcIm9mZnNldFwiPT09dCl7dmFyIGY9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxjPXRoaXMuZ2V0VmFsdWVBdFRpbWUoby90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCksZD10aGlzLmdldFZhbHVlQXRUaW1lKChuLShhLXIpJW4rYSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHU9TWF0aC5mbG9vcigoYS1yKS9uKSsxO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IocD1uZXcgQXJyYXkoZi5sZW5ndGgpLGw9cC5sZW5ndGgsaD0wO2w+aDtoKz0xKXBbaF09ZFtoXS0oY1toXS1mW2hdKSp1O3JldHVybiBwfXJldHVybiBkLShjLWYpKnV9aWYoXCJjb250aW51ZVwiPT09dCl7dmFyIHk9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxnPXRoaXMuZ2V0VmFsdWVBdFRpbWUoKGErLjAwMSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IocD1uZXcgQXJyYXkoeS5sZW5ndGgpLGw9cC5sZW5ndGgsaD0wO2w+aDtoKz0xKXBbaF09eVtoXSsoeVtoXS1nW2hdKSooYS1yKS8uMDAxO3JldHVybiBwfXJldHVybiB5Kyh5LWcpKihhLXIpLy4wMDF9fXJldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKChuLShhLXIpJW4rYSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApfS5iaW5kKHRoaXMpLGxvb3BJbkR1cmF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxvb3BJbih0LGUsITApfS5iaW5kKHRoaXMpLGxvb3BPdXQ9ZnVuY3Rpb24odCxlLHMpe2lmKCF0aGlzLmt8fCF0aGlzLmtleWZyYW1lcylyZXR1cm4gdGhpcy5wdjt2YXIgcj10aW1lKmVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxpPXRoaXMua2V5ZnJhbWVzLGE9aVtpLmxlbmd0aC0xXS50O2lmKGE+PXIpcmV0dXJuIHRoaXMucHY7dmFyIG4sbztzPyhuPWU/TWF0aC5hYnMoYS1lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUqZSk6TWF0aC5tYXgoMCxhLXRoaXMuZWxlbS5kYXRhLmlwKSxvPWEtbik6KCghZXx8ZT5pLmxlbmd0aC0xKSYmKGU9aS5sZW5ndGgtMSksbz1pW2kubGVuZ3RoLTEtZV0udCxuPWEtbyk7dmFyIGgsbCxwO2lmKFwicGluZ3BvbmdcIj09PXQpe3ZhciBtPU1hdGguZmxvb3IoKHItbykvbik7aWYobSUyIT09MClyZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgobi0oci1vKSVuK28pL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKX1lbHNle2lmKFwib2Zmc2V0XCI9PT10KXt2YXIgZj10aGlzLmdldFZhbHVlQXRUaW1lKG8vdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLGM9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxkPXRoaXMuZ2V0VmFsdWVBdFRpbWUoKChyLW8pJW4rbykvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHU9TWF0aC5mbG9vcigoci1vKS9uKTtpZih0aGlzLnB2Lmxlbmd0aCl7Zm9yKHA9bmV3IEFycmF5KGYubGVuZ3RoKSxsPXAubGVuZ3RoLGg9MDtsPmg7aCs9MSlwW2hdPShjW2hdLWZbaF0pKnUrZFtoXTtyZXR1cm4gcH1yZXR1cm4oYy1mKSp1K2R9aWYoXCJjb250aW51ZVwiPT09dCl7dmFyIHk9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxnPXRoaXMuZ2V0VmFsdWVBdFRpbWUoKGEtLjAwMSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IocD1uZXcgQXJyYXkoeS5sZW5ndGgpLGw9cC5sZW5ndGgsaD0wO2w+aDtoKz0xKXBbaF09eVtoXSsoeVtoXS1nW2hdKSooKHItYSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlKS81ZS00O3JldHVybiBwfXJldHVybiB5Kyh5LWcpKigoci1hKS8uMDAxKX19cmV0dXJuIHRoaXMuZ2V0VmFsdWVBdFRpbWUoKChyLW8pJW4rbykvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApfS5iaW5kKHRoaXMpLGxvb3Bfb3V0PWxvb3BPdXQsbG9vcE91dER1cmF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxvb3BPdXQodCxlLCEwKX0uYmluZCh0aGlzKSx2YWx1ZUF0VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSh0LDApfS5iaW5kKHRoaXMpLHZlbG9jaXR5QXRUaW1lO3RoaXMuZ2V0VmVsb2NpdHlBdFRpbWUmJih2ZWxvY2l0eUF0VGltZT10aGlzLmdldFZlbG9jaXR5QXRUaW1lLmJpbmQodGhpcykpO3ZhciBjb21wPWVsZW0uY29tcC5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuYmluZChlbGVtLmNvbXAuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlKSx0aW1lLHZlbG9jaXR5LHZhbHVlLHRleHRJbmRleCx0ZXh0VG90YWwsc2VsZWN0b3JWYWx1ZSxpbmRleD1lbGVtLmRhdGEuaW5kLGhhc1BhcmVudD0hKCFlbGVtLmhpZXJhcmNoeXx8IWVsZW0uaGllcmFyY2h5Lmxlbmd0aCkscGFyZW50LHJhbmRTZWVkPU1hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBleGVjdXRlfXZhciBvYj17fSxNYXRoPUJNTWF0aCx3aW5kb3c9bnVsbCxkb2N1bWVudD1udWxsLGFkZD1zdW0scmFkaWFuc190b19kZWdyZWVzPXJhZGlhbnNUb0RlZ3JlZXMsZGVncmVlc190b19yYWRpYW5zPXJhZGlhbnNUb0RlZ3JlZXMsaGVscGVyTGVuZ3RoQXJyYXk9WzAsMCwwLDAsMCwwXTtyZXR1cm4gb2IuaW5pdGlhdGVFeHByZXNzaW9uPWluaXRpYXRlRXhwcmVzc2lvbixvYn0oKSxTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxzKXtyZXR1cm4gZCh0LGUscyl9ZnVuY3Rpb24gZSh0LGUscyl7cmV0dXJuIHkodCxlLHMpfWZ1bmN0aW9uIHModCxlLHMpe3JldHVybiBnKHQsZSxzKX1mdW5jdGlvbiByKHQsZSxzKXtyZXR1cm4gdih0LGUscyl9ZnVuY3Rpb24gaSh0LGUscyl7cmV0dXJuIGIodCxlLHMpfWZ1bmN0aW9uIGEodCxlLHMpe3JldHVybiBFKHQsZSxzKX1mdW5jdGlvbiBuKHQsZSxzKXtyZXR1cm4gUCh0LGUscyl9ZnVuY3Rpb24gbyh0LGUscyl7cmV0dXJuIFModCxlLHMpfWZ1bmN0aW9uIGgodCxlLHMpe3JldHVybiB4KHQsZSxzKX1mdW5jdGlvbiBsKHQsZSxzKXtyZXR1cm4gQyh0LGUscyl9ZnVuY3Rpb24gcCh0LGUscyl7cmV0dXJuIGsodCxlLHMpfWZ1bmN0aW9uIG0odCxlLHMpe3JldHVybiBNKHQsZSxzKX1mdW5jdGlvbiBmKHQsZSxzKXt2YXIgcixpPVtdLGE9dD90Lmxlbmd0aDowO2ZvcihyPTA7YT5yO3IrPTEpXCJnclwiPT10W3JdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlR3JvdXBJbnRlcmZhY2UodFtyXSxlW3JdLHMpKTpcImZsXCI9PXRbcl0udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVGaWxsSW50ZXJmYWNlKHRbcl0sZVtyXSxzKSk6XCJzdFwiPT10W3JdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlU3Ryb2tlSW50ZXJmYWNlKHRbcl0sZVtyXSxzKSk6XCJ0bVwiPT10W3JdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlVHJpbUludGVyZmFjZSh0W3JdLGVbcl0scykpOlwidHJcIj09dFtyXS50eXx8KFwiZWxcIj09dFtyXS50eT9pLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZUVsbGlwc2VJbnRlcmZhY2UodFtyXSxlW3JdLHMpKTpcInNyXCI9PXRbcl0udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVTdGFySW50ZXJmYWNlKHRbcl0sZVtyXSxzKSk6XCJzaFwiPT10W3JdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlUGF0aEludGVyZmFjZSh0W3JdLGVbcl0scykpOlwicmNcIj09dFtyXS50eT9pLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVJlY3RJbnRlcmZhY2UodFtyXSxlW3JdLHMpKTpcInJkXCI9PXRbcl0udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVSb3VuZGVkSW50ZXJmYWNlKHRbcl0sZVtyXSxzKSk6XCJycFwiPT10W3JdLnR5JiZpLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVJlcGF0ZWFySW50ZXJmYWNlKHRbcl0sZVtyXSxzKSkpO3JldHVybiBpfXZhciBjPXtjcmVhdGVTaGFwZUludGVyZmFjZTp0LGNyZWF0ZUdyb3VwSW50ZXJmYWNlOmUsY3JlYXRlVHJpbUludGVyZmFjZTppLGNyZWF0ZVN0cm9rZUludGVyZmFjZTpyLGNyZWF0ZVRyYW5zZm9ybUludGVyZmFjZTphLGNyZWF0ZUVsbGlwc2VJbnRlcmZhY2U6bixjcmVhdGVTdGFySW50ZXJmYWNlOm8sY3JlYXRlUmVjdEludGVyZmFjZTpoLGNyZWF0ZVJvdW5kZWRJbnRlcmZhY2U6bCxjcmVhdGVSZXBhdGVhckludGVyZmFjZTpwLGNyZWF0ZVBhdGhJbnRlcmZhY2U6bSxjcmVhdGVGaWxsSW50ZXJmYWNlOnN9LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe2Z1bmN0aW9uIHIodCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIGlbdC0xXTtmb3IodmFyIGU9MCxzPWkubGVuZ3RoO3M+ZTspe2lmKGlbZV0uX25hbWU9PT10KXJldHVybiBpW2VdO2UrPTF9fXZhciBpO3JldHVybiByLnByb3BlcnR5R3JvdXA9cyxpPWYodCxlLHIpLHJ9fSgpLHU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe3ZhciByLGk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscz1yLmxlbmd0aDtzPmU7KXtpZihyW2VdLl9uYW1lPT09dHx8cltlXS5tbj09PXR8fHJbZV0ucHJvcGVydHlJbmRleD09PXR8fHJbZV0uaXg9PT10fHxyW2VdLmluZD09PXQpcmV0dXJuIHJbZV07ZSs9MX1yZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9yW3QtMV06dm9pZCAwfTtyZXR1cm4gaS5wcm9wZXJ0eUdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD9pOnModC0xKX0scj1mKHQuaXQsZS5pdCxpLnByb3BlcnR5R3JvdXApLGkubnVtUHJvcGVydGllcz1yLmxlbmd0aCxpLnByb3BlcnR5SW5kZXg9dC5jaXgsaX19KCkseT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscyl7dmFyIHI9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcIkFEQkUgVmVjdG9ycyBHcm91cFwiOmNhc2VcIkNvbnRlbnRzXCI6Y2FzZSAyOnJldHVybiByLmNvbnRlbnQ7Y2FzZVwiQURCRSBWZWN0b3IgVHJhbnNmb3JtIEdyb3VwXCI6Y2FzZSAzOmRlZmF1bHQ6cmV0dXJuIHIudHJhbnNmb3JtfX07ci5wcm9wZXJ0eUdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD9yOnModC0xKX07dmFyIGk9dSh0LGUsci5wcm9wZXJ0eUdyb3VwKSxhPVNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVUcmFuc2Zvcm1JbnRlcmZhY2UodC5pdFt0Lml0Lmxlbmd0aC0xXSxlLml0W2UuaXQubGVuZ3RoLTFdLHIucHJvcGVydHlHcm91cCk7cmV0dXJuIHIuY29udGVudD1pLHIudHJhbnNmb3JtPWEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfbmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ubX19KSxyLm51bVByb3BlcnRpZXM9dC5ucCxyLnByb3BlcnR5SW5kZXg9dC5peCxyLm5tPXQubm0sci5tbj10Lm1uLHJ9fSgpLGc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe2Z1bmN0aW9uIHIodCl7cmV0dXJuXCJDb2xvclwiPT09dHx8XCJjb2xvclwiPT09dD9yLmNvbG9yOlwiT3BhY2l0eVwiPT09dHx8XCJvcGFjaXR5XCI9PT10P3Iub3BhY2l0eTp2b2lkIDB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiY29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLmMsMS9lLmMubXVsdCxcImNvbG9yXCIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwib3BhY2l0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUubywxMDApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX25hbWVcIix7dmFsdWU6dC5ubX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwibW5cIix7dmFsdWU6dC5tbn0pLGUuYy5zZXRHcm91cFByb3BlcnR5KHMpLGUuby5zZXRHcm91cFByb3BlcnR5KHMpLHJ9fSgpLHY9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIDE9PT10P2M6cyh0LTEpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIDE9PT10P2w6cih0LTEpfWZ1bmN0aW9uIGEocyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGwsdC5kW3NdLm5tLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUuZC5kYXRhUHJvcHNbc10ucCl9fSl9ZnVuY3Rpb24gbih0KXtyZXR1cm5cIkNvbG9yXCI9PT10fHxcImNvbG9yXCI9PT10P24uY29sb3I6XCJPcGFjaXR5XCI9PT10fHxcIm9wYWNpdHlcIj09PXQ/bi5vcGFjaXR5OlwiU3Ryb2tlIFdpZHRoXCI9PT10fHxcInN0cm9rZSB3aWR0aFwiPT09dD9uLnN0cm9rZVdpZHRoOnZvaWQgMH12YXIgbyxoPXQuZD90LmQubGVuZ3RoOjAsbD17fTtmb3Iobz0wO2g+bztvKz0xKWEobyksZS5kLmRhdGFQcm9wc1tvXS5wLnNldEdyb3VwUHJvcGVydHkoaSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiY29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLmMsMS9lLmMubXVsdCxcImNvbG9yXCIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwib3BhY2l0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUubywxMDApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwic3Ryb2tlV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLncpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGFzaFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9uYW1lXCIse3ZhbHVlOnQubm19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm1uXCIse3ZhbHVlOnQubW59KSxlLmMuc2V0R3JvdXBQcm9wZXJ0eShyKSxlLm8uc2V0R3JvdXBQcm9wZXJ0eShyKSxlLncuc2V0R3JvdXBQcm9wZXJ0eShyKSxufX0oKSxiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtmdW5jdGlvbiByKHQpe3JldHVybiAxPT10P2k6cygtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU9PT10LmUuaXh8fFwiRW5kXCI9PT1lfHxcImVuZFwiPT09ZT9pLmVuZDplPT09dC5zLml4P2kuc3RhcnQ6ZT09PXQuby5peD9pLm9mZnNldDp2b2lkIDB9cmV0dXJuIGkucHJvcGVydHlJbmRleD10Lml4LGUucy5zZXRHcm91cFByb3BlcnR5KHIpLGUuZS5zZXRHcm91cFByb3BlcnR5KHIpLGUuby5zZXRHcm91cFByb3BlcnR5KHIpLGkucHJvcGVydHlJbmRleD10Lml4LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwic3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLnMsMS9lLnMubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJlbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLmUsMS9lLmUubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJvZmZzZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLm8pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5tbj10Lm1uLGl9fSgpLEU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIDE9PXQ/aTpzKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5hLml4PT09ZT9pLmFuY2hvclBvaW50OnQuby5peD09PWU/aS5vcGFjaXR5OnQucC5peD09PWU/aS5wb3NpdGlvbjp0LnIuaXg9PT1lP2kucm90YXRpb246dC5zLml4PT09ZT9pLnNjYWxlOnQuc2smJnQuc2suaXg9PT1lP2kuc2tldzp0LnNhJiZ0LnNhLml4PT09ZT9pLnNrZXdBeGlzOlwiT3BhY2l0eVwiPT09ZT9pLm9wYWNpdHk6XCJQb3NpdGlvblwiPT09ZT9pLnBvc2l0aW9uOlwiQW5jaG9yIFBvaW50XCI9PT1lP2kuYW5jaG9yUG9pbnQ6XCJTY2FsZVwiPT09ZT9pLnNjYWxlOlwiUm90YXRpb25cIj09PWV8fFwiQURCRSBWZWN0b3IgUm90YXRpb25cIj09PWU/aS5yb3RhdGlvbjpcIlNrZXdcIj09PWU/aS5za2V3OlwiU2tldyBBeGlzXCI9PT1lP2kuc2tld0F4aXM6dm9pZCAwfWUudHJhbnNmb3JtLm1Qcm9wcy5vLnNldEdyb3VwUHJvcGVydHkociksZS50cmFuc2Zvcm0ubVByb3BzLnAuc2V0R3JvdXBQcm9wZXJ0eShyKSxlLnRyYW5zZm9ybS5tUHJvcHMuYS5zZXRHcm91cFByb3BlcnR5KHIpLGUudHJhbnNmb3JtLm1Qcm9wcy5zLnNldEdyb3VwUHJvcGVydHkociksZS50cmFuc2Zvcm0ubVByb3BzLnIuc2V0R3JvdXBQcm9wZXJ0eShyKSxlLnRyYW5zZm9ybS5tUHJvcHMuc2smJihlLnRyYW5zZm9ybS5tUHJvcHMuc2suc2V0R3JvdXBQcm9wZXJ0eShyKSxlLnRyYW5zZm9ybS5tUHJvcHMuc2Euc2V0R3JvdXBQcm9wZXJ0eShyKSksZS50cmFuc2Zvcm0ub3Auc2V0R3JvdXBQcm9wZXJ0eShyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm9wYWNpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLnRyYW5zZm9ybS5tUHJvcHMubywxL2UudHJhbnNmb3JtLm1Qcm9wcy5vLm11bHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLnRyYW5zZm9ybS5tUHJvcHMucCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJhbmNob3JQb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudHJhbnNmb3JtLm1Qcm9wcy5hKX19KTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzY2FsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudHJhbnNmb3JtLm1Qcm9wcy5zLDEvZS50cmFuc2Zvcm0ubVByb3BzLnMubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJyb3RhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudHJhbnNmb3JtLm1Qcm9wcy5yLDEvZS50cmFuc2Zvcm0ubVByb3BzLnIubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJza2V3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS50cmFuc2Zvcm0ubVByb3BzLnNrKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNrZXdBeGlzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS50cmFuc2Zvcm0ubVByb3BzLnNhKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLGkudHk9XCJ0clwiLGkubW49dC5tbixpfX0oKSxQPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtmdW5jdGlvbiByKHQpe3JldHVybiAxPT10P2k6cygtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQucC5peD09PWU/aS5wb3NpdGlvbjp0LnMuaXg9PT1lP2kuc2l6ZTp2b2lkIDB9aS5wcm9wZXJ0eUluZGV4PXQuaXg7dmFyIGE9XCJ0bVwiPT09ZS5zaC50eT9lLnNoLnByb3A6ZS5zaDtyZXR1cm4gYS5zLnNldEdyb3VwUHJvcGVydHkociksYS5wLnNldEdyb3VwUHJvcGVydHkociksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5zKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInBvc2l0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5wKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLGkubW49dC5tbixpfX0oKSxTPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtmdW5jdGlvbiByKHQpe3JldHVybiAxPT10P2k6cygtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQucC5peD09PWU/aS5wb3NpdGlvbjp0LnIuaXg9PT1lP2kucm90YXRpb246dC5wdC5peD09PWU/aS5wb2ludHM6dC5vci5peD09PWV8fFwiQURCRSBWZWN0b3IgU3RhciBPdXRlciBSYWRpdXNcIj09PWU/aS5vdXRlclJhZGl1czp0Lm9zLml4PT09ZT9pLm91dGVyUm91bmRuZXNzOiF0LmlyfHx0LmlyLml4IT09ZSYmXCJBREJFIFZlY3RvciBTdGFyIElubmVyIFJhZGl1c1wiIT09ZT90LmlzJiZ0LmlzLml4PT09ZT9pLmlubmVyUm91bmRuZXNzOnZvaWQgMDppLmlubmVyUmFkaXVzfXZhciBhPVwidG1cIj09PWUuc2gudHk/ZS5zaC5wcm9wOmUuc2g7cmV0dXJuIGkucHJvcGVydHlJbmRleD10Lml4LGEub3Iuc2V0R3JvdXBQcm9wZXJ0eShyKSxhLm9zLnNldEdyb3VwUHJvcGVydHkociksYS5wdC5zZXRHcm91cFByb3BlcnR5KHIpLGEucC5zZXRHcm91cFByb3BlcnR5KHIpLGEuci5zZXRHcm91cFByb3BlcnR5KHIpLHQuaXImJihhLmlyLnNldEdyb3VwUHJvcGVydHkociksYS5pcy5zZXRHcm91cFByb3BlcnR5KHIpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInBvc2l0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5wKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5yLDEvYS5yLm11bHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicG9pbnRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5wdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJvdXRlclJhZGl1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEub3IpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwib3V0ZXJSb3VuZG5lc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLm9zKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImlubmVyUmFkaXVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhLmlyP0V4cHJlc3Npb25WYWx1ZShhLmlyKTowfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiaW5uZXJSb3VuZG5lc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuaXM/RXhwcmVzc2lvblZhbHVlKGEuaXMsMS9hLmlzLm11bHQpOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfbmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ubX19KSxpLm1uPXQubW4saX19KCkseD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscyl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gMT09dD9pOnMoLS10KX1mdW5jdGlvbiBpKGUpe3JldHVybiB0LnAuaXg9PT1lP2kucG9zaXRpb246dC5yLml4PT09ZT9pLnJvdW5kbmVzczp0LnMuaXg9PT1lfHxcIlNpemVcIj09PWU/aS5zaXplOnZvaWQgMH12YXIgYT1cInRtXCI9PT1lLnNoLnR5P2Uuc2gucHJvcDplLnNoO3JldHVybiBpLnByb3BlcnR5SW5kZXg9dC5peCxhLnAuc2V0R3JvdXBQcm9wZXJ0eShyKSxhLnMuc2V0R3JvdXBQcm9wZXJ0eShyKSxhLnIuc2V0R3JvdXBQcm9wZXJ0eShyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInBvc2l0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5wKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInJvdW5kbmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEucil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5zKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLGkubW49dC5tbixpfX0oKSxDPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtmdW5jdGlvbiByKHQpe3JldHVybiAxPT10P2k6cygtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQuci5peD09PWV8fFwiUm91bmQgQ29ybmVycyAxXCI9PT1lP2kucmFkaXVzOnZvaWQgMH12YXIgYT1lO3JldHVybiBpLnByb3BlcnR5SW5kZXg9dC5peCxhLnJkLnNldEdyb3VwUHJvcGVydHkociksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJyYWRpdXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnJkKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLGkubW49dC5tbixpfX0oKSxrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtmdW5jdGlvbiByKHQpe3JldHVybiAxPT10P2k6cygtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQuYy5peD09PWV8fFwiQ29waWVzXCI9PT1lP2kuY29waWVzOnQuby5peD09PWV8fFwiT2Zmc2V0XCI9PT1lP2kub2Zmc2V0OnZvaWQgMH12YXIgYT1lO3JldHVybiBpLnByb3BlcnR5SW5kZXg9dC5peCxhLmMuc2V0R3JvdXBQcm9wZXJ0eShyKSxhLm8uc2V0R3JvdXBQcm9wZXJ0eShyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImNvcGllc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEuYyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJvZmZzZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLm8pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5tbj10Lm1uLGl9fSgpLE09ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIDE9PXQ/aTpzKC0tdCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cIlNoYXBlXCI9PT10fHxcInNoYXBlXCI9PT10fHxcIlBhdGhcIj09PXR8fFwicGF0aFwiPT09dHx8Mj09PXQ/aS5wYXRoOnZvaWQgMH12YXIgYT1cInRtXCI9PT1lLnNoLnR5P2Uuc2gucHJvcDplLnNoO3JldHVybiBhLnNldEdyb3VwUHJvcGVydHkociksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhLmsmJmEuZ2V0VmFsdWUoKSxhLnZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzaGFwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5rJiZhLmdldFZhbHVlKCksYS52fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7dmFsdWU6dC5ubX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiaXhcIix7dmFsdWU6dC5peH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwibW5cIix7dmFsdWU6dC5tbn0pLGl9fSgpO3JldHVybiBjfSgpLFRleHRFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic291cmNlVGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5jdXJyZW50VGV4dERvY3VtZW50RGF0YS50P3QuY3VycmVudFRleHREb2N1bWVudERhdGEudDpcIlwifX0pLGV9fSgpLExheWVyRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgcz1uZXcgTWF0cml4O3MucmVzZXQoKTt2YXIgcjtpZihyPWU/dGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcDp0aGlzLl9lbGVtLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLHIuYXBwbHlUb01hdHJpeChzKSx0aGlzLl9lbGVtLmhpZXJhcmNoeSYmdGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoKXt2YXIgaSxhPXRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aDtmb3IoaT0wO2E+aTtpKz0xKXRoaXMuX2VsZW0uaGllcmFyY2h5W2ldLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmFwcGx5VG9NYXRyaXgocyk7cmV0dXJuIHMuYXBwbHlUb1BvaW50QXJyYXkodFswXSx0WzFdLHRbMl18fDApfXJldHVybiBzLmFwcGx5VG9Qb2ludEFycmF5KHRbMF0sdFsxXSx0WzJdfHwwKX1mdW5jdGlvbiBlKHQsZSl7dmFyIHM9bmV3IE1hdHJpeDtzLnJlc2V0KCk7dmFyIHI7aWYocj1lP3RoaXMuX2VsZW0uZmluYWxUcmFuc2Zvcm0ubVByb3A6dGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcCxyLmFwcGx5VG9NYXRyaXgocyksdGhpcy5fZWxlbS5oaWVyYXJjaHkmJnRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aCl7dmFyIGksYT10aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGg7Zm9yKGk9MDthPmk7aSs9MSl0aGlzLl9lbGVtLmhpZXJhcmNoeVtpXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5hcHBseVRvTWF0cml4KHMpO3JldHVybiBzLmludmVyc2VQb2ludCh0KX1yZXR1cm4gcy5pbnZlcnNlUG9pbnQodCl9ZnVuY3Rpb24gcyh0KXt2YXIgZT1uZXcgTWF0cml4O2lmKGUucmVzZXQoKSx0aGlzLl9lbGVtLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmFwcGx5VG9NYXRyaXgoZSksdGhpcy5fZWxlbS5oaWVyYXJjaHkmJnRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aCl7dmFyIHMscj10aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGg7Zm9yKHM9MDtyPnM7cys9MSl0aGlzLl9lbGVtLmhpZXJhcmNoeVtzXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5hcHBseVRvTWF0cml4KGUpO3JldHVybiBlLmludmVyc2VQb2ludCh0KX1yZXR1cm4gZS5pbnZlcnNlUG9pbnQodCl9cmV0dXJuIGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIGkodCl7bi5tYXNrPXQuZ2V0TWFzay5iaW5kKHQpfWZ1bmN0aW9uIGEodCl7bi5lZmZlY3Q9dH1mdW5jdGlvbiBuKHQpe3N3aXRjaCh0KXtjYXNlXCJBREJFIFJvb3QgVmVjdG9ycyBHcm91cFwiOmNhc2VcIkNvbnRlbnRzXCI6Y2FzZSAyOnJldHVybiBuLnNoYXBlSW50ZXJmYWNlO2Nhc2UgMTpjYXNlIDY6Y2FzZVwiVHJhbnNmb3JtXCI6Y2FzZVwidHJhbnNmb3JtXCI6Y2FzZVwiQURCRSBUcmFuc2Zvcm0gR3JvdXBcIjpyZXR1cm4gbztjYXNlIDQ6Y2FzZVwiQURCRSBFZmZlY3QgUGFyYWRlXCI6cmV0dXJuIG4uZWZmZWN0fX12YXIgbz1UcmFuc2Zvcm1FeHByZXNzaW9uSW50ZXJmYWNlKHIudHJhbnNmb3JtKTtyZXR1cm4gbi50b1dvcmxkPXQsbi5mcm9tV29ybGQ9ZSxuLnRvQ29tcD10LG4uZnJvbUNvbXA9cyxuLl9lbGVtPXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJoYXNQYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISFyLmhpZXJhcmNoeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5oaWVyYXJjaHlbMF0ubGF5ZXJJbnRlcmZhY2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJyb3RhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5yb3RhdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLnNjYWxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8ucG9zaXRpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJhbmNob3JQb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5hbmNob3JQb2ludH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInRyYW5zZm9ybVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwPT09ci5kYXRhLnR5P3IuZGF0YS53OjEwMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXIuZGF0YS50eT9yLmRhdGEuaDoxMDB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJzb3VyY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGF0YS5yZWZJZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9uYW1lXCIse3ZhbHVlOnIuZGF0YS5ubX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiY29udGVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaGFwZUludGVyZmFjZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5pc1Zpc2libGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJ0ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuLnRleHRJbnRlcmZhY2V9fSksbi5yZWdpc3Rlck1hc2tJbnRlcmZhY2U9aSxuLnJlZ2lzdGVyRWZmZWN0c0ludGVyZmFjZT1hLG59fSgpLENvbXBFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7Zm9yKHZhciBzPTAscj10LmxheWVycy5sZW5ndGg7cj5zOyl7aWYodC5sYXllcnNbc10ubm09PT1lfHx0LmxheWVyc1tzXS5pbmQ9PT1lKXJldHVybiB0LmVsZW1lbnRzW3NdLmxheWVySW50ZXJmYWNlO3MrPTF9cmV0dXJue2FjdGl2ZTohMX19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX25hbWVcIix7dmFsdWU6dC5kYXRhLm5tfSksZS5sYXllcj1lLGUucGl4ZWxBc3BlY3Q9MSxlLmhlaWdodD10Lmdsb2JhbERhdGEuY29tcFNpemUuaCxlLndpZHRoPXQuZ2xvYmFsRGF0YS5jb21wU2l6ZS53LGUucGl4ZWxBc3BlY3Q9MSxlLmZyYW1lRHVyYXRpb249MS90Lmdsb2JhbERhdGEuZnJhbWVSYXRlLGV9fSgpLFRyYW5zZm9ybUV4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShzKXtzd2l0Y2gocyl7Y2FzZVwic2NhbGVcIjpjYXNlXCJTY2FsZVwiOmNhc2VcIkFEQkUgU2NhbGVcIjpjYXNlIDY6cmV0dXJuIGUuc2NhbGU7Y2FzZVwicm90YXRpb25cIjpjYXNlXCJSb3RhdGlvblwiOmNhc2VcIkFEQkUgUm90YXRpb25cIjpjYXNlXCJBREJFIFJvdGF0ZSBaXCI6Y2FzZSAxMDpyZXR1cm4gZS5yb3RhdGlvbjtjYXNlXCJwb3NpdGlvblwiOmNhc2VcIlBvc2l0aW9uXCI6Y2FzZVwiQURCRSBQb3NpdGlvblwiOmNhc2UgMjpyZXR1cm4gdC5wb3NpdGlvbjtjYXNlXCJhbmNob3JQb2ludFwiOmNhc2VcIkFuY2hvclBvaW50XCI6Y2FzZVwiQW5jaG9yIFBvaW50XCI6Y2FzZVwiQURCRSBBbmNob3JQb2ludFwiOmNhc2UgMTpyZXR1cm4gZS5hbmNob3JQb2ludDtjYXNlXCJvcGFjaXR5XCI6Y2FzZVwiT3BhY2l0eVwiOmNhc2UgMTE6cmV0dXJuIGUub3BhY2l0eX19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQucm90YXRpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzY2FsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zY2FsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInBvc2l0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LnBvc2l0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwieFBvc2l0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LnhQb3NpdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInlQb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC55UG9zaXRpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJhbmNob3JQb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5hbmNob3JQb2ludH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIm9wYWNpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQub3BhY2l0eX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInNrZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2tld319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInNrZXdBeGlzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LnNrZXdBeGlzfX0pLGV9fSgpLFByb2plY3RJbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29tcG9zaXRpb25zLnB1c2godCl9cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtmb3IodmFyIGU9MCxzPXRoaXMuY29tcG9zaXRpb25zLmxlbmd0aDtzPmU7KXtpZih0aGlzLmNvbXBvc2l0aW9uc1tlXS5kYXRhJiZ0aGlzLmNvbXBvc2l0aW9uc1tlXS5kYXRhLm5tPT09dClyZXR1cm4gdGhpcy5jb21wb3NpdGlvbnNbZV0ucHJlcGFyZUZyYW1lJiZ0aGlzLmNvbXBvc2l0aW9uc1tlXS5wcmVwYXJlRnJhbWUodGhpcy5jdXJyZW50RnJhbWUpLHRoaXMuY29tcG9zaXRpb25zW2VdLmNvbXBJbnRlcmZhY2U7ZSs9MX19cmV0dXJuIGUuY29tcG9zaXRpb25zPVtdLGUuY3VycmVudEZyYW1lPTAsZS5yZWdpc3RlckNvbXBvc2l0aW9uPXQsZX19KCksRWZmZWN0c0V4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQscyl7aWYodC5lZmZlY3RzKXt2YXIgcixpPVtdLGE9dC5kYXRhLmVmLG49dC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzLmxlbmd0aDtmb3Iocj0wO24+cjtyKz0xKWkucHVzaChlKGFbcl0sdC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzW3JdLHMsdCkpO3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHM9dC5kYXRhLmVmLHI9MCxhPXMubGVuZ3RoO2E+cjspe2lmKGU9PT1zW3JdLm5tfHxlPT09c1tyXS5tbnx8ZT09PXNbcl0uaXgpcmV0dXJuIGlbcl07cis9MX19fX1mdW5jdGlvbiBlKHQscixpLGEpe3ZhciBuLG89W10saD10LmVmLmxlbmd0aDtmb3Iobj0wO2g+bjtuKz0xKW8ucHVzaCg1PT09dC5lZltuXS50eT9lKHQuZWZbbl0sci5lZmZlY3RFbGVtZW50c1tuXSxpLGEpOnMoci5lZmZlY3RFbGVtZW50c1tuXSx0LmVmW25dLnR5LGEpKTt2YXIgbD1mdW5jdGlvbihlKXtmb3IodmFyIHM9dC5lZixyPTAsaT1zLmxlbmd0aDtpPnI7KXtpZihlPT09c1tyXS5ubXx8ZT09PXNbcl0ubW58fGU9PT1zW3JdLml4KXJldHVybiA1PT09c1tyXS50eT9vW3JdOm9bcl0oKTtyKz0xfXJldHVybiBvWzBdKCl9O3JldHVyblwiQURCRSBDb2xvciBDb250cm9sXCI9PT10Lm1uJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobCxcImNvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvWzBdKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsXCJudW1Qcm9wZXJ0aWVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5wfX0pLGwuYWN0aXZlPTAhPT10LmVuLGx9ZnVuY3Rpb24gcyh0LGUscyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIDEwPT09ZT9zLmNvbXAuY29tcEludGVyZmFjZSh0LnAudik6RXhwcmVzc2lvblZhbHVlKHQucCl9fXZhciByPXtjcmVhdGVFZmZlY3RzSW50ZXJmYWNlOnR9O3JldHVybiByfSgpLEV4cHJlc3Npb25WYWx1ZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscyl7dmFyIHI7dC5rJiZ0LmdldFZhbHVlKCk7dmFyIGksYSxuO2lmKHMpe2lmKFwiY29sb3JcIj09PXMpe2ZvcihhPTQscj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6YX0pLG49QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOmF9KSxpPTA7YT5pO2krPTEpcltpXT1uW2ldPWUmJjM+aT90LnZbaV0qZToxO3IudmFsdWU9bn19ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdC52fHx0LnYgaW5zdGFuY2VvZiBOdW1iZXIpcj1uZXcgTnVtYmVyKGU/dC52KmU6dC52KSxyLnZhbHVlPWU/dC52KmU6dC52O2Vsc2V7Zm9yKGE9dC52Lmxlbmd0aCxyPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDphfSksbj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6YX0pLGk9MDthPmk7aSs9MSlyW2ldPW5baV09ZT90LnZbaV0qZTp0LnZbaV07ci52YWx1ZT1ufXJldHVybiByLm51bUtleXM9dC5rZXlmcmFtZXM/dC5rZXlmcmFtZXMubGVuZ3RoOjAsci5rZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHIubnVtS2V5cz90LmtleWZyYW1lc1tlLTFdLnQ6MH0sci52YWx1ZUF0VGltZT10LmdldFZhbHVlQXRUaW1lLHIucHJvcGVydHlHcm91cD10LnByb3BlcnR5R3JvdXAscn19KCk7R3JvdXBFZmZlY3QucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5tZGY9ITE7dmFyIHQsZT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKSx0aGlzLm1kZj10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLm1kZj8hMDp0aGlzLm1kZn0sR3JvdXBFZmZlY3QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLHMpe3RoaXMuZGF0YT10LHRoaXMubWRmPSExLHRoaXMuZWZmZWN0RWxlbWVudHM9W107dmFyIHIsaSxhPXRoaXMuZGF0YS5lZi5sZW5ndGgsbj10aGlzLmRhdGEuZWY7Zm9yKHI9MDthPnI7cis9MSlzd2l0Y2gobltyXS50eSl7Y2FzZSAwOmk9bmV3IFNsaWRlckVmZmVjdChuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgMTppPW5ldyBBbmdsZUVmZmVjdChuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgMjppPW5ldyBDb2xvckVmZmVjdChuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgMzppPW5ldyBQb2ludEVmZmVjdChuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgNDpjYXNlIDc6aT1uZXcgQ2hlY2tib3hFZmZlY3QobltyXSxlLHMpLHRoaXMuZWZmZWN0RWxlbWVudHMucHVzaChpKTticmVhaztjYXNlIDEwOmk9bmV3IExheWVySW5kZXhFZmZlY3QobltyXSxlLHMpLHRoaXMuZWZmZWN0RWxlbWVudHMucHVzaChpKTticmVhaztjYXNlIDExOmk9bmV3IE1hc2tJbmRleEVmZmVjdChuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgNTppPW5ldyBFZmZlY3RzTWFuYWdlcihuW3JdLGUscyksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgNjppPW5ldyBOb1ZhbHVlRWZmZWN0KG5bcl0sZSxzKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSl9fTt2YXIgYm9keW1vdmluanM9e307Ym9keW1vdmluanMucGxheT1wbGF5LGJvZHltb3ZpbmpzLnBhdXNlPXBhdXNlLGJvZHltb3ZpbmpzLnRvZ2dsZVBhdXNlPXRvZ2dsZVBhdXNlLGJvZHltb3ZpbmpzLnNldFNwZWVkPXNldFNwZWVkLGJvZHltb3ZpbmpzLnNldERpcmVjdGlvbj1zZXREaXJlY3Rpb24sYm9keW1vdmluanMuc3RvcD1zdG9wLGJvZHltb3ZpbmpzLm1vdmVGcmFtZT1tb3ZlRnJhbWUsYm9keW1vdmluanMuc2VhcmNoQW5pbWF0aW9ucz1zZWFyY2hBbmltYXRpb25zLGJvZHltb3ZpbmpzLnJlZ2lzdGVyQW5pbWF0aW9uPXJlZ2lzdGVyQW5pbWF0aW9uLGJvZHltb3ZpbmpzLmxvYWRBbmltYXRpb249bG9hZEFuaW1hdGlvbixib2R5bW92aW5qcy5zZXRTdWJmcmFtZVJlbmRlcmluZz1zZXRTdWJmcmFtZVJlbmRlcmluZyxib2R5bW92aW5qcy5yZXNpemU9cmVzaXplLGJvZHltb3ZpbmpzLnN0YXJ0PXN0YXJ0LGJvZHltb3ZpbmpzLmdvVG9BbmRTdG9wPWdvVG9BbmRTdG9wLGJvZHltb3ZpbmpzLmRlc3Ryb3k9ZGVzdHJveSxib2R5bW92aW5qcy5zZXRRdWFsaXR5PXNldFF1YWxpdHksYm9keW1vdmluanMuaW5Ccm93c2VyPWluQnJvd3Nlcixib2R5bW92aW5qcy5pbnN0YWxsUGx1Z2luPWluc3RhbGxQbHVnaW4sYm9keW1vdmluanMuX19nZXRGYWN0b3J5PWdldEZhY3RvcnksYm9keW1vdmluanMudmVyc2lvbj1cIjQuMTAuMVwiO3ZhciBzdGFuZGFsb25lPVwiX19bU1RBTkRBTE9ORV1fX1wiLGFuaW1hdGlvbkRhdGE9XCJfX1tBTklNQVRJT05EQVRBXV9fXCIscmVuZGVyZXI9XCJcIjtpZihzdGFuZGFsb25lKXt2YXIgc2NyaXB0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxpbmRleD1zY3JpcHRzLmxlbmd0aC0xLG15U2NyaXB0PXNjcmlwdHNbaW5kZXhdfHx7c3JjOlwiXCJ9LHF1ZXJ5U3RyaW5nPW15U2NyaXB0LnNyYy5yZXBsYWNlKC9eW15cXD9dK1xcPz8vLFwiXCIpO3JlbmRlcmVyPWdldFF1ZXJ5VmFyaWFibGUoXCJyZW5kZXJlclwiKX12YXIgcmVhZHlTdGF0ZUNoZWNrSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoY2hlY2tSZWFkeSwxMDApO3JldHVybiBib2R5bW92aW5qc30pO1xuIiwiIyMjXG5Cb2R5bW92aW5MYXllclxuLVxuSW1wbGVtZW50YXRpb24gb2YgSGVybmFuIFRvcnJpc2kncyBcIkJvZHltb3ZpblwiIHBsdWdpbiwgZm9yIEZyYW1lci5cbmJ5IEA3Mm1lbmFcbiMjI1xuXG4jIElOQ0xVREUgTElCUkFSWSDigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJRcbmluc2VydFNjcmlwdCA9IChsb2NhbFNjcmlwdCwgd2ViU2NyaXB0LCBuYW1lID0gJ0phdmFTY3JpcHQgTGlicmFyeScpIC0+XG5cdHRyeVxuXHRcdGxpYiA9IFV0aWxzLmRvbUxvYWREYXRhU3luYyBsb2NhbFNjcmlwdFxuXHRcdGNvbnNvbGUubG9nIFwiJWMje25hbWV9IFN1Y2Nlc3NmdWxseSBJbmNsdWRlZCBMb2NhbGx5XCIsIFwiYmFja2dyb3VuZDogI0RERkZFMzsgY29sb3I6ICMwMDc4MTRcIlxuXHRjYXRjaCBlXG5cdFx0dHJ5XG5cdFx0XHRsaWIgPSBVdGlscy5kb21Mb2FkRGF0YVN5bmMgd2ViU2NyaXB0XG5cdFx0XHRjb25zb2xlLmxvZyBcIiVjI3tuYW1lfSBTdWNjZXNzZnVsbHkgSW5jbHVkZWQgZnJvbSBXZWJcIiwgXCJiYWNrZ3JvdW5kOiAjRERGRkUzOyBjb2xvcjogIzAwNzgxNFwiXG5cdFx0Y2F0Y2ggZVxuXHRcdFx0dGhyb3cgRXJyb3IoXCJTb3JyeSwgSSBjb3VsZG4ndCBsb2FkICN7bmFtZX1cIilcblxuXG5cdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzY3JpcHRcIlxuXHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCJcblx0c2NyaXB0LmlubmVySFRNTCA9IGxpYlxuXG5cdGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF1cblx0aGVhZC5hcHBlbmRDaGlsZCBzY3JpcHRcblxuXHRzY3JpcHRcblxuaW5zZXJ0U2NyaXB0KFwibW9kdWxlcy9ib2R5bW92aW4ubWluLmpzXCIsIFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2JvZHltb3Zpbi9ib2R5bW92aW4vbWFzdGVyL2J1aWxkL3BsYXllci9ib2R5bW92aW4ubWluLmpzXCIsIFwiQm9keW1vdmluIExpYnJhcnlcIilcblxuXG4jIEJPRFlNT1ZJTiBMQVlFUiDigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJRcbmNsYXNzIGV4cG9ydHMuQm9keW1vdmluTGF5ZXIgZXh0ZW5kcyBMYXllclxuXG5cdEBkZWZpbmUgXCJzcGVlZFwiLFxuXHRcdGdldDogLT4gQF9wcm9wZXJ0aWVzW1wic3BlZWRcIl1cblx0XHRzZXQ6ICh2YWx1ZSkgLT5cblx0XHRcdEBfcHJvcGVydGllc1tcInNwZWVkXCJdID0gdmFsdWVcblx0XHRcdEBzZXRTcGVlZCh2YWx1ZSkgaWYgQGJ1aWx0XG5cdFx0XHRAZW1pdCBcImNoYW5nZTpzcGVlZFwiXG5cblx0QGRlZmluZSBcImRpcmVjdGlvblwiLFxuXHRcdGdldDogLT4gQF9wcm9wZXJ0aWVzW1wiZGlyZWN0aW9uXCJdXG5cdFx0c2V0OiAodmFsdWUpIC0+XG5cdFx0XHRAX3Byb3BlcnRpZXNbXCJkaXJlY3Rpb25cIl0gPSB2YWx1ZVxuXHRcdFx0QHNldERpcmVjdGlvbih2YWx1ZSkgaWYgQGJ1aWx0XG5cdFx0XHRAZW1pdCBcImNoYW5nZTpkaXJlY3Rpb25cIlxuXG5cdEBkZWZpbmUgXCJwYXRoXCIsXG5cdFx0Z2V0OiAtPiBAX3Byb3BlcnRpZXNbXCJwYXRoXCJdXG5cdFx0c2V0OiAodmFsdWUpIC0+XG5cdFx0XHRAX3Byb3BlcnRpZXNbXCJwYXRoXCJdID0gdmFsdWVcblx0XHRcdEBzZXRTZXR0aW5ncygpIGlmIEBidWlsdFxuXHRcdFx0QGVtaXQgXCJjaGFuZ2U6cGF0aFwiXG5cblxuXHRjb25zdHJ1Y3RvcjogKEBvcHRpb25zPXt9KSAtPlxuXHRcdCMgRGVmYXVsdHNcblx0XHRAb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgPz0gbnVsbFxuXHRcdEBvcHRpb25zLnBhdGggPz0gbnVsbFxuXHRcdEBvcHRpb25zLmF1dG9wbGF5ID89IHRydWVcblx0XHRAb3B0aW9ucy5sb29wID89IHRydWVcblx0XHRAb3B0aW9ucy5zcGVlZCA/PSAxXG5cdFx0QG9wdGlvbnMuZGlyZWN0aW9uID89IDFcblx0XHRAb3B0aW9ucy5yZW5kZXJlciA/PSBcInN2Z1wiXG5cblx0XHRzdXBlciBAb3B0aW9uc1xuXG5cdFx0aWYgQG9wdGlvbnMucGF0aCBpcyBudWxsXG5cdFx0XHRwcmludCBcIkZyb20gQm9keW1vdmluTGF5ZXI6IFNldHRpbmcgYSBwYXRoIHRvIHlvdXIganNvbiBmaWxlIGlzIHJlcXVpcmVkLlwiXG5cdFx0aWYgQG5hbWUgaXMgXCJcIlxuXHRcdFx0cHJpbnQgXCJGcm9tIEJvZHltb3ZpbkxheWVyOiBUaGUgJ25hbWUnIGF0dHJpYnV0ZSBpcyByZXF1aXJlZC5cIlxuXG5cdFx0I1Nob3J0Y3V0c1xuXHRcdEBhdXRvcGxheSA9IEBvcHRpb25zLmF1dG9wbGF5XG5cdFx0QGxvb3AgPSBAb3B0aW9ucy5sb29wXG5cdFx0QHJlbmRlcmVyID0gQG9wdGlvbnMucmVuZGVyZXJcblxuXHRcdCNWYXJzXG5cdFx0QGJ1aWx0ID0gZmFsc2Vcblx0XHRAX2FuaW1hdGlvbkxheWVyID0gbnVsbFxuXG5cdFx0I1J1blxuXHRcdEBidWlsZCgpXG5cblx0YnVpbGQ6ICgpIC0+XG5cdFx0QGh0bWwgPSAnPGRpdiBpZD0nK1wiI3tAbmFtZX1cIisnPjwvZGl2Pidcblx0XHRAc2V0U2V0dGluZ3MoKVxuXHRcdEBidWlsdCA9IHRydWVcblxuXHRzZXRTZXR0aW5nczogKCkgLT5cblx0XHRfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQG5hbWUpXG5cdFx0X2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXG5cblx0XHRib2R5bW92aW5TZXR0aW5ncyA9XG5cdFx0XHRjb250YWluZXI6IF9jb250YWluZXIsXG5cdFx0XHRwYXRoOiBAcGF0aCxcblx0XHRcdHJlbmRlcmVyOiBAcmVuZGVyZXIsXG5cdFx0XHRhdXRvcGxheTogQGF1dG9wbGF5LFxuXHRcdFx0bG9vcDogQGxvb3BcblxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIgPSBib2R5bW92aW4ubG9hZEFuaW1hdGlvbihib2R5bW92aW5TZXR0aW5ncyk7XG5cdFx0QHNldFNwZWVkKClcblx0XHRAc2V0RGlyZWN0aW9uKClcblxuXHRwbGF5OiAoKSAtPlxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIucGxheSgpXG5cdHN0b3A6ICgpIC0+XG5cdFx0QF9hbmltYXRpb25MYXllci5zdG9wKClcblx0cGF1c2U6ICgpIC0+XG5cdFx0QF9hbmltYXRpb25MYXllci5wYXVzZSgpXG5cdGdvVG9BbmRQbGF5OiAodmFsdWUsIGlzRnJhbWUpIC0+XG5cdFx0aXNGcmFtZSA/PSB0cnVlXG5cdFx0QF9hbmltYXRpb25MYXllci5nb1RvQW5kUGxheSh2YWx1ZSwgaXNGcmFtZSlcblx0Z29Ub0FuZFN0b3A6ICh2YWx1ZSwgaXNGcmFtZSkgLT5cblx0XHRpc0ZyYW1lID89IHRydWVcblx0XHRAX2FuaW1hdGlvbkxheWVyLmdvVG9BbmRTdG9wKHZhbHVlLCBpc0ZyYW1lKVxuXHRwbGF5U2VnbWVudHM6IChzZWdtZW50cywgZm9yY2VGbGFnKSAtPlxuXHRcdGZvcmNlRmxhZyA/PSB0cnVlXG5cdFx0QF9hbmltYXRpb25MYXllci5wbGF5U2VnbWVudHMoc2VnbWVudHMsIGZvcmNlRmxhZylcblx0c2V0U3BlZWQ6IChzcGVlZCkgLT5cblx0XHRzcGVlZCA/PSBAc3BlZWRcblx0XHRAX2FuaW1hdGlvbkxheWVyLnNldFNwZWVkKHNwZWVkKVxuXHRzZXREaXJlY3Rpb246IChkaXJlY3Rpb24pIC0+XG5cdFx0ZGlyZWN0aW9uID89IEBkaXJlY3Rpb25cblx0XHRAX2FuaW1hdGlvbkxheWVyLnNldERpcmVjdGlvbihkaXJlY3Rpb24pXG4iLCIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUdBQTs7QURBQTs7Ozs7O0FBQUEsSUFBQSxZQUFBO0VBQUE7OztBQVFBLFlBQUEsR0FBZSxTQUFDLFdBQUQsRUFBYyxTQUFkLEVBQXlCLElBQXpCO0FBQ2QsTUFBQTs7SUFEdUMsT0FBTzs7QUFDOUM7SUFDQyxHQUFBLEdBQU0sS0FBSyxDQUFDLGVBQU4sQ0FBc0IsV0FBdEI7SUFDTixPQUFPLENBQUMsR0FBUixDQUFZLElBQUEsR0FBSyxJQUFMLEdBQVUsZ0NBQXRCLEVBQXVELHFDQUF2RCxFQUZEO0dBQUEsYUFBQTtJQUdNO0FBQ0w7TUFDQyxHQUFBLEdBQU0sS0FBSyxDQUFDLGVBQU4sQ0FBc0IsU0FBdEI7TUFDTixPQUFPLENBQUMsR0FBUixDQUFZLElBQUEsR0FBSyxJQUFMLEdBQVUsaUNBQXRCLEVBQXdELHFDQUF4RCxFQUZEO0tBQUEsYUFBQTtNQUdNO0FBQ0wsWUFBTSxLQUFBLENBQU0seUJBQUEsR0FBMEIsSUFBaEMsRUFKUDtLQUpEOztFQVdBLE1BQUEsR0FBUyxRQUFRLENBQUMsYUFBVCxDQUF1QixRQUF2QjtFQUNULE1BQU0sQ0FBQyxJQUFQLEdBQWM7RUFDZCxNQUFNLENBQUMsU0FBUCxHQUFtQjtFQUVuQixJQUFBLEdBQU8sUUFBUSxDQUFDLG9CQUFULENBQThCLE1BQTlCLENBQXNDLENBQUEsQ0FBQTtFQUM3QyxJQUFJLENBQUMsV0FBTCxDQUFpQixNQUFqQjtTQUVBO0FBbkJjOztBQXFCZixZQUFBLENBQWEsMEJBQWIsRUFBeUMsNEZBQXpDLEVBQXVJLG1CQUF2STs7QUFJTSxPQUFPLENBQUM7OztFQUViLGNBQUMsQ0FBQSxNQUFELENBQVEsT0FBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsV0FBWSxDQUFBLE9BQUE7SUFBaEIsQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7TUFDSixJQUFDLENBQUEsV0FBWSxDQUFBLE9BQUEsQ0FBYixHQUF3QjtNQUN4QixJQUFvQixJQUFDLENBQUEsS0FBckI7UUFBQSxJQUFDLENBQUEsUUFBRCxDQUFVLEtBQVYsRUFBQTs7YUFDQSxJQUFDLENBQUEsSUFBRCxDQUFNLGNBQU47SUFISSxDQURMO0dBREQ7O0VBT0EsY0FBQyxDQUFBLE1BQUQsQ0FBUSxXQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxXQUFZLENBQUEsV0FBQTtJQUFoQixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUNKLElBQUMsQ0FBQSxXQUFZLENBQUEsV0FBQSxDQUFiLEdBQTRCO01BQzVCLElBQXdCLElBQUMsQ0FBQSxLQUF6QjtRQUFBLElBQUMsQ0FBQSxZQUFELENBQWMsS0FBZCxFQUFBOzthQUNBLElBQUMsQ0FBQSxJQUFELENBQU0sa0JBQU47SUFISSxDQURMO0dBREQ7O0VBT0EsY0FBQyxDQUFBLE1BQUQsQ0FBUSxNQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxXQUFZLENBQUEsTUFBQTtJQUFoQixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUNKLElBQUMsQ0FBQSxXQUFZLENBQUEsTUFBQSxDQUFiLEdBQXVCO01BQ3ZCLElBQWtCLElBQUMsQ0FBQSxLQUFuQjtRQUFBLElBQUMsQ0FBQSxXQUFELENBQUEsRUFBQTs7YUFDQSxJQUFDLENBQUEsSUFBRCxDQUFNLGFBQU47SUFISSxDQURMO0dBREQ7O0VBUWEsd0JBQUMsT0FBRDtBQUVaLFFBQUE7SUFGYSxJQUFDLENBQUEsNEJBQUQsVUFBUzs7VUFFZCxDQUFDLGtCQUFtQjs7O1dBQ3BCLENBQUMsT0FBUTs7O1dBQ1QsQ0FBQyxXQUFZOzs7V0FDYixDQUFDLE9BQVE7OztXQUNULENBQUMsUUFBUzs7O1dBQ1YsQ0FBQyxZQUFhOzs7V0FDZCxDQUFDLFdBQVk7O0lBRXJCLGdEQUFNLElBQUMsQ0FBQSxPQUFQO0lBRUEsSUFBRyxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsS0FBaUIsSUFBcEI7TUFDQyxLQUFBLENBQU0sb0VBQU4sRUFERDs7SUFFQSxJQUFHLElBQUMsQ0FBQSxJQUFELEtBQVMsRUFBWjtNQUNDLEtBQUEsQ0FBTSx3REFBTixFQUREOztJQUlBLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLE9BQU8sQ0FBQztJQUNyQixJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQSxPQUFPLENBQUM7SUFDakIsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFDLENBQUEsT0FBTyxDQUFDO0lBR3JCLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsZUFBRCxHQUFtQjtJQUduQixJQUFDLENBQUEsS0FBRCxDQUFBO0VBM0JZOzsyQkE2QmIsS0FBQSxHQUFPLFNBQUE7SUFDTixJQUFDLENBQUEsSUFBRCxHQUFRLFVBQUEsR0FBVyxDQUFBLEVBQUEsR0FBRyxJQUFDLENBQUEsSUFBSixDQUFYLEdBQXNCO0lBQzlCLElBQUMsQ0FBQSxXQUFELENBQUE7V0FDQSxJQUFDLENBQUEsS0FBRCxHQUFTO0VBSEg7OzJCQUtQLFdBQUEsR0FBYSxTQUFBO0FBQ1osUUFBQTtJQUFBLFVBQUEsR0FBYSxRQUFRLENBQUMsY0FBVCxDQUF3QixJQUFDLENBQUEsSUFBekI7SUFDYixVQUFVLENBQUMsU0FBWCxHQUF1QjtJQUV2QixpQkFBQSxHQUNDO01BQUEsU0FBQSxFQUFXLFVBQVg7TUFDQSxJQUFBLEVBQU0sSUFBQyxDQUFBLElBRFA7TUFFQSxRQUFBLEVBQVUsSUFBQyxDQUFBLFFBRlg7TUFHQSxRQUFBLEVBQVUsSUFBQyxDQUFBLFFBSFg7TUFJQSxJQUFBLEVBQU0sSUFBQyxDQUFBLElBSlA7O0lBTUQsSUFBQyxDQUFBLGVBQUQsR0FBbUIsU0FBUyxDQUFDLGFBQVYsQ0FBd0IsaUJBQXhCO0lBQ25CLElBQUMsQ0FBQSxRQUFELENBQUE7V0FDQSxJQUFDLENBQUEsWUFBRCxDQUFBO0VBYlk7OzJCQWViLElBQUEsR0FBTSxTQUFBO1dBQ0wsSUFBQyxDQUFBLGVBQWUsQ0FBQyxJQUFqQixDQUFBO0VBREs7OzJCQUVOLElBQUEsR0FBTSxTQUFBO1dBQ0wsSUFBQyxDQUFBLGVBQWUsQ0FBQyxJQUFqQixDQUFBO0VBREs7OzJCQUVOLEtBQUEsR0FBTyxTQUFBO1dBQ04sSUFBQyxDQUFBLGVBQWUsQ0FBQyxLQUFqQixDQUFBO0VBRE07OzJCQUVQLFdBQUEsR0FBYSxTQUFDLEtBQUQsRUFBUSxPQUFSOztNQUNaLFVBQVc7O1dBQ1gsSUFBQyxDQUFBLGVBQWUsQ0FBQyxXQUFqQixDQUE2QixLQUE3QixFQUFvQyxPQUFwQztFQUZZOzsyQkFHYixXQUFBLEdBQWEsU0FBQyxLQUFELEVBQVEsT0FBUjs7TUFDWixVQUFXOztXQUNYLElBQUMsQ0FBQSxlQUFlLENBQUMsV0FBakIsQ0FBNkIsS0FBN0IsRUFBb0MsT0FBcEM7RUFGWTs7MkJBR2IsWUFBQSxHQUFjLFNBQUMsUUFBRCxFQUFXLFNBQVg7O01BQ2IsWUFBYTs7V0FDYixJQUFDLENBQUEsZUFBZSxDQUFDLFlBQWpCLENBQThCLFFBQTlCLEVBQXdDLFNBQXhDO0VBRmE7OzJCQUdkLFFBQUEsR0FBVSxTQUFDLEtBQUQ7O01BQ1QsUUFBUyxJQUFDLENBQUE7O1dBQ1YsSUFBQyxDQUFBLGVBQWUsQ0FBQyxRQUFqQixDQUEwQixLQUExQjtFQUZTOzsyQkFHVixZQUFBLEdBQWMsU0FBQyxTQUFEOztNQUNiLFlBQWEsSUFBQyxDQUFBOztXQUNkLElBQUMsQ0FBQSxlQUFlLENBQUMsWUFBakIsQ0FBOEIsU0FBOUI7RUFGYTs7OztHQTNGc0I7Ozs7QURqQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBRGZBLElBQUEsd0JBQUE7RUFBQTs7O0FBQUEsT0FBTyxDQUFDLGFBQVIsR0FBNEIsSUFBQSxLQUFBLENBQzNCO0VBQUEsQ0FBQSxFQUFFLENBQUY7RUFBSyxDQUFBLEVBQUUsTUFBTSxDQUFDLE1BQWQ7RUFBc0IsS0FBQSxFQUFNLE1BQU0sQ0FBQyxLQUFuQztFQUEwQyxNQUFBLEVBQU8sR0FBakQ7RUFDQSxJQUFBLEVBQUssd0RBREw7Q0FEMkI7O0FBSzVCLFdBQUEsR0FBYyxNQUFNLENBQUMsS0FBUCxHQUFlOztBQUM3QixXQUFBLEdBQWMsV0FBQSxHQUFjOztBQUU1QixPQUFPLENBQUMsYUFBYSxDQUFDLE1BQXRCLEdBQ0M7RUFBQSxLQUFBLEVBQ0M7SUFBQSxDQUFBLEVBQUcsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsV0FBbkI7R0FERDs7O0FBR0QsT0FBTyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsZ0JBQTdCLEdBQ0M7RUFBQSxLQUFBLEVBQU8sbUJBQVA7OztBQUVLLE9BQU8sQ0FBQzs7O0VBQ2IsS0FBQyxDQUFBLE1BQUQsQ0FBUSxPQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxLQUFLLENBQUM7SUFBVixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDthQUNKLENBQUMsQ0FBQyxNQUFGLENBQVMsSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFoQixFQUF1QixLQUF2QjtJQURJLENBREw7R0FERDs7RUFLQSxLQUFDLENBQUEsTUFBRCxDQUFRLE9BQVIsRUFDQztJQUFBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBLEtBQUssQ0FBQztJQUFWLENBQUw7SUFDQSxHQUFBLEVBQUssU0FBQyxLQUFEO2FBQ0osSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFQLEdBQWU7SUFEWCxDQURMO0dBREQ7O0VBS2EsZUFBQyxPQUFEOztNQUFDLFVBQVU7OztNQUN2QixPQUFPLENBQUMsUUFBUzs7O01BQ2pCLE9BQU8sQ0FBQyxRQUFTLE1BQU0sQ0FBQzs7O01BQ3hCLE9BQU8sQ0FBQyxPQUFROzs7TUFDaEIsT0FBTyxDQUFDLFNBQVU7OztNQUNsQixPQUFPLENBQUMsa0JBQXNCLE9BQU8sQ0FBQyxLQUFYLEdBQXNCLHVCQUF0QixHQUFtRDs7O01BQzlFLE9BQU8sQ0FBQyxXQUFZOzs7TUFDcEIsT0FBTyxDQUFDLGFBQWM7OztNQUN0QixPQUFPLENBQUMsVUFBVzs7O01BQ25CLE9BQU8sQ0FBQyxPQUFROzs7TUFDaEIsT0FBTyxDQUFDLGNBQWU7OztNQUN2QixPQUFPLENBQUMsa0JBQXNCLEtBQUssQ0FBQyxRQUFOLENBQUEsQ0FBSCxHQUF5QixLQUF6QixHQUFvQzs7O01BQy9ELE9BQU8sQ0FBQyxPQUFROzs7TUFDaEIsT0FBTyxDQUFDLFdBQVk7OztNQUNwQixPQUFPLENBQUMsY0FBZTs7O01BQ3ZCLE9BQU8sQ0FBQyxlQUFnQjs7O01BQ3hCLE9BQU8sQ0FBQyxpQkFBa0I7OztNQUMxQixPQUFPLENBQUMsYUFBYzs7O01BQ3RCLE9BQU8sQ0FBQyxZQUFhOztJQUVyQix1Q0FBTSxPQUFOO0lBRUEsSUFBZ0QsZ0NBQWhEO01BQUEsSUFBQyxDQUFBLGdCQUFELEdBQW9CLE9BQU8sQ0FBQyxpQkFBNUI7O0lBQ0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxRQUFRLENBQUMsYUFBVCxDQUF1QixPQUF2QjtJQUNULElBQUMsQ0FBQSxLQUFLLENBQUMsRUFBUCxHQUFZLFFBQUEsR0FBUSxDQUFDLENBQUMsQ0FBQyxHQUFGLENBQUEsQ0FBRDtJQUNwQixJQUFDLENBQUEsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFiLEdBQXVCLDRCQUFBLEdBQTZCLE9BQU8sQ0FBQyxRQUFyQyxHQUE4QyxtQkFBOUMsR0FBaUUsT0FBTyxDQUFDLFVBQXpFLEdBQW9GLGVBQXBGLEdBQW1HLE9BQU8sQ0FBQyxPQUEzRyxHQUFtSCxhQUFuSCxHQUFnSSxPQUFPLENBQUMsS0FBeEksR0FBOEksY0FBOUksR0FBNEosT0FBTyxDQUFDLE1BQXBLLEdBQTJLLDBFQUEzSyxHQUFxUCxPQUFPLENBQUMsZUFBN1AsR0FBNlE7SUFDcFMsSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFQLEdBQWUsT0FBTyxDQUFDO0lBQ3ZCLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxHQUFjLE9BQU8sQ0FBQztJQUN0QixJQUFDLENBQUEsS0FBSyxDQUFDLFdBQVAsR0FBcUIsT0FBTyxDQUFDO0lBQzdCLElBQUMsQ0FBQSxLQUFLLENBQUMsWUFBUCxDQUFvQixhQUFwQixFQUFtQyxPQUFPLENBQUMsV0FBM0M7SUFDQSxJQUFDLENBQUEsS0FBSyxDQUFDLFlBQVAsQ0FBb0IsY0FBcEIsRUFBb0MsT0FBTyxDQUFDLFlBQTVDO0lBQ0EsSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFQLENBQW9CLGdCQUFwQixFQUFzQyxPQUFPLENBQUMsY0FBOUM7SUFDQSxJQUFHLE9BQU8sQ0FBQyxTQUFSLEtBQXFCLElBQXhCO01BQ0MsSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFQLENBQW9CLFdBQXBCLEVBQWlDLElBQWpDLEVBREQ7O0lBRUEsSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFQLENBQW9CLFlBQXBCLEVBQWtDLE9BQU8sQ0FBQyxVQUExQztJQUNBLElBQUMsQ0FBQSxJQUFELEdBQVEsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsTUFBdkI7SUFFUixJQUFHLE9BQU8sQ0FBQyxRQUFYO01BQ0MsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFOLEdBQWU7TUFDZixJQUFDLENBQUEsSUFBSSxDQUFDLGdCQUFOLENBQXVCLFFBQXZCLEVBQWlDLFNBQUMsS0FBRDtlQUNoQyxLQUFLLENBQUMsY0FBTixDQUFBO01BRGdDLENBQWpDLEVBRkQ7O0lBS0EsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLENBQWtCLElBQUMsQ0FBQSxLQUFuQjtJQUNBLElBQUMsQ0FBQSxRQUFRLENBQUMsV0FBVixDQUFzQixJQUFDLENBQUEsSUFBdkI7SUFFQSxJQUFDLENBQUEsZUFBRCxHQUFtQjtJQUNuQixJQUFvRCxJQUFDLENBQUEsZ0JBQXJEO01BQUEsSUFBQyxDQUFBLHNCQUFELENBQXdCLE9BQU8sQ0FBQyxnQkFBaEMsRUFBQTs7SUFJQSxJQUFHLENBQUMsS0FBSyxDQUFDLFFBQU4sQ0FBQSxDQUFELElBQXFCLE9BQU8sQ0FBQyxlQUFSLEtBQTJCLElBQW5EO01BQ0MsSUFBQyxDQUFBLEtBQUssQ0FBQyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxTQUFBO1FBQ2hDLE9BQU8sQ0FBQyxhQUFhLENBQUMsWUFBdEIsQ0FBQTtlQUNBLE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBdEIsQ0FBQTtNQUZnQyxDQUFqQztNQUdBLElBQUMsQ0FBQSxLQUFLLENBQUMsZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsU0FBQTtlQUMvQixPQUFPLENBQUMsYUFBYSxDQUFDLE9BQXRCLENBQThCLFNBQTlCO01BRCtCLENBQWhDLEVBSkQ7O0VBbERZOztrQkF5RGIsc0JBQUEsR0FBd0IsU0FBQyxLQUFEO0FBQ3ZCLFFBQUE7SUFBQSxJQUFDLENBQUEsZ0JBQUQsR0FBb0I7SUFDcEIsSUFBRyxzQkFBSDtNQUNDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBZCxDQUEwQixJQUFDLENBQUEsU0FBM0IsRUFERDs7SUFFQSxJQUFDLENBQUEsU0FBRCxHQUFhLFFBQVEsQ0FBQyxhQUFULENBQXVCLE9BQXZCO0lBQ2IsSUFBQyxDQUFBLFNBQVMsQ0FBQyxJQUFYLEdBQWtCO0lBQ2xCLEdBQUEsR0FBTSxHQUFBLEdBQUksSUFBQyxDQUFBLEtBQUssQ0FBQyxFQUFYLEdBQWMsdUNBQWQsR0FBcUQsSUFBQyxDQUFBLGdCQUF0RCxHQUF1RTtJQUM3RSxJQUFDLENBQUEsU0FBUyxDQUFDLFdBQVgsQ0FBdUIsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsR0FBeEIsQ0FBdkI7V0FDQSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQWQsQ0FBMEIsSUFBQyxDQUFBLFNBQTNCO0VBUnVCOztrQkFVeEIsS0FBQSxHQUFPLFNBQUE7V0FDTixJQUFDLENBQUEsS0FBSyxDQUFDLEtBQVAsQ0FBQTtFQURNOztrQkFHUCxPQUFBLEdBQVMsU0FBQyxFQUFEO1dBQ1IsSUFBQyxDQUFBLEtBQUssQ0FBQyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxTQUFBO2FBQ2hDLEVBQUUsQ0FBQyxLQUFILENBQVMsSUFBVDtJQURnQyxDQUFqQztFQURROztrQkFJVCxNQUFBLEdBQVEsU0FBQyxFQUFEO1dBQ1AsSUFBQyxDQUFBLEtBQUssQ0FBQyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxTQUFBO2FBQy9CLEVBQUUsQ0FBQyxLQUFILENBQVMsSUFBVDtJQUQrQixDQUFoQztFQURPOzs7O0dBckZtQiJ9
